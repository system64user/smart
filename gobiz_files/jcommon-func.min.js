/**
* Common Data Handler @ Auth Cracky
* depend on jquery libaray
* 
* html 태그 처리 관련 스크립트 
*/


function gfn_transArray(n,t,e){if("string"==typeof n)return e?jQuery.grep(n.split(t),e(str)):n.split(t);if(jQuery.isArray(n)){if("object"==typeof n[0]){for(var r=[],a=0;a<n.length;a++)e?e(n[a])&&r.push(n[a][t]):r.push(n[a][t]);return r}return e?jQuery.grep(n,e(value)):n}if("object"==typeof n){r=[];for(var i in n){var f=null;return t?f=n[i][t]:(f=n[i],e?e(f)&&r.push(f):r.push(f)),r}}}function lfn_makeInitSelectSource(n,t,e){var r=[];if(isNotEmpty(t))for(var a=t.split(","),i=0;i<a.length;i++){var f=a[i].split(":")[0],s=a[i].split(":")[1];jQuery.trim(e)==jQuery.trim(f)?$(n).append($("<option value='"+f+"' selected>").text(s)):$(n).append($("<option value='"+f+"'>").text(s))}return r}function gfn_makeSelect(n,t,e,r){e||(e=lfn_emptyKey());var a=e.split(",")[0],i=e.split(",")[1];jQuery(t).each(function(t,e){isNotEmpty(e[a])&&(jQuery.trim(r)==jQuery.trim(e[a])?$(n).append($("<option value='"+e[a]+"' selected>").text(e[i])):$(n).append($("<option value='"+e[a]+"'>").text(e[i])))})}function gfn_makeDataSet(n,t,e){if(n){for(var r=[],a=gfn_transArray(n,","),i=0;i<a.length;i++){var f=a[i].split(":"),s="",u="";f.length<=1?(s=a[i],u=a[i]):(s=f[0],u=f[1]),r.push({pValueKey:s,pTextKey:u})}return r}}function gfn_makeSequenceNumDataSet(n,t,e){for(var r=t?n:0,a=t||n,i=r<a,f=e||1,s=[],u=r;i?u<=a:u>=a;)s.push({value:u,text:u}),u+=i?1*f:-1*f;return s}function lfn_emptyKey(){return"value,text"}function gfn_getTagName(n){return void 0!=n?n[0].getTagName:null}function lfn_bindAddEvt(n,t,e){jQuery("#"+t).bind("click",function(){lfn_removeClone(n,jQuery("#"+e.attr("id")))})}function lfn_removeClone(n,t){"1"!=jQuery(".dynJoyClones_"+n).size()?t.remove():gfn_errorMsg("최소 한 로우 이상의 데이터를 입력해야 합니다.")}function gfn_addDynRow(n,t){var e=jQuery("#"+n),r=lfn_getDynJsn(n),a=r.clone().attr("id",lfn_makeDynamicId(r.attr("id"),lfn_getDynCount(n)));a.addClass("dynJoyClones_"+n),gfn_changeElementsId(a,n),e.append(a),lfn_bindAddEvt(n,lfn_makeDynamicId(t,lfn_getDynCount(n)),a),lfn_setDynCount(n)}function gfn_addInitEvent(n,t){var e=jQuery("#"+n),r=gfn_getTagName(e),a=null;"table"==r.toLowerCase()?(a=e.find("tr").last(),isNotEmpty(a.attr("id"))||a.attr("id",lfn_makeDynamicId(e.attr("id"),lfn_getDynCount(n)))):a=(a=e.children(r).eq(0)).attr("id",lfn_makeDynamicId(e.attr("id"),lfn_getDynCount(n))),a.addClass("dynJoyClones_"+n),lfn_setDynJsn(n,a),lfn_bindAddEvt(n,t,a),lfn_setDynCount(n)}function gfn_addInitModifyEvent(n,t){var e=jQuery("#"+n),r=gfn_getTagName(e);"table"==r.toLowerCase()?lfn_iterElements(n,t,e.find("tr:gt(0)"),e.attr("id")):lfn_iterElements(n,t,e.children(r),e.attr("id"))}function lfn_iterElements(n,t,e,r){jQuery.each(e,function(){var e=jQuery(this);e.attr("id",lfn_makeDynamicId(r,lfn_getDynCount(n))),e.addClass("dynJoyClones_"+n),gfn_changeModyfyElementsId(e,n),lfn_setDynJsn(n,e),lfn_bindAddEvt(n,lfn_makeDynamicId(t,lfn_getDynCount(n)),e),lfn_setDynCount(n)})}function lfn_getDynJsn(n){return _dynJsn[n]}function lfn_getDynCount(n){var t=_dynJsn[n+"_count"];return null!=t&&""!=t&&void 0!=t||(t=0),t}function lfn_setDynJsn(n,t){_dynJsn[n]=t}function lfn_setDynJsn(n,t){_dynJsn[n]=t}function lfn_setDynCount(n){var t=_dynJsn[n+"_count"];null!=t&&""!=t&&void 0!=t||(t=0),_dynJsn[n+"_count"]=t+1}function gfn_getTagName(n){return void 0!=n&&""!=n&&null!=n?n[0].tagName:null}function lfn_makeDynamicId(n,t){if(null!=n&&""!=n&&void 0!=n){for(var e=n.split("_"),r="",a=0;a<e.length-1;a++)r+=e[a],a==e.length-1&&(r+="_");return r=isNotEmpty(r)?r:n,r=r+"_"+t}return n+"_"+t}function gfn_changeElementsId(n,t){jQuery.each(n.find("input,select,textarea,a"),function(){if(null!=jQuery(this).attr("id")&&void 0!=jQuery(this).attr("id")){"button"!=jQuery(this).attr("type")&&(jQuery(this).hasClass("override")||$(this).val(""));var n=$(this).attr("id");jQuery(this).attr("id",lfn_makeDynamicId(n,lfn_getDynCount(t))),jQuery(this).addClass("dynJoyClonesElements_"+t)}})}function gfn_changeModyfyElementsId(n,t){jQuery.each(n.find("input,select,textarea,a"),function(){if(null!=jQuery(this).attr("id")&&void 0!=jQuery(this).attr("id")){var n=$(this).attr("id");jQuery(this).attr("id",lfn_makeDynamicId(n,lfn_getDynCount(t))),jQuery(this).addClass("dynJoyClonesElements_"+t)}})}function gfn_findDyClass(n){return"dynJoyClonesElements_"+n}var JCodeManager={setData:function(n,t,e){this[n]&&jQuery.isArray(this[n])?this[n]=e?this[n].concat(t.concat(e)):this[n].concat(t):this[n]=e?t.concat(e):t},init:function(n,t,e){_self=this;var r=jQuery.Deferred();return _self[n]?jQuery.isArray(_self[n])?(_self.setData(_self[n],e),r.resolve()):jQuery.ajax({url:_self[n],dataType:"json",success:function(t){_self.setData(n,t,e),r.resolve()},fail:function(){_self.setData(n,[],e),r.resolve()}}):t?jQuery.ajax({url:t,dataType:"json",success:function(t){_self.setData(n,t,e),r.resolve()},fail:function(){_self.setData(n,[],e),r.resolve()}}):(_self.setData(n,[],e),r.resolve()),r.promise()},reload:function(n,t,e){_self=this;var r=jQuery.Deferred();return _self[n]=null,_self.init(n,t,e).done(function(){return r.resolve()}),r.promise()}},_dynJsn={};jQuery.fn.dynInitTag=function(n){gfn_addInitEvent($(this).attr("id"),n)},jQuery.fn.dynModInitTag=function(n){gfn_addInitModifyEvent($(this).attr("id"),n)},jQuery.fn.syncId=function(n,t){var e=$(this).attr("id"),r="string"==typeof n?n:$(n).getTagName();return t||!1?e+"_"+r:r+"_"+e},jQuery.fn.syncElem=function(n,t){return $("#"+$(this).syncId(n,t))},jQuery.fn.dataTag=function(){var n=$(this).attr("tag");return n||$(this).syncId("data_"+ +new Date)},jQuery.fn.certified=function(){var n=$(this).attr("certified");return!!n&&""!=n},jQuery.fn.dataSet=function(n){if($(this).attr("data"))return n||(n=lfn_emptyKey()),gfn_makeDataSet($(this).attr("data"),n.split(",")[0],n.split(",")[1])};
eval(function(p,a,c,k,e,r){e=function(c){return c.toString(a)};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('i h(a,b){3 c=\'\';2(6(a)){b=b==j||b==9?\'\':b;2(a.g(\'..\')==-1){c=a+":"+a+b}4{3 d=a.8(\'..\');2(6(d[1])){3 e=5(d[0]);3 f=5(d[1]);2(e>f){7(e;e>=f;e--){c+=e+":"+e+b+\',\'}}4{7(e;e<=f;e++){c+=e+":"+e+b+\',\';2(e-1<f){}}}c=c.k(0,c.l-1)}4{c=d[0]+":"+d[0]+b}}}m c}',23,23,'||if|var|else|parseInt|isNotEmpty|for|split|undefined|||||||indexOf|lfn_makeRangeSource|function|null|substring|length|return'.split('|'),0,{}))/*20170819*/