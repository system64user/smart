(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{72:function(r,o,e){var n,i;n=[e(0),e(1),e(2),e(79),e(96),e(84),e(85),e(76),e(21),e(86),e(81),e(75),e(82),e(87),e(78)],void 0===(i=function(r,o,e,n,i,a,t,s,l,d,u,c,p,h){function m(r){var o=[];return r>31536e3&&(o.push(inter.renderUnit(Math.floor(r/31536e3),"durationYear")),r%=31536e3),r>2592e3&&(o.push(inter.renderUnit(Math.floor(r/2592e3),"durationMonth")),r%=2592e3),r>604800&&(o.push(inter.renderUnit(Math.floor(r/604800),"durationWeek")),r%=604800),r>86400&&(o.push(inter.renderUnit(Math.floor(r/86400),"durationDay")),r%=86400),r>3600&&(o.push(inter.renderUnit(Math.floor(r/3600),"durationHour")),r%=3600),r>60&&(o.push(inter.renderUnit(Math.floor(r/60),"durationMinute")),r%=60),(r>0||0===o.length)&&o.push(inter.renderUnit(Math.floor(r),"durationSecond")),inter.renderList(o)}function y(){var r=this;r.backend=new n,r.loginForm=new a,r.errorHandler=new t,r.errorHandler.showError=r.showError.bind(r),r.actions=new i(r.backend,r.errorHandler),r.enterUsernameAndPassword=o.observable(!1),r.invalidEmail=o.observable(!1),r.invalidPassword=o.observable(!1),r.hasSubmitted=o.observable(!1),r.loginForm.username.subscribe((function(o){r.enterUsernameAndPassword(!1),r.invalidEmail(!1),r.loginForm.isLoginValid(!0)})),r.loginForm.password.subscribe((function(o){r.invalidPassword(!1),r.enterUsernameAndPassword(!1)})),r.notification=o.observable(null),r.errormsg=o.observable(null),p.updatePriority.subscribe((function(o){o>0&&r.backend.reload()})),h.start(),d();var e=l.getQueryParameters();r.rt=o.observable(e.rt||""),r.st=o.observable(e.st||"")}return y.prototype.showLogin=function(){r(".application .loginErrors").show(),c.msie||r("input.username").focus()},y.prototype.inputIsValid=function(){var r=this.loginForm.displayUsername,o=this.loginForm.password,e=r(),n=e.trim().toLowerCase();return e!==(n=r.isEmail()?u.emailIdn(n):u.domainIdn(n))&&r(n),r.isNotPresent()||o.isNotPresent()?(this.enterUsernameAndPassword(!0),!1):(this.invalidEmail(!r.isEmail()),!!r.isEmail()&&(!o.isNotValid()||(this.invalidPassword(!0),!1)))},y.prototype.userLogin=function(){if(this.inputIsValid()){this.notification(TR("login.Loading","Loading...")),this.hasSubmitted(!0),window.trackLoginViaGoogleTagManager&&window.trackLoginViaGoogleTagManager();try{r.cookie("OneUserHasAttemptedLogin",Math.floor(Date.now()/1e3),{path:"/",domain:/one.com$/.test(window.location.hostname)?".one.com":window.location.hostname,expires:365})}catch(r){console.error("Ignoring error:",r)}return!0}},y.prototype.unauthorized=function(){var r=this;r.loginForm.isLoginValid(!1),window.setTimeout((function(){r.loginForm.password("")}),100)},y.prototype.readUrlParamsFromHash=function(r){var o=l.decodePairs(r);if(o.username){var e=u.domainIdn(o.username),n=u.emailIdn(o.username);e?this.loginForm.displayTargetDomain(e):n&&this.loginForm.displayUsername(n)}o["error-login-invalid-credentials"]&&this.unauthorized(),o["error-auth-unavailable"]&&this.errorHandler.showError(null,TR("login.authUnavailable","Sorry, we can't log you in. Please try again later.")),o["error-auth-limited"]&&("ip"===o.authlimitedreason?this.errorHandler.showError(null,TRPAT("login.ipBruteForceProtectionTriggered","Sorry, there are too many login attempts from this IP. Please wait {0} and try again.")(m(o.retryafter))):this.errorHandler.showError(null,TRPAT("login.userBruteForceProtectionTriggered","Sorry, there are too many login attempts for this account. Please wait {0} and try again.")(m(o.retryafter)))),o["error-too-many-attempts"]&&this.errorHandler.showError(null,TR("login.tooManyAttempts","You have made 5 consecutive login attempts that have failed. Please wait 5 minutes and try again.")),o["error-fatal-contact-support"]&&this.errorHandler.showError(null,TR("login.fatalError","An unknown error occurred, please contact our support.")),o["error-login-imap-account-not-ready-yet"]&&this.errorHandler.showError(null,TR("login.accountNotReady","Your e-mail account is not ready yet. Please try again in 5 minutes."))},y.prototype.load=function(){this.readUrlParamsFromHash(window.location.hash&&window.location.hash.substring(1)),window.history&&window.history.replaceState&&window.history.replaceState({},"",window.location.pathname),this.showLogin()},y.prototype.redirectIfUnsupportedBrowser=function(){return this.backend.redirectIfUnsupportedBrowser()},y.prototype.handleError=function(r,o){this.errorHandler.handleError(r,o)},y.prototype.showError=function(r,o){this.errormsg(l.htmlEncode(o))},y.prototype.localeInfos=[{id:"da-DK",displayName:"Dansk"},{id:"de-DE",displayName:"Deutsch"},{id:"en-GB",displayName:"English (UK)"},{id:"en-US",displayName:"English (US)"},{id:"es-ES",displayName:"Español"},{id:"fr-FR",displayName:"Français"},{id:"it-IT",displayName:"Italiano"},{id:"nl-NL",displayName:"Nederlands"},{id:"nb-NO",displayName:"Norsk"},{id:"pt-PT",displayName:"Português"},{id:"fi-FI",displayName:"Suomi"},{id:"sv-SE",displayName:"Svenska"}],y.prototype.supportedLocaleIds=["da-DK","de-DE","en-GB","en-US","es-ES","fr-FR","it-IT","nl-NL","nb-NO","pt-PT","fi-FI","sv-SE"],y.prototype.activeLocaleId=e,y.prototype.activeDisplayName=function(){var r=this.localeInfos.filter((function(r){return r.id===e}));return r&&r[0].displayName},s.injectTracing(y),y}.apply(o,n))||(r.exports=i)},96:function(r,o,e){var n,i;n=[e(0),e(21),e(2),e(83)],void 0===(i=function(r,o,e,n){return function(i,a){var t=this;t.switchLocale=function(i){if(i!==e){var a=n.canonicalLocaleIdToOneLangLocale(i),t="."+location.hostname.split(".").splice(-2,2).join(".");"localhost"===location.hostname&&(t="localhost"),r.cookie("OneLang",a,{expires:730,path:"/",domain:t}),o.updateApplicationCache((function(){document.location.reload(!0)}))}},Object.keys(t).forEach((function(r){var o=t[r];"function"==typeof o&&(o.curry=function(){var r=Array.prototype.slice.call(arguments);return r.unshift(t),o.bind.apply(o,r)},o.withArguments=function(){var r=arguments;return function(){o.apply(t,r)}})}))}}.apply(o,n))||(r.exports=i)}}]);