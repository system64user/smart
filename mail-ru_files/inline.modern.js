!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,u={f:a&&!s.call({1:2},1)?function(t){var e=a(this,t);return!!e&&e.enumerable}:s},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,f=function(t){return l.call(t).slice(8,-1)},h="".split,d=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return d(p(t))},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,_=function(t,e){return m.call(t,e)},w=r.document,b=v(w)&&v(w.createElement),C=function(t){return b?w.createElement(t):{}},S=!i&&!o((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,E={f:i?A:function(t,e){if(t=g(t),e=y(e,!0),S)try{return A(t,e)}catch(t){}if(_(t,e))return c(!u.f.call(t,e),t[e])}},x=function(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t},O=Object.defineProperty,I={f:i?O:function(t,e,n){if(x(t),e=y(e,!0),x(n),S)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},T=i?function(t,e,n){return I.f(t,e,c(1,n))}:function(t,e,n){return t[e]=n,t},k=function(t,e){try{T(r,t,e)}catch(n){r[t]=e}return e},P="__core-js_shared__",R=r[P]||k(P,{}),j=Function.toString;"function"!=typeof R.inspectSource&&(R.inspectSource=function(t){return j.call(t)});var U,L,M,D=R.inspectSource,N=r.WeakMap,F="function"==typeof N&&/native code/.test(D(N)),$=e((function(t){(t.exports=function(t,e){return R[t]||(R[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),V=0,G=Math.random(),B=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++V+G).toString(36)},K=$("keys"),Q=function(t){return K[t]||(K[t]=B(t))},H={},z=r.WeakMap;if(F){var W=R.state||(R.state=new z),q=W.get,Y=W.has,J=W.set;U=function(t,e){return e.facade=t,J.call(W,t,e),e},L=function(t){return q.call(W,t)||{}},M=function(t){return Y.call(W,t)}}else{var X=Q("state");H[X]=!0,U=function(t,e){return e.facade=t,T(t,X,e),e},L=function(t){return _(t,X)?t[X]:{}},M=function(t){return _(t,X)}}var Z,tt,et={set:U,get:L,has:M,enforce:function(t){return M(t)?L(t):U(t,{})},getterFor:function(t){return function(e){var n;if(!v(e)||(n=L(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},nt=e((function(t){var e=et.get,n=et.enforce,o=String(String).split("String");(t.exports=function(t,e,i,s){var a,u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||_(i,"name")||T(i,"name",e),(a=n(i)).source||(a.source=o.join("string"==typeof e?e:""))),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:T(t,e,i)):c?t[e]=i:k(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D(this)}))})),rt=r,ot=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?ot(rt[t])||ot(r[t]):rt[t]&&rt[t][e]||r[t]&&r[t][e]},st=Math.ceil,at=Math.floor,ut=function(t){return isNaN(t=+t)?0:(t>0?at:st)(t)},ct=Math.min,lt=function(t){return t>0?ct(ut(t),9007199254740991):0},ft=Math.max,ht=Math.min,dt=function(t,e){var n=ut(t);return n<0?ft(n+e,0):ht(n,e)},pt=function(t){return function(e,n,r){var o,i=g(e),s=lt(i.length),a=dt(r,s);if(t&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},gt={includes:pt(!0),indexOf:pt(!1)}.indexOf,vt=function(t,e){var n,r=g(t),o=0,i=[];for(n in r)!_(H,n)&&_(r,n)&&i.push(n);for(;e.length>o;)_(r,n=e[o++])&&(~gt(i,n)||i.push(n));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mt=yt.concat("length","prototype"),_t={f:Object.getOwnPropertyNames||function(t){return vt(t,mt)}},wt={f:Object.getOwnPropertySymbols},bt=it("Reflect","ownKeys")||function(t){var e=_t.f(x(t)),n=wt.f;return n?e.concat(n(t)):e},Ct=function(t,e){for(var n=bt(e),r=I.f,o=E.f,i=0;i<n.length;i++){var s=n[i];_(t,s)||r(t,s,o(e,s))}},St=/#|\.prototype\./,At=function(t,e){var n=xt[Et(t)];return n==It||n!=Ot&&("function"==typeof e?o(e):!!e)},Et=At.normalize=function(t){return String(t).replace(St,".").toLowerCase()},xt=At.data={},Ot=At.NATIVE="N",It=At.POLYFILL="P",Tt=At,kt=E.f,Pt=function(t,e){var n,o,i,s,a,u=t.target,c=t.global,l=t.stat;if(n=c?r:l?r[u]||k(u,{}):(r[u]||{}).prototype)for(o in e){if(s=e[o],i=t.noTargetGet?(a=kt(n,o))&&a.value:n[o],!Tt(c?o:u+(l?".":"#")+o,t.forced)&&void 0!==i){if(typeof s==typeof i)continue;Ct(s,i)}(t.sham||i&&i.sham)&&T(s,"sham",!0),nt(n,o,s,t)}},Rt=r.Promise,jt=function(t,e,n){for(var r in e)nt(t,r,e[r],n);return t},Ut="process"==f(r.process),Lt=it("navigator","userAgent")||"",Mt=r.process,Dt=Mt&&Mt.versions,Nt=Dt&&Dt.v8;Nt?tt=(Z=Nt.split("."))[0]+Z[1]:Lt&&(!(Z=Lt.match(/Edge\/(\d+)/))||Z[1]>=74)&&(Z=Lt.match(/Chrome\/(\d+)/))&&(tt=Z[1]);var Ft=tt&&+tt,$t=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(Ut?38===Ft:Ft>37&&Ft<41)})),Vt=$t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=$("wks"),Bt=r.Symbol,Kt=Vt?Bt:Bt&&Bt.withoutSetter||B,Qt=function(t){return _(Gt,t)&&($t||"string"==typeof Gt[t])||($t&&_(Bt,t)?Gt[t]=Bt[t]:Gt[t]=Kt("Symbol."+t)),Gt[t]},Ht=I.f,zt=Qt("toStringTag"),Wt=function(t,e,n){t&&!_(t=n?t:t.prototype,zt)&&Ht(t,zt,{configurable:!0,value:e})},qt=Qt("species"),Yt=function(t){var e=it(t),n=I.f;i&&e&&!e[qt]&&n(e,qt,{configurable:!0,get:function(){return this}})},Jt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Xt=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Zt={},te=Qt("iterator"),ee=Array.prototype,ne=function(t){return void 0!==t&&(Zt.Array===t||ee[te]===t)},re=function(t,e,n){if(Jt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},oe={};oe[Qt("toStringTag")]="z";var ie="[object z]"===String(oe),se=Qt("toStringTag"),ae="Arguments"==f(function(){return arguments}()),ue=ie?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),se))?n:ae?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},ce=Qt("iterator"),le=function(t){if(null!=t)return t[ce]||t["@@iterator"]||Zt[ue(t)]},fe=function(t){var e=t.return;if(void 0!==e)return x(e.call(t)).value},he=function(t,e){this.stopped=t,this.result=e},de=function(t,e,n){var r,o,i,s,a,u,c,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=re(e,l,1+f+d),g=function(t){return r&&fe(r),new he(!0,t)},v=function(t){return f?(x(t),d?p(t[0],t[1],g):p(t[0],t[1])):d?p(t,g):p(t)};if(h)r=t;else{if("function"!=typeof(o=le(t)))throw TypeError("Target is not iterable");if(ne(o)){for(i=0,s=lt(t.length);s>i;i++)if((a=v(t[i]))&&a instanceof he)return a;return new he(!1)}r=o.call(t)}for(u=r.next;!(c=u.call(r)).done;){try{a=v(c.value)}catch(t){throw fe(r),t}if("object"==typeof a&&a&&a instanceof he)return a}return new he(!1)},pe=Qt("iterator"),ge=!1;try{var ve=0,ye={next:function(){return{done:!!ve++}},return:function(){ge=!0}};ye[pe]=function(){return this},Array.from(ye,(function(){throw 2}))}catch(t){}var me,_e,we,be=function(t,e){if(!e&&!ge)return!1;var n=!1;try{var r={};r[pe]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Ce=Qt("species"),Se=function(t,e){var n,r=x(t).constructor;return void 0===r||null==(n=x(r)[Ce])?e:Jt(n)},Ae=it("document","documentElement"),Ee=/(iphone|ipod|ipad).*applewebkit/i.test(Lt),xe=r.location,Oe=r.setImmediate,Ie=r.clearImmediate,Te=r.process,ke=r.MessageChannel,Pe=r.Dispatch,Re=0,je={},Ue="onreadystatechange",Le=function(t){if(je.hasOwnProperty(t)){var e=je[t];delete je[t],e()}},Me=function(t){return function(){Le(t)}},De=function(t){Le(t.data)},Ne=function(t){r.postMessage(t+"",xe.protocol+"//"+xe.host)};Oe&&Ie||(Oe=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return je[++Re]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},me(Re),Re},Ie=function(t){delete je[t]},Ut?me=function(t){Te.nextTick(Me(t))}:Pe&&Pe.now?me=function(t){Pe.now(Me(t))}:ke&&!Ee?(we=(_e=new ke).port2,_e.port1.onmessage=De,me=re(we.postMessage,we,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&xe&&"file:"!==xe.protocol&&!o(Ne)?(me=Ne,r.addEventListener("message",De,!1)):me=Ue in C("script")?function(t){Ae.appendChild(C("script")).onreadystatechange=function(){Ae.removeChild(this),Le(t)}}:function(t){setTimeout(Me(t),0)});var Fe,$e,Ve,Ge,Be,Ke,Qe,He,ze={set:Oe,clear:Ie},We=/web0s(?!.*chrome)/i.test(Lt),qe=E.f,Ye=ze.set,Je=r.MutationObserver||r.WebKitMutationObserver,Xe=r.document,Ze=r.process,tn=r.Promise,en=qe(r,"queueMicrotask"),nn=en&&en.value;nn||(Fe=function(){var t,e;for(Ut&&(t=Ze.domain)&&t.exit();$e;){e=$e.fn,$e=$e.next;try{e()}catch(t){throw $e?Ge():Ve=void 0,t}}Ve=void 0,t&&t.enter()},Ee||Ut||We||!Je||!Xe?tn&&tn.resolve?(Qe=tn.resolve(void 0),He=Qe.then,Ge=function(){He.call(Qe,Fe)}):Ge=Ut?function(){Ze.nextTick(Fe)}:function(){Ye.call(r,Fe)}:(Be=!0,Ke=Xe.createTextNode(""),new Je(Fe).observe(Ke,{characterData:!0}),Ge=function(){Ke.data=Be=!Be}));var rn,on,sn,an,un=nn||function(t){var e={fn:t,next:void 0};Ve&&(Ve.next=e),$e||($e=e,Ge()),Ve=e},cn=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Jt(e),this.reject=Jt(n)},ln={f:function(t){return new cn(t)}},fn=function(t,e){if(x(t),v(e)&&e.constructor===t)return e;var n=ln.f(t);return(0,n.resolve)(e),n.promise},hn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},dn=ze.set,pn=Qt("species"),gn="Promise",vn=et.get,yn=et.set,mn=et.getterFor(gn),_n=Rt,wn=r.TypeError,bn=r.document,Cn=r.process,Sn=it("fetch"),An=ln.f,En=An,xn=!!(bn&&bn.createEvent&&r.dispatchEvent),On="function"==typeof PromiseRejectionEvent,In="unhandledrejection",Tn=Tt(gn,(function(){if(!(D(_n)!==String(_n))){if(66===Ft)return!0;if(!Ut&&!On)return!0}if(Ft>=51&&/native code/.test(_n))return!1;var t=_n.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[pn]=e,!(t.then((function(){}))instanceof e)})),kn=Tn||!be((function(t){_n.all(t).catch((function(){}))})),Pn=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Rn=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;un((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var s,a,u,c=n[i++],l=o?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(o||(2===t.rejection&&Mn(t),t.rejection=1),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),u=!0)),s===c.promise?h(wn("Promise-chain cycle")):(a=Pn(s))?a.call(s,f,h):f(s)):h(r)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Un(t)}))}},jn=function(t,e,n){var o,i;xn?((o=bn.createEvent("Event")).promise=e,o.reason=n,o.initEvent(t,!1,!0),r.dispatchEvent(o)):o={promise:e,reason:n},!On&&(i=r["on"+t])?i(o):t===In&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Un=function(t){dn.call(r,(function(){var e,n=t.facade,r=t.value;if(Ln(t)&&(e=hn((function(){Ut?Cn.emit("unhandledRejection",r,n):jn(In,n,r)})),t.rejection=Ut||Ln(t)?2:1,e.error))throw e.value}))},Ln=function(t){return 1!==t.rejection&&!t.parent},Mn=function(t){dn.call(r,(function(){var e=t.facade;Ut?Cn.emit("rejectionHandled",e):jn("rejectionhandled",e,t.value)}))},Dn=function(t,e,n){return function(r){t(e,r,n)}},Nn=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Rn(t,!0))},Fn=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw wn("Promise can't be resolved itself");var r=Pn(e);r?un((function(){var n={done:!1};try{r.call(e,Dn(Fn,n,t),Dn(Nn,n,t))}catch(e){Nn(n,e,t)}})):(t.value=e,t.state=1,Rn(t,!1))}catch(e){Nn({done:!1},e,t)}}};Tn&&(_n=function(t){Xt(this,_n,gn),Jt(t),rn.call(this);var e=vn(this);try{t(Dn(Fn,e),Dn(Nn,e))}catch(t){Nn(e,t)}},(rn=function(t){yn(this,{type:gn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=jt(_n.prototype,{then:function(t,e){var n=mn(this),r=An(Se(this,_n));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Ut?Cn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Rn(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),on=function(){var t=new rn,e=vn(t);this.promise=t,this.resolve=Dn(Fn,e),this.reject=Dn(Nn,e)},ln.f=An=function(t){return t===_n||t===sn?new on(t):En(t)},"function"==typeof Rt&&(an=Rt.prototype.then,nt(Rt.prototype,"then",(function(t,e){var n=this;return new _n((function(t,e){an.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Sn&&Pt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return fn(_n,Sn.apply(r,arguments))}}))),Pt({global:!0,wrap:!0,forced:Tn},{Promise:_n}),Wt(_n,gn,!1),Yt(gn),sn=it(gn),Pt({target:gn,stat:!0,forced:Tn},{reject:function(t){var e=An(this);return e.reject.call(void 0,t),e.promise}}),Pt({target:gn,stat:!0,forced:Tn},{resolve:function(t){return fn(this,t)}}),Pt({target:gn,stat:!0,forced:kn},{all:function(t){var e=this,n=An(e),r=n.resolve,o=n.reject,i=hn((function(){var n=Jt(e.resolve),i=[],s=0,a=1;de(t,(function(t){var u=s++,c=!1;i.push(void 0),a++,n.call(e,t).then((function(t){c||(c=!0,i[u]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=An(e),r=n.reject,o=hn((function(){var o=Jt(e.resolve);de(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var $n,Vn=!!Rt&&o((function(){Rt.prototype.finally.call({then:function(){}},(function(){}))}));Pt({target:"Promise",proto:!0,real:!0,forced:Vn},{finally:function(t){var e=Se(this,it("Promise")),n="function"==typeof t;return this.then(n?function(n){return fn(e,t()).then((function(){return n}))}:t,n?function(n){return fn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof Rt||Rt.prototype.finally||nt(Rt.prototype,"finally",it("Promise").prototype.finally),"function"!=typeof Promise.prototype.finally&&(Promise.prototype.finally=function(t){return this.then((e=>this.constructor.resolve(t()).then((()=>e)))).catch((e=>this.constructor.resolve(t()).then((()=>{throw e}))))}),window.__knownBlocker=!!function(){try{const t=["OPR","n !im","sByTa","1003447LuLqWg","dow","sibil","ing","Opera","style","565qdizXE","getEl","232331sDoJoU","18LCDgxI","cssTe","8949RXqNfR","s: 43","play:","porta","nt; o","tInto","Conte","mport","1gfBELn","ock","getOw","textC","toStr","ntWin","ement","sheet","ortan","injec","lengt","hidde","ant; ","nProp","ptor","dbl","type","89029nRIyjx","ertyD","index","get","1153xndIzo","349hFSaxZ","3toLzmo"," none","gName","conte","proto","1DNflRb","1153390UmUDUA","8264wGiSvY"];function e(e,n){return t[e-=493]}return function(t,n){const r=e;for(;;)try{if(700794===-parseInt(r(504))*parseInt(r(505))+parseInt(r(497))*-parseInt(r(516))+parseInt(r(510))*-parseInt(r(529))+parseInt(r(518))*parseInt(r(499))+parseInt(r(521))*-parseInt(r(519))+parseInt(r(493))+parseInt(r(506))*parseInt(r(498)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(t),function(){const t=e,n="a"+t(544)+t(530),r=Object[t(531)+t(542)+t(494)+"escri"+t(543)](HTMLIFrameElement[t(503)+t(545)],t(502)+t(534)+"dow");if(r&&r[t(496)]){if(-1!==r[t(496)][t(533)+t(513)]()[t(495)+"Of"](t(538)+t(526)+t(527)+t(534)+t(511)))return n}const o=navigator.userAgent;if(-1!==o[t(495)+"Of"](t(514))||-1!==o[t(495)+"Of"](t(507))){const e=document[t(517)+t(535)+t(509)+t(501)]("head")[0];if(e){const r=e[t(517)+"ement"+t(509)+t(501)](t(515));for(let e=0,o=r[t(539)+"h"];e<o;e++)try{const o=r[e];if(o&&!o[t(532)+"ontent"]&&o[t(536)]){const e=o.sheet.rules;if(e)for(let r=0,o=e.length;r<o;r++)try{if(-1!==e[r][t(520)+"xt"].indexOf("{ dis"+t(523)+t(500)+" !imp"+t(537)+"t; vi"+t(512)+"ity: "+t(540)+t(508)+t(524)+t(525)+"rphan"+t(522)+"21 !i"+t(528)+t(541)+"}"))return n}catch(t){}}}catch(t){}}}}()}catch(t){}}(),function(t){t.Default="default",t.Grey="grey",t.Dark="dark",t.System="system"}($n||($n={}));const Gn="ru_RU",Bn=864e5,Kn=(t,e)=>{const n=(null==t?void 0:t.config)||(null==t?void 0:t.Config);return null==n?void 0:n[e]};var Qn,Hn=Object.keys||function(t){return vt(t,yt)},zn=i?Object.defineProperties:function(t,e){x(t);for(var n,r=Hn(e),o=r.length,i=0;o>i;)I.f(t,n=r[i++],e[n]);return t},Wn=Q("IE_PROTO"),qn=function(){},Yn=function(t){return"<script>"+t+"</"+"script>"},Jn=function(){try{Qn=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Jn=Qn?function(t){t.write(Yn("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Qn):((e=C("iframe")).style.display="none",Ae.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Yn("document.F=Object")),t.close(),t.F);for(var n=yt.length;n--;)delete Jn.prototype[yt[n]];return Jn()};H[Wn]=!0;var Xn=Object.create||function(t,e){var n;return null!==t?(qn.prototype=x(t),n=new qn,qn.prototype=null,n[Wn]=t):n=Jn(),void 0===e?n:zn(n,e)},Zn=Qt("unscopables"),tr=Array.prototype;null==tr[Zn]&&I.f(tr,Zn,{configurable:!0,value:Xn(null)});var er,nr,rr,or=function(t){tr[Zn][t]=!0},ir=function(t){return Object(p(t))},sr=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ar=Q("IE_PROTO"),ur=Object.prototype,cr=sr?Object.getPrototypeOf:function(t){return t=ir(t),_(t,ar)?t[ar]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ur:null},lr=Qt("iterator"),fr=!1;[].keys&&("next"in(rr=[].keys())?(nr=cr(cr(rr)))!==Object.prototype&&(er=nr):fr=!0);var hr=null==er||o((function(){var t={};return er[lr].call(t)!==t}));hr&&(er={}),_(er,lr)||T(er,lr,(function(){return this}));var dr={IteratorPrototype:er,BUGGY_SAFARI_ITERATORS:fr},pr=dr.IteratorPrototype,gr=function(){return this},vr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return x(n),function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),yr=dr.IteratorPrototype,mr=dr.BUGGY_SAFARI_ITERATORS,_r=Qt("iterator"),wr="keys",br="values",Cr="entries",Sr=function(){return this},Ar="Array Iterator",Er=et.set,xr=et.getterFor(Ar),Or=function(t,e,n,r,o,i,s){!function(t,e,n){var r=e+" Iterator";t.prototype=Xn(pr,{next:c(1,n)}),Wt(t,r,!1),Zt[r]=gr}(n,e,r);var a,u,l,f=function(t){if(t===o&&v)return v;if(!mr&&t in p)return p[t];switch(t){case wr:case br:case Cr:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,p=t.prototype,g=p[_r]||p["@@iterator"]||o&&p[o],v=!mr&&g||f(o),y="Array"==e&&p.entries||g;if(y&&(a=cr(y.call(new t)),yr!==Object.prototype&&a.next&&(cr(a)!==yr&&(vr?vr(a,yr):"function"!=typeof a[_r]&&T(a,_r,Sr)),Wt(a,h,!0))),o==br&&g&&g.name!==br&&(d=!0,v=function(){return g.call(this)}),p[_r]!==v&&T(p,_r,v),Zt[e]=v,o)if(u={values:f(br),keys:i?v:f(wr),entries:f(Cr)},s)for(l in u)(mr||d||!(l in p))&&nt(p,l,u[l]);else Pt({target:e,proto:!0,forced:mr||d},u);return u}(Array,"Array",(function(t,e){Er(this,{type:Ar,target:g(t),index:0,kind:e})}),(function(){var t=xr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Zt.Arguments=Zt.Array,or("keys"),or("values"),or("entries");var Ir={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Tr=Qt("iterator"),kr=Qt("toStringTag"),Pr=Or.values;for(var Rr in Ir){var jr=r[Rr],Ur=jr&&jr.prototype;if(Ur){if(Ur[Tr]!==Pr)try{T(Ur,Tr,Pr)}catch(t){Ur[Tr]=Pr}if(Ur[kr]||T(Ur,kr,Rr),Ir[Rr])for(var Lr in Or)if(Ur[Lr]!==Or[Lr])try{T(Ur,Lr,Or[Lr])}catch(t){Ur[Lr]=Or[Lr]}}}var Mr,Dr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Nr=I.f,Fr=r.Int8Array,$r=Fr&&Fr.prototype,Vr=r.Uint8ClampedArray,Gr=Vr&&Vr.prototype,Br=Fr&&cr(Fr),Kr=$r&&cr($r),Qr=Object.prototype,Hr=Qr.isPrototypeOf,zr=Qt("toStringTag"),Wr=B("TYPED_ARRAY_TAG"),qr=Dr&&!!vr&&"Opera"!==ue(r.opera),Yr=!1,Jr={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Xr={BigInt64Array:8,BigUint64Array:8},Zr=function(t){if(!v(t))return!1;var e=ue(t);return _(Jr,e)||_(Xr,e)};for(Mr in Jr)r[Mr]||(qr=!1);if((!qr||"function"!=typeof Br||Br===Function.prototype)&&(Br=function(){throw TypeError("Incorrect invocation")},qr))for(Mr in Jr)r[Mr]&&vr(r[Mr],Br);if((!qr||!Kr||Kr===Qr)&&(Kr=Br.prototype,qr))for(Mr in Jr)r[Mr]&&vr(r[Mr].prototype,Kr);if(qr&&cr(Gr)!==Kr&&vr(Gr,Kr),i&&!_(Kr,zr))for(Mr in Yr=!0,Nr(Kr,zr,{get:function(){return v(this)?this[Wr]:void 0}}),Jr)r[Mr]&&T(r[Mr],Wr,Mr);var to={NATIVE_ARRAY_BUFFER_VIEWS:qr,TYPED_ARRAY_TAG:Yr&&Wr,aTypedArray:function(t){if(Zr(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(vr){if(Hr.call(Br,t))return t}else for(var e in Jr)if(_(Jr,Mr)){var n=r[e];if(n&&(t===n||Hr.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var o in Jr){var s=r[o];s&&_(s.prototype,t)&&delete s.prototype[t]}Kr[t]&&!n||nt(Kr,t,n?e:qr&&$r[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var o,s;if(i){if(vr){if(n)for(o in Jr)(s=r[o])&&_(s,t)&&delete s[t];if(Br[t]&&!n)return;try{return nt(Br,t,n?e:qr&&Fr[t]||e)}catch(t){}}for(o in Jr)!(s=r[o])||s[t]&&!n||nt(s,t,e)}},isView:function(t){if(!v(t))return!1;var e=ue(t);return"DataView"===e||_(Jr,e)||_(Xr,e)},isTypedArray:Zr,TypedArray:Br,TypedArrayPrototype:Kr},eo=to.NATIVE_ARRAY_BUFFER_VIEWS,no=r.ArrayBuffer,ro=r.Int8Array,oo=!eo||!o((function(){ro(1)}))||!o((function(){new ro(-1)}))||!be((function(t){new ro,new ro(null),new ro(1.5),new ro(t)}),!0)||o((function(){return 1!==new ro(new no(2),1,void 0).length})),io=function(t){if(void 0===t)return 0;var e=ut(t),n=lt(e);if(e!==n)throw RangeError("Wrong length or index");return n},so=Math.abs,ao=Math.pow,uo=Math.floor,co=Math.log,lo=Math.LN2,fo=function(t,e,n){var r,o,i,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?ao(2,-24)-ao(2,-77):0,f=t<0||0===t&&1/t<0?1:0,h=0;for((t=so(t))!=t||t===1/0?(o=t!=t?1:0,r=u):(r=uo(co(t)/lo),t*(i=ao(2,-r))<1&&(r--,i*=2),(t+=r+c>=1?l/i:l*ao(2,1-c))*i>=2&&(r++,i/=2),r+c>=u?(o=0,r=u):r+c>=1?(o=(t*i-1)*ao(2,e),r+=c):(o=t*ao(2,c-1)*ao(2,e),r=0));e>=8;s[h++]=255&o,o/=256,e-=8);for(r=r<<e|o,a+=e;a>0;s[h++]=255&r,r/=256,a-=8);return s[--h]|=128*f,s},ho=function(t,e){var n,r=t.length,o=8*r-e-1,i=(1<<o)-1,s=i>>1,a=o-7,u=r-1,c=t[u--],l=127&c;for(c>>=7;a>0;l=256*l+t[u],u--,a-=8);for(n=l&(1<<-a)-1,l>>=-a,a+=e;a>0;n=256*n+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===i)return n?NaN:c?-1/0:1/0;n+=ao(2,e),l-=s}return(c?-1:1)*n*ao(2,l-e)},po=function(t){for(var e=ir(this),n=lt(e.length),r=arguments.length,o=dt(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,s=void 0===i?n:dt(i,n);s>o;)e[o++]=t;return e},go=_t.f,vo=I.f,yo=et.get,mo=et.set,_o="ArrayBuffer",wo="DataView",bo="Wrong index",Co=r.ArrayBuffer,So=Co,Ao=r.DataView,Eo=Ao&&Ao.prototype,xo=Object.prototype,Oo=r.RangeError,Io=fo,To=ho,ko=function(t){return[255&t]},Po=function(t){return[255&t,t>>8&255]},Ro=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},jo=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Uo=function(t){return Io(t,23,4)},Lo=function(t){return Io(t,52,8)},Mo=function(t,e){vo(t.prototype,e,{get:function(){return yo(this)[e]}})},Do=function(t,e,n,r){var o=io(n),i=yo(t);if(o+e>i.byteLength)throw Oo(bo);var s=yo(i.buffer).bytes,a=o+i.byteOffset,u=s.slice(a,a+e);return r?u:u.reverse()},No=function(t,e,n,r,o,i){var s=io(n),a=yo(t);if(s+e>a.byteLength)throw Oo(bo);for(var u=yo(a.buffer).bytes,c=s+a.byteOffset,l=r(+o),f=0;f<e;f++)u[c+f]=l[i?f:e-f-1]};if(Dr){if(!o((function(){Co(1)}))||!o((function(){new Co(-1)}))||o((function(){return new Co,new Co(1.5),new Co(NaN),Co.name!=_o}))){for(var Fo,$o=(So=function(t){return Xt(this,So),new Co(io(t))}).prototype=Co.prototype,Vo=go(Co),Go=0;Vo.length>Go;)(Fo=Vo[Go++])in So||T(So,Fo,Co[Fo]);$o.constructor=So}vr&&cr(Eo)!==xo&&vr(Eo,xo);var Bo=new Ao(new So(2)),Ko=Eo.setInt8;Bo.setInt8(0,2147483648),Bo.setInt8(1,2147483649),!Bo.getInt8(0)&&Bo.getInt8(1)||jt(Eo,{setInt8:function(t,e){Ko.call(this,t,e<<24>>24)},setUint8:function(t,e){Ko.call(this,t,e<<24>>24)}},{unsafe:!0})}else So=function(t){Xt(this,So,_o);var e=io(t);mo(this,{bytes:po.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},Ao=function(t,e,n){Xt(this,Ao,wo),Xt(t,So,wo);var r=yo(t).byteLength,o=ut(e);if(o<0||o>r)throw Oo("Wrong offset");if(o+(n=void 0===n?r-o:lt(n))>r)throw Oo("Wrong length");mo(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(Mo(So,"byteLength"),Mo(Ao,"buffer"),Mo(Ao,"byteLength"),Mo(Ao,"byteOffset")),jt(Ao.prototype,{getInt8:function(t){return Do(this,1,t)[0]<<24>>24},getUint8:function(t){return Do(this,1,t)[0]},getInt16:function(t){var e=Do(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Do(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return jo(Do(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return jo(Do(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return To(Do(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return To(Do(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){No(this,1,t,ko,e)},setUint8:function(t,e){No(this,1,t,ko,e)},setInt16:function(t,e){No(this,2,t,Po,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){No(this,2,t,Po,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){No(this,4,t,Ro,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){No(this,4,t,Ro,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){No(this,4,t,Uo,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){No(this,8,t,Lo,e,arguments.length>2?arguments[2]:void 0)}});Wt(So,_o),Wt(Ao,wo);var Qo={ArrayBuffer:So,DataView:Ao},Ho=function(t,e){var n=function(t){var e=ut(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},zo=to.aTypedArrayConstructor,Wo=function(t){var e,n,r,o,i,s,a=ir(t),u=arguments.length,c=u>1?arguments[1]:void 0,l=void 0!==c,f=le(a);if(null!=f&&!ne(f))for(s=(i=f.call(a)).next,a=[];!(o=s.call(i)).done;)a.push(o.value);for(l&&u>2&&(c=re(c,arguments[2],2)),n=lt(a.length),r=new(zo(this))(n),e=0;n>e;e++)r[e]=l?c(a[e],e):a[e];return r},qo=Array.isArray||function(t){return"Array"==f(t)},Yo=Qt("species"),Jo=function(t,e){var n;return qo(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!qo(n.prototype)?v(n)&&null===(n=n[Yo])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Xo=[].push,Zo=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,s=7==t,a=5==t||i;return function(u,c,l,f){for(var h,p,g=ir(u),v=d(g),y=re(c,l,3),m=lt(v.length),_=0,w=f||Jo,b=e?w(u,m):n||s?w(u,0):void 0;m>_;_++)if((a||_ in v)&&(p=y(h=v[_],_,g),t))if(e)b[_]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:Xo.call(b,h)}else switch(t){case 4:return!1;case 7:Xo.call(b,h)}return i?-1:r||o?o:b}},ti={forEach:Zo(0),map:Zo(1),filter:Zo(2),some:Zo(3),every:Zo(4),find:Zo(5),findIndex:Zo(6),filterOut:Zo(7)},ei=function(t,e,n){var r,o;return vr&&"function"==typeof(r=e.constructor)&&r!==n&&v(o=r.prototype)&&o!==n.prototype&&vr(t,o),t},ni=e((function(t){var e=_t.f,n=ti.forEach,o=et.get,s=et.set,a=I.f,u=E.f,l=Math.round,f=r.RangeError,h=Qo.ArrayBuffer,d=Qo.DataView,p=to.NATIVE_ARRAY_BUFFER_VIEWS,g=to.TYPED_ARRAY_TAG,m=to.TypedArray,w=to.TypedArrayPrototype,b=to.aTypedArrayConstructor,C=to.isTypedArray,S="BYTES_PER_ELEMENT",A="Wrong length",x=function(t,e){for(var n=0,r=e.length,o=new(b(t))(r);r>n;)o[n]=e[n++];return o},O=function(t,e){a(t,e,{get:function(){return o(this)[e]}})},k=function(t){var e;return t instanceof h||"ArrayBuffer"==(e=ue(t))||"SharedArrayBuffer"==e},P=function(t,e){return C(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},R=function(t,e){return P(t,e=y(e,!0))?c(2,t[e]):u(t,e)},j=function(t,e,n){return!(P(t,e=y(e,!0))&&v(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?a(t,e,n):(t[e]=n.value,t)};i?(p||(E.f=R,I.f=j,O(w,"buffer"),O(w,"byteOffset"),O(w,"byteLength"),O(w,"length")),Pt({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:R,defineProperty:j}),t.exports=function(t,i,u){var c=t.match(/\d+$/)[0]/8,y=t+(u?"Clamped":"")+"Array",_="get"+t,b="set"+t,E=r[y],O=E,I=O&&O.prototype,P={},R=function(t,e){a(t,e,{get:function(){return function(t,e){var n=o(t);return n.view[_](e*c+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var r=o(t);u&&(n=(n=l(n))<0?0:n>255?255:255&n),r.view[b](e*c+r.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};p?oo&&(O=i((function(t,e,n,r){return Xt(t,O,y),ei(v(e)?k(e)?void 0!==r?new E(e,Ho(n,c),r):void 0!==n?new E(e,Ho(n,c)):new E(e):C(e)?x(O,e):Wo.call(O,e):new E(io(e)),t,O)})),vr&&vr(O,m),n(e(E),(function(t){t in O||T(O,t,E[t])})),O.prototype=I):(O=i((function(t,e,n,r){Xt(t,O,y);var o,i,a,u=0,l=0;if(v(e)){if(!k(e))return C(e)?x(O,e):Wo.call(O,e);o=e,l=Ho(n,c);var p=e.byteLength;if(void 0===r){if(p%c)throw f(A);if((i=p-l)<0)throw f(A)}else if((i=lt(r)*c)+l>p)throw f(A);a=i/c}else a=io(e),o=new h(i=a*c);for(s(t,{buffer:o,byteOffset:l,byteLength:i,length:a,view:new d(o)});u<a;)R(t,u++)})),vr&&vr(O,m),I=O.prototype=Xn(w)),I.constructor!==O&&T(I,"constructor",O),g&&T(I,g,y),P[y]=O,Pt({global:!0,forced:O!=E,sham:!p},P),S in O||T(O,S,c),S in I||T(I,S,c),Yt(y)}):t.exports=function(){}}));ni("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var ri=to.aTypedArray;(0,to.exportTypedArrayMethod)("set",(function(t){ri(this);var e=Ho(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=ir(t),o=lt(r.length),i=0;if(o+e>n)throw RangeError("Wrong length");for(;i<o;)this[e+i]=r[i++]}),o((function(){new Int8Array(1).set({})})));var oi=to.aTypedArray,ii=[].sort;(0,to.exportTypedArrayMethod)("sort",(function(t){return ii.call(oi(this),t)}));var si=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))},ai=[],ui=ai.sort,ci=o((function(){ai.sort(void 0)})),li=o((function(){ai.sort(null)})),fi=si("sort");Pt({target:"Array",proto:!0,forced:ci||!li||!fi},{sort:function(t){return void 0===t?ui.call(ir(this)):ui.call(ir(this),Jt(t))}});var hi=function(){var t=x(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function di(t,e){return RegExp(t,e)}var pi={UNSUPPORTED_Y:o((function(){var t=di("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:o((function(){var t=di("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},gi=RegExp.prototype.exec,vi=$("native-string-replace",String.prototype.replace),yi=gi,mi=function(){var t=/a/,e=/b*/g;return gi.call(t,"a"),gi.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),_i=pi.UNSUPPORTED_Y||pi.BROKEN_CARET,wi=void 0!==/()??/.exec("")[1];(mi||wi||_i)&&(yi=function(t){var e,n,r,o,i=this,s=_i&&i.sticky,a=hi.call(i),u=i.source,c=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",a)),wi&&(n=new RegExp("^"+u+"$(?!\\s)",a)),mi&&(e=i.lastIndex),r=gi.call(s?n:i,l),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:mi&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),wi&&r&&r.length>1&&vi.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var bi=yi;Pt({target:"RegExp",proto:!0,forced:/./.exec!==bi},{exec:bi}),Pt({global:!0},{globalThis:r});var Ci=Qt("species"),Si=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Ai="$0"==="a".replace(/./,"$0"),Ei=Qt("replace"),xi=!!/./[Ei]&&""===/./[Ei]("a","$0"),Oi=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ii=function(t){return function(e,n){var r,o,i=String(p(e)),s=ut(n),a=i.length;return s<0||s>=a?t?"":void 0:(r=i.charCodeAt(s))<55296||r>56319||s+1===a||(o=i.charCodeAt(s+1))<56320||o>57343?t?i.charAt(s):r:t?i.slice(s,s+2):o-56320+(r-55296<<10)+65536}},Ti={codeAt:Ii(!1),charAt:Ii(!0)}.charAt,ki=function(t,e,n){return e+(n?Ti(t,e).length:1)},Pi=Math.floor,Ri="".replace,ji=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ui=/\$([$&'`]|\d{1,2})/g,Li=function(t,e,n,r,o,i){var s=n+t.length,a=r.length,u=Ui;return void 0!==o&&(o=ir(o),u=ji),Ri.call(i,u,(function(i,u){var c;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(s);case"<":c=o[u.slice(1,-1)];break;default:var l=+u;if(0===l)return i;if(l>a){var f=Pi(l/10);return 0===f?i:f<=a?void 0===r[f-1]?u.charAt(1):r[f-1]+u.charAt(1):i}c=r[l-1]}return void 0===c?"":c}))},Mi=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return bi.call(t,e)},Di=Math.max,Ni=Math.min;!function(t,e,n,r){var i=Qt(t),s=!o((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=s&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Ci]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!s||!a||"replace"===t&&(!Si||!Ai||xi)||"split"===t&&!Oi){var u=/./[i],c=n(i,""[t],(function(t,e,n,r,o){return e.exec===bi?s&&!o?{done:!0,value:u.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Ai,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:xi}),l=c[0],f=c[1];nt(String.prototype,t,l),nt(RegExp.prototype,i,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&T(RegExp.prototype[i],"sham",!0)}("replace",2,(function(t,e,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,s=o?"$":"$0";return[function(n,r){var o=p(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(s)){var a=n(e,t,this,r);if(a.done)return a.value}var u=x(t),c=String(this),l="function"==typeof r;l||(r=String(r));var f=u.global;if(f){var h=u.unicode;u.lastIndex=0}for(var d=[];;){var p=Mi(u,c);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(u.lastIndex=ki(c,lt(u.lastIndex),h))}for(var g,v="",y=0,m=0;m<d.length;m++){p=d[m];for(var _=String(p[0]),w=Di(Ni(ut(p.index),c.length),0),b=[],C=1;C<p.length;C++)b.push(void 0===(g=p[C])?g:String(g));var S=p.groups;if(l){var A=[_].concat(b,w,c);void 0!==S&&A.push(S);var E=String(r.apply(void 0,A))}else E=Li(_,c,w,b,S,r);w>=y&&(v+=c.slice(y,w)+E,y=w+_.length)}return v+c.slice(y)}]}));var Fi=I.f,$i=r.Symbol;if(i&&"function"==typeof $i&&(!("description"in $i.prototype)||void 0!==$i().description)){var Vi={},Gi=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Gi?new $i(t):void 0===t?$i():$i(t);return""===t&&(Vi[e]=!0),e};Ct(Gi,$i);var Bi=Gi.prototype=$i.prototype;Bi.constructor=Gi;var Ki=Bi.toString,Qi="Symbol(test)"==String($i("test")),Hi=/^Symbol\((.*)\)[^)]+$/;Fi(Bi,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=Ki.call(t);if(_(Vi,t))return"";var n=Qi?e.slice(7,-1):e.replace(Hi,"$1");return""===n?void 0:n}}),Pt({global:!0,forced:!0},{Symbol:Gi})}function zi(){}function Wi(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}Promise.resolve();const qi=[];function Yi(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zi;const r=new Set;function o(n){if(Wi(t,n)&&(t=n,e)){const e=!qi.length;for(const e of r)e[1](),qi.push(e,t);if(e){for(let t=0;t<qi.length;t+=2)qi[t][0](qi[t+1]);qi.length=0}}}function i(e){o(e(t))}function s(i){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zi;const a=[i,s];return r.add(a),1===r.size&&(e=n(o)||zi),i(t),()=>{r.delete(a),0===r.size&&(e(),e=null)}}return{set:o,update:i,subscribe:s}}const Ji=/\.mini-mail\.ru$/.test(window.location.host),Xi=/\.devmail\.ru$/.test(window.location.host),Zi="devmail.ru",ts=Ji?"mini-mail.ru":"mail.ru",es=Xi?Zi:ts;var ns,rs,os,is,ss,as,us;!function(t){t.BUILD="2.137.2",t.MODERN_BROWSERS_REGEXP=/(Edge\/(79(?:\.0)?|79(?:\.([1-9]|\d{2,}))?|([8-9]\d|\d{3,})(?:\.\d+)?|83(?:\.0)?|83(?:\.([1-9]|\d{2,}))?|(8[4-9]|9\d|\d{3,})(?:\.\d+)?))|((Chromium|Chrome)\/(61\.0|61\.([1-9]|\d{2,})|(6[2-9]|[7-9]\d|\d{3,})\.\d+|83\.0|83\.([1-9]|\d{2,})|(8[4-9]|9\d|\d{3,})\.\d+)(?:\.\d+)?)|(Version\/(13\.0|13\.([1-9]|\d{2,})|(1[4-9]|[2-9]\d|\d{3,})\.\d+|14\.0|14\.([1-9]|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})\.\d+|15\.0|15\.([1-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/}(ns||(ns={})),function(t){t.AccountDataUpdate="accountDataUpdate",t.UpdateCounterMail="updateCounterMail",t.UpdateCounterLove="updateCounterLove",t.UpdateCounterGames="updateCounterGames",t.UpdateCounterOK="updateCounterOK",t.UpdateCounterVK="updateCounterVK",t.UpdateCounterMoyMir="updateCounterMoyMir",t.UpdateCounterCloudStories="updateCounterCloudStories",t.UpdateQuotaCounters="updateQuotaCounters"}(rs||(rs={})),function(t){t.Mount="mount",t.VisibilityChange="visibilitychange",t.AuthChange="authChange",t.AuthLost="authLost",t.BeforeLogout="beforeLogout",t.Update="update",t.LoginRequest="loginRequest",t.RegisterRequest="registerRequest",t.ColorThemeChange="colorThemeChange",t.ThemeChange="themeChange",t.InvalidServerSideAuth="invalidServerSideAuth",t.LangChange="langChange",t.SearchExtend="searchExtend",t.SearchCollapse="searchCollapse",t.SearchBoxMount="searchBoxMount",t.ToggleSlidotype="toggleSlidotype",t.AllProjectsMenuOpen="allProjectsMenuOpen",t.AllProjectsMenuClose="allProjectsMenuClose"}(os||(os={})),function(t){t.Show="show",t.Hide="hide"}(is||(is={})),function(t){t.Show="show",t.Hide="hide"}(ss||(ss={})),function(t){t.Show="show",t.Hide="hide",t.Load="load",t.Focus="focus"}(as||(as={})),function(t){t.Show="show",t.Hide="hide"}(us||(us={}));const cs=window.__PH;Yi(function(t){if(cs&&t in cs)return cs[t]}("xray")||{send:()=>{}},(()=>{})).subscribe;const ls=t=>{var e,n;const r=Kn(t.omicronConfig,"cloudStoriesCounterEnabled")||(null===(e=t.experiments)||void 0===e?void 0:e.switchCloudStoriesCounter),o=Kn(t.omicronConfig,"cloudStoriesCounterCrossNavEnabled")||(null===(n=t.experiments)||void 0===n?void 0:n.switchCloudStoriesCounterCrossNav);return t.isCrossNav?o:r},fs=()=>{};class hs{constructor(){this._events=new Map,this._oneTimeEvents=new Map}getListenersNumber(t){return[...this._events.get(t)||[],...this._oneTimeEvents.get(t)||[]].length}on(t,e){const n=[...this._events.get(t)||[],e];return this._events.set(t,n),this}removeListener(t,e){const n=(this._events.get(t)||[]).filter((t=>t!==e));return this._events.set(t,n),this}once(t,e){const n=[...this._oneTimeEvents.get(t)||[],e];return this._oneTimeEvents.set(t,n),this}emit(t,e,n){const r=e||fs;(this._events.get(t)||[]).forEach((t=>t({data:n},r)));return(this._oneTimeEvents.get(t)||[]).forEach((t=>t({data:n},r))),this._oneTimeEvents.delete(t),this}static relay(t,e,n){t.forEach((t=>{e.on(t,(()=>{n.emit(t)}))}))}}class ds extends hs{constructor(){super(),this._eventsData=new Map}on(t,e){return super.on(t,e),this._executeListenerIfHasData(t,e),this}removeListener(t,e){return super.removeListener(t,e),this.getListenersNumber(t)||this._eventsData.delete(t),this}emit(t,e,n){return super.emit(t,e,n),this._eventsData.set(t,n),this}_executeListenerIfHasData(t,e){const n=this._eventsData.get(t);n&&e({data:n},fs)}}var ps=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.createElement("script"),r=document.querySelector("head");function o(){r.appendChild(n)}return e&&(n.defer=!0,n.async=!0),n.src=t,"opera"in window&&"complete"!==document.readyState?window.addEventListener("DOMContentLoaded",o):o(),n},gs=[],vs={maxSize:500,getLog:function(){return Array.prototype.slice.call(gs,0)},clear:function(){gs=[]}};var ys={log:function(){try{(console.debug||console.log).apply(console,arguments)}catch(t){}},error:function(){try{console.error.apply(console,arguments)}catch(t){}},warn:function(){try{console.warn.apply(console,arguments)}catch(t){}}};function ms(t){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(t)}function _s(t){return t&&"object"===ms(t)&&!ws(t)}function ws(t){return"[object Array]"===Object.prototype.toString.call(t)}function bs(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var r in n)t[r]&&_s(t[r])&&_s(n[r])?t[r]=bs(t[r],n[r]):t[r]=n[r]}return t}function Cs(t){var e=encodeURIComponent(JSON.stringify(t));return{size:e.length,raw:e}}var Ss=["p","email","split","utm","r","pgid","o_ss","o_v"],As=!1;function Es(){this._batchesByUrls={},this._timeoutId=null,this._config={maxBatchSize:6e4,maxChunkSize:4e3,timeout:1e3,idle:!1},window&&"function"==typeof window.addEventListener&&window.addEventListener("beforeunload",this.process.bind(this,!0))}function xs(t){return"s".concat(t,"s").replace(/s+/g,"s").replace(/^s$/g,"")}function Os(t){for(var e in t)void 0!==t[e]&&null!==t[e]||delete t[e];return t}function Is(t,e){for(var n=-1,r=0;r<t.length;r++)if(e===t[r]){n=r;break}return n}Es.prototype.setConfig=function(t){if(!As)return t.timeout=Math.max(1e3,t.timeout||0),this._config=bs(this._config,t),void(As=!0);var e=[];for(var n in t)n in this._config?e.push(n):this._config[n]=t[n];e.length&&ys.warn("Queue config field(s) "+e.join(", ")+" are already set and can't be modified")},Es.prototype.getConfig=function(){return bs(this._config,{})},Es.prototype.push=function(t,e){!function(t){for(gs.push(t);gs.length>vs.maxSize;)gs.shift()}(e);var n=t+"/batch?"+Es._buildQueryString(e),r=Cs(e=Es._stringifyParams(e));if(r.size+2>this._config.maxBatchSize)ys.error("Radar #"+e.uid+" body is too long: "+r.raw);else{this._batchesByUrls[n]||(this._batchesByUrls[n]=[[]]);var o,i=this._batchesByUrls[n];for(o=0;o<i.length;++o){var s=i[o];if(Cs(s.concat([e])).size<=this._config.maxBatchSize){s.push(e);break}}o===i.length&&i.push([e]),this._timeoutId||"function"!=typeof setTimeout||(this._timeoutId=setTimeout(this.process.bind(this),this._config.timeout))}},Es.prototype.process=function(t){for(var e in clearTimeout(this._timeoutId),this._timeoutId=null,this._batchesByUrls){for(var n=this._batchesByUrls[e],r=0;r<n.length;++r)this._send(e,n[r],t);delete this._batchesByUrls[e]}},Es.prototype.isIdle=function(){return this._config.idle},Es._buildQueryString=function(t){for(var e=[],n=0;n<Ss.length;++n){var r=Ss[n],o="string"==typeof t[r]?t[r]:JSON.stringify(t[r]);delete t[r],void 0!==o&&o.length&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}var i=[];for(var s in t.baseQuery)i.push(s);i=i.sort();for(var a=0;a<i.length;++a){var u=i[a];e.push(encodeURIComponent(u)+"="+encodeURIComponent(t.baseQuery[u]))}return delete t.baseQuery,e.join("&")},Es.prototype._send=function(t,e,n){var r={url:t,data:"batch="+encodeURIComponent(JSON.stringify(e)),type:"POST",async:!0};if(!this._config.idle)if("undefined"!=typeof XMLHttpRequest||navigator.sendBeacon)if(n&&window.navigator.sendBeacon)window.navigator.sendBeacon(r.url,r.data);else try{var o=new XMLHttpRequest;if("function"==typeof this._config.beforeSend&&!this._config.beforeSend(o,r))return void o.abort();o.open(r.type,r.url,r.async),o.withCredentials=!0,o.send(r.data)}catch(t){ys.error("xray.send failed:",t)}else fetch(t,{method:r.type,body:r.data})},Es._stringifyParams=function(t){var e={};for(var n in t)"i"!==n?e[n]="string"==typeof t[n]?t[n]:JSON.stringify(t[n]):e.i=Es._stringifyI(t.i);return e},Es._stringifyI=function(t){var e=[];for(var n in t){var r=t[n];e.push(n+":"+r)}return e.join(",")};var Ts=0,ks=["radarPrefix","split","r","pgid","utm","o_ss","o_v"],Ps=!1,Rs=new Es,js="xray_rlog_dot_error",Us="xray_rlog_msg_abs",Ls="xray_too_long",Ms="xray_not_configured";function Ds(){this._config={xrayRadarUrl:"https://xray.mail.ru",pgid:(Date.now()+Math.random()).toString(36),radarPrefix:"",r:"undefined"!=typeof document&&document.referrer||"",defaultParams:{p:"mail",t_feature:"",v:1,skipdwh:!1}}}Ds.prototype.logger=vs,Ds.prototype.setConfig=function(t,e){t=t||{},Ps&&this._deleteProtectedParams(t),this.unsafeSetConfig(t,e)},Ds.prototype.unsafeSetConfig=function(t,e){Ps=!0,(t=t||{}).split&&(t.split=xs(t.split)),t.defaultParams&&t.defaultParams.i&&(t.defaultParams.i=this._formatIntervals(t.defaultParams.i),delete this._config.defaultParams.i),this._config=e?t:bs(this._config,t),t.gaTrackingId&&this._initGA(t.gaTrackingId)},Ds.prototype._deleteProtectedParams=function(t){for(var e=0;e<ks.length;++e)delete t[ks[e]];return t},Ds.prototype.addSplit=function(t){this._config.split=xs("".concat(this._config.split||"","s").concat(t))},Ds.prototype.getConfig=function(){return bs(this._config,{})},Ds.prototype.getTotalSended=function(){return Ts},Ds.prototype.setQueueConfig=Es.prototype.setConfig.bind(Rs),Ds.prototype.getQueueConfig=Es.prototype.getConfig.bind(Rs),Ds.prototype.getInstanceCopy=function(){var t=new Ds;return Ps=!1,t.setConfig(this._config,!0),t},Ds.prototype.send=function(t,e,n){this._send(t,e,n,!0)},Ds.prototype._send=function(t,e,n,r){if(r&&!Ps&&t!==Ms){var o=e||{};o.t=t,this._logOwnError(o,Ms),ys.warn("Your xray instance is not configured")}if(e=bs(e||{},{}),this._config.middlewares)for(var i=0;i<this._config.middlewares.length;i++){var s=(0,this._config.middlewares[i])(t,e,n);t=s.t,e=s.params,n=s.ga}t=ws(t)?t.join("_"):t,e.i&&(e.i=this._formatIntervals(e.i)),(e=bs(this._config.defaultParams,this._config.expid?{dwh:{expid:this._config.expid}}:{},e,{t:t,split:this._config.split,r:this._config.r,pgid:this._config.pgid,utm:this._config.utm,o_ss:this._config.o_ss,o_v:this._config.o_v,baseQuery:this._config.baseQuery,uid:Ts++})).skipdwh&&e.dwh&&delete e.dwh;for(var a=[e.t_feature,this._config.radarPrefix],u=0;u<a.length;++u)a[u]&&(e.t=a[u]+"_"+e.t);delete e.t_feature;try{e=this._validateParams(e,r)}catch(t){return ys.log("xray",e.uid,e),void ys.error(t.message)}if(this._config.verbose&&ys.log("xray",e.uid,e.t,e,n?"GA: "+!!n:void 0),Rs.push(this._config.xrayRadarUrl,e),!0!==n||this._config.gaTrackingId){var c="string"==typeof n?n:this._config.gaTrackingId;if(n&&c&&!Rs.isIdle()){if(e.i){for(var l in e.i)this._sendGA(t+"_"+l,e.i[l],c);return}this._sendGA(t,e.v,c)}}else ys.error("Radar #"+e.uid+": no GA tracking id specified")},Ds.prototype.sendImmediately=function(t,e,n){this.send(t,e,n),Rs.process()},Ds.prototype.addMiddleware=function(t){this._config.middlewares||(this._config.middlewares=[]),-1===Is(this._config.middlewares,t)&&this._config.middlewares.push(t)},Ds.prototype.removeMiddleware=function(t){if(this._config.middlewares){var e=Is(this._config.middlewares,t);e>-1&&this._config.middlewares.splice(e,1)}},Ds.prototype._sendGA=function(t,e,n){"function"!=typeof gtag&&this._initGA(n);var r=t.split(/_/g),o=r[1]||r[0],i=r[1]?r[0]:"",s=r.slice(2).join("_"),a={value:e,send_to:n};i&&(a.event_category=i),s&&(a.event_label=s),gtag("event",o,a)},Ds.prototype._initGA=function(t){if(!window.gtag){var e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id="+t,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date)}gtag("config",t,{send_page_view:!1})},Ds.prototype._logOwnError=function(t,e,n){var r="xray_err",o=r,i=t.p;if(i){if(i.length+r.length+1>32){var s=32-r.length-1;i=i.slice(0,s)}o="".concat(i,"_").concat(r)}var a=t.t;a.length>64&&(a=a.slice(0,64)),this._send(e,{skipdwh:!0,rlog:o,rlog_message:{t:a,err:e,value:n}},!1,!1)},Ds.prototype._validateParams=function(t,e){(t=Os(t)).rlog&&-1!==t.rlog.indexOf(".")&&(e&&this._logOwnError(t,js,t.rlog),ys.error("Radar #".concat(t.uid,": rlog can not contain file extension")),delete t.rlog,delete t.rlog_message),t.rlog&&t.rlog_message||(t.rlog_message&&(e&&this._logOwnError(t,Us),ys.error("Radar #".concat(t.uid,": rlog_message would not be sent without rlog"))),delete t.rlog,delete t.rlog_message);var n={32:[t.p,t.rlog],64:[t.p+"_"+t.t]};for(var r in t.i)n[32].push(r),n[64].push(t.p+"_"+t.t+"_"+r);for(var o in n)for(var i=n[o],s=0;s<i.length;++s)if(i[s]&&i[s].length>o)throw e&&this._logOwnError(t,Ls,i[s].slice(0,o)),new Error("Radar #".concat(t.uid,": value is too long: ").concat(n[o][s])+" (len: ".concat(i[s].length,", limit: ").concat(o,")"));return t},Ds.prototype._formatIntervals=function(t){if(_s(t))return t;var e={};if(ws(t)){for(var n=0;n<t.length;++n){var r=t[n].split(":");e[r[0]]=+r[1]||this._config.defaultParams.v}return e}if("string"==typeof t){var o=t.split(",");return this._formatIntervals(o)}};var Ns,Fs,$s,Vs,Gs,Bs=new Ds;function Ks(t,e){for(var n=t.split("&"),r=n[0],o={},i=1;i<n.length;++i){var s=n[i].split("="),a=decodeURIComponent(s[0]),u=decodeURIComponent(s[1]);try{u=JSON.parse(u)}catch(t){}o[a]=u}(e=e||{}).immediately?Bs.sendImmediately(r,o,e.ga):Bs.send(r,o,e.ga)}Ks.setConfig=function(t){Bs.setConfig(Os({verbose:t.verbose,pgid:t.pgid,split:t.split,xrayRadarUrl:t.xrayRadarUrl||t.XRAY_RADAR_URL,radarPrefix:t.radarPrefix||t.RadarPrefix,utm:t.utm,o_ss:t.o_ss,o_v:t.o_v,baseQuery:t.baseQuery,gaTrackingId:t.gaTrackingId||t.GA_TRACKING_ID,defaultParams:t.defaultParams||Os({p:t.project,email:t.ActiveEmail})})),Bs.setQueueConfig(Os({maxBatchSize:t.MAX_BATCH_SIZE,maxChunkSize:t.MAX_CHUNK_SIZE,beforeSend:t.beforeSend,timeout:t.timeout,idle:t.idle}))},Ks.getConfig=Ds.prototype.getConfig.bind(Bs),Ks.addSplit=Ds.prototype.addSplit.bind(Bs),Ks.unsafeSetConfig=Ds.prototype.unsafeSetConfig.bind(Bs),Ks.setQueueConfig=Ds.prototype.setQueueConfig.bind(Bs),Ks.getQueueConfig=Ds.prototype.getQueueConfig.bind(Bs),Ks.getTotalSended=Ds.prototype.getTotalSended.bind(Bs),Ks.send=Ds.prototype.send.bind(Bs),Ks.sendImmediately=Ds.prototype.sendImmediately.bind(Bs),Ks.getInstanceCopy=Ds.prototype.getInstanceCopy.bind(Bs),Ks.addMiddleware=Ds.prototype.addMiddleware.bind(Bs),Ks.removeMiddleware=Ds.prototype.removeMiddleware.bind(Bs),function(t){t[t.auto=42]="auto",t[t.cloud=182]="cloud",t[t.deti=129]="deti",t[t.dobro=190]="dobro",t[t.health=145]="health",t[t.hitech=123]="hitech",t[t.home=169]="home",t[t.games=133]="games",t[t.go=76]="go",t[t.kino=30]="kino",t[t.lady=104]="lady",t[t.moymir=120]="moymir",t[t.moymirgameclub=501]="moymirgameclub",t[t.news=29]="news",t[t.octavius=105]="octavius",t[t.ok=163]="ok",t[t.pets=466]="pets",t[t.pulse=485]="pulse",t[t.realty=122]="realty",t[t.vkmail=509]="vkmail",t[t.weather=112]="weather",t[t.youla=460]="youla"}(Ns||(Ns={})),function(t){t.friends="friends",t.messages="messages",t.photos="photos",t.groups="groups",t.notifications="notifications"}(Fs||(Fs={})),function(t){t.markCnt="markCnt",t.messageCnt="messageCnt",t.notificationCnt="notificationCnt",t.messages="messages",t.friends="friends",t.presents="presents"}($s||($s={})),function(t){t.additional="additional",t.business="business",t.mailrugroup="mailrugroup",t.general="general"}(Vs||(Vs={})),function(t){t[t.promo=256]="promo",t[t.pointer=8]="pointer"}(Gs||(Gs={}));const Qs=(t,e)=>{!Xi&&Ks.send(t,e)};var Hs=Qt("match"),zs=I.f,Ws=_t.f,qs=et.set,Ys=Qt("match"),Js=r.RegExp,Xs=Js.prototype,Zs=/a/g,ta=/a/g,ea=new Js(Zs)!==Zs,na=pi.UNSUPPORTED_Y;if(i&&Tt("RegExp",!ea||na||o((function(){return ta[Ys]=!1,Js(Zs)!=Zs||Js(ta)==ta||"/a/i"!=Js(Zs,"i")})))){for(var ra=function(t,e){var n,r,o,i=this instanceof ra,s=v(n=t)&&(void 0!==(r=n[Hs])?!!r:"RegExp"==f(n)),a=void 0===e;if(!i&&s&&t.constructor===ra&&a)return t;ea?s&&!a&&(t=t.source):t instanceof ra&&(a&&(e=hi.call(t)),t=t.source),na&&(o=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var u=ei(ea?new Js(t,e):Js(t,e),i?this:Xs,ra);return na&&o&&qs(u,{sticky:o}),u},oa=function(t){t in ra||zs(ra,t,{configurable:!0,get:function(){return Js[t]},set:function(e){Js[t]=e}})},ia=Ws(Js),sa=0;ia.length>sa;)oa(ia[sa++]);Xs.constructor=ra,ra.prototype=Xs,nt(r,"RegExp",ra)}Yt("RegExp");const aa="s",ua="s_",ca=t=>!(t===aa||t.startsWith(ua)||"ph"===t);function la(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,o,i]=e;if(void 0!==o){let t="",e=i||{};null===o?e=Object.assign(Object.assign({},e),{expires:-1}):t=o.toString();const n=ca(r)?encodeURIComponent(t):t,s=()=>{if(e.expires&&"number"==typeof e.expires){return`; expires=${new Date(Date.now()+e.expires*Bn).toUTCString()}`}return""},a=e.path?`; path=${e.path}`:"",u=e.domain?`; domain=${e.domain}`:"",c=e.samesite?`; SameSite=${e.samesite}`:"",l=e.secure?"; secure":"";return document.cookie=`${r}=${n}${s()}${a}${u}${c}${l}`,t}if(document.cookie){let t=(document.cookie.match(new RegExp(`(?:^|; ?)${r}\\=(\\S*?)(?:; ?|$)`))||[])[1];if(ca(r)&&t)try{t=decodeURIComponent(t)}catch(t){}return t}}var fa=function(){if(function(t,e,n){if(!/Version\/.* Safari\//.test(t)||/Chrom(e|ium)/.test(t))return!1;var r=t.match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);return r&&r[1]===String(e)&&r[2]===String(n)}(navigator.userAgent,10,14)||function(t,e){var n=t.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return n&&n[1]===String(e)}(navigator.userAgent,12))return"";var t,e;return document.cookie="_s_test=1;path=/;SameSite=None;Secure",t="_s_test",((e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0)?(document.cookie="_s_test=1;path=/;max-age=-1;SameSite=None;Secure",";SameSite=None;Secure"):""};function ha(){return";SameSite=None;Secure"===fa()}function da(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,o,i,s]=e;const a=new RegExp(`(^|\\|)(${i}=)(.*?)(\\||$)`),u=Object.assign({domain:o,expires:365,path:"/"},ha()&&{samesite:"None",secure:!0});let c,l;if(i){if(c=la(r)||"",l=(c.match(a)||[])[3],void 0!==s){let t=null,e="";if(void 0!==l||null===s){let n;n=null===s?(t,e,n,r,o,i,s)=>0===i?"":o:`$1$2${s}$4`,t=c.replace(a,n),e=t}else c&&(e=`${c}|`),e=`${e+i}=${s}`;la(r,""===t?null:e,u)}else s=l;return s}}const pa={__domain:`.${es}`,__prefix:null,_S_cookie_set_get_remove:da,_getPrefix(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={prefix:t.prefix||pa.__prefix,domain:t.domain||pa.__domain};if(!e.prefix||!e.domain)throw new Error("run setProject before");return e},_throw_noValue_Error(){throw new Error("need value")},getGlobal:t=>da("s",pa.__domain,t),setGlobal:(t,e)=>(void 0===e&&pa._throw_noValue_Error(),da(aa,pa.__domain,t,e),pa.getGlobal(t)),removeGlobal(t){const e=pa.getGlobal(t);return da(aa,pa.__domain,t,null),e},setProject(t,e){if(!t||!e)throw new Error("project is not valid");e.startsWith(".")||(e=`.${e}`),pa.__prefix=t,Xi&&(e=e.replace(/.[a-z0-9\-]*.[a-z0-9]*$/,".devmail.ru")),pa.__domain=e},getLocal(t,e){const n=pa._getPrefix(e);return da(`s_${n.prefix}`,n.domain,t)},setLocal(t,e,n){const r=pa._getPrefix(n);return void 0===e&&pa._throw_noValue_Error(),da(`s_${r.prefix}`,r.domain,t,e),pa.getLocal(t,r)},removeLocal(t,e){const n=pa._getPrefix(e),r=pa.getLocal(t,n);return da(`s_${n.prefix}`,n.domain,t,null),r}};function ga(){return window.devicePixelRatio}class va{constructor(){this._invocations=[],this._fn=null,this._context=null}getQuery(){const t=this._invoke.bind(this);return t.replaceImpl=this.replaceImpl.bind(this),t}_invoke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._fn?this._fn.apply(this._context,e):this._invocations.push(e)}replaceImpl(t,e){if(this._fn)return;const n=e||window;this._invocations.forEach((e=>{t.apply(n,e)})),delete this._invocations,this._fn=t,this._context=n}}function ya(t){const e=new URLSearchParams(t),n={};return e.forEach(((t,e)=>{n[e]=t})),n}let ma=!1;class _a extends hs{constructor(t){if(super(),this.show=(new va).getQuery(),this.hide=(new va).getQuery(),this.insert=(new va).getQuery(),t.authGate){const e={allow_external:t.enableExtDomains,vk:t.social.vk?1:null,ok:t.social.ok?1:null,fb:t.social.fb?1:null,mobile_redirect:!!t.authGateMobileRedirect,app_id_mytracker:t.appIdMytracker};t.authGateSuccessRedirectUrl&&(e.success_redirect=t.authGateSuccessRedirectUrl),t.siteId&&Ns[t.siteId]&&(e.project=Ns[t.siteId]),t.enableLoginByPhone&&(e.supports_ph_acc=1),window.__AG_onload=()=>{const t=window.__AG;t&&(t.setSettings(e),this.show.replaceImpl(function(t,e){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"navi"};if(wa(t))ba(t,e,n.focus);else{if(n){const{preview:t}=ya(window.location.search);if(t&&(n.preview=t),!n.type)switch(n.formType){case"login":n.type="login";break;case"relogin":n.type="choice"}!n.success_redirect&&n.successPage&&(n.success_redirect=n.successPage);const e={dwh:{source:n.source},skipdwh:!1};Qs("open_auth_form",e)}t.show(n)}}}(t,this)),this.hide.replaceImpl(function(t){return()=>{ma||t.hide()}}(t)),this.insert.replaceImpl(function(t){return(e,n)=>{t.insert&&(ma=!0,t.insert(e,n))}}(t)),this.isVisible=()=>t.isVisible(),hs.relay([as.Show,as.Hide,as.Load],t,this))},ps(function(t,e){const n=new URL(t);return n.searchParams?(Object.entries(e).forEach((t=>{let[e,r]=t;n.searchParams.set(e,r)})),n.toString()):t}(t.authGateVersion||"https://img.imgsmail.ru/ag/2.8.3/authGate.js",{onload:"__AG_onload"}))}}isVisible(){return!1}}function wa(t){return t.insert&&ma}function ba(t,e,n){if(t.focus){const r=n&&"string"==typeof n?n:"login";t.focus(r,(()=>{e.emit(as.Focus)}))}}class Ca extends hs{constructor(){super(...arguments),this.show=(new va).getQuery(),this.hide=(new va).getQuery()}}class Sa extends hs{constructor(){super(...arguments),this.show=(new va).getQuery(),this.hide=(new va).getQuery()}}class Aa extends hs{constructor(){super(...arguments),this.show=(new va).getQuery(),this.hide=(new va).getQuery()}}var Ea=function(t){return function(e,n,r,o){Jt(n);var i=ir(e),s=d(i),a=lt(i.length),u=t?a-1:0,c=t?-1:1;if(r<2)for(;;){if(u in s){o=s[u],u+=c;break}if(u+=c,t?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:a>u;u+=c)u in s&&(o=n(o,s[u],u,i));return o}},xa={left:Ea(!1),right:Ea(!0)},Oa=xa.left,Ia=si("reduce");Pt({target:"Array",proto:!0,forced:!Ia||!Ut&&Ft>79&&Ft<83},{reduce:function(t){return Oa(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Ta=function(){return Ta=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ta.apply(this,arguments)},ka=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Pa=function(t,e,n){if(void 0===n&&(n=!1),!t||!e||"object"!=typeof t||"object"!=typeof e)return t;var r=Ta({},t);for(var o in e)e.hasOwnProperty(o)&&(e[o]instanceof Array&&t[o]instanceof Array?r[o]=n?ka(t[o],e[o]):e[o]:"object"==typeof e[o]&&"object"==typeof t[o]?r[o]=Pa(t[o],e[o],n):r[o]=e[o]);return r},Ra=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},ja={defaults:{},errorType:null,polyfills:{fetch:null,FormData:null,URLSearchParams:null,performance:null,PerformanceObserver:null,AbortController:null},polyfill:function(t,e){for(var n=void 0===e?{}:e,r=n.doThrow,o=void 0===r||r,i=n.instance,s=void 0!==i&&i,a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var c=this.polyfills[t]||("undefined"!=typeof self?self[t]:null)||("undefined"!=typeof global?global[t]:null);if(o&&!c)throw new Error(t+" is not defined");return s&&c?new(c.bind.apply(c,Ra([void 0],a))):c}},Ua=function(t,e,n,r){if(!t.getEntriesByName)return!1;var o=t.getEntriesByName(e);return!!(o&&o.length>0)&&(n(o.reverse()[0]),r.clearMeasures&&r.clearMeasures(e),La.callbacks.delete(e),La.callbacks.size<1&&(La.observer.disconnect(),r.clearResourceTimings&&r.clearResourceTimings()),!0)},La={callbacks:new Map,observer:null,observe:function(t,e){if(t&&e){var n=ja.polyfill("performance",{doThrow:!1});(function(t,e){return!La.observer&&t&&e&&(La.observer=new e((function(e){La.callbacks.forEach((function(n,r){Ua(e,r,n,t)}))})),t.clearResourceTimings&&t.clearResourceTimings()),La.observer})(n,ja.polyfill("PerformanceObserver",{doThrow:!1}))&&(Ua(n,t,e,n)||(La.callbacks.size<1&&La.observer.observe({entryTypes:["resource","measure"]}),La.callbacks.set(t,e)))}}},Ma=xa.right,Da=si("reduceRight");Pt({target:"Array",proto:!0,forced:!Da||!Ut&&Ft>79&&Ft<83},{reduceRight:function(t){return Ma(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Na=function(t){this.error=t},Fa=function(){return Fa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fa.apply(this,arguments)},$a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Va="application/json",Ga="Content-Type",Ba=function(){function t(t,e,n,r,o,i){void 0===n&&(n=new Map),void 0===r&&(r=[]),void 0===o&&(o=[]),void 0===i&&(i=[]),this._url=t,this._options=e,this._catchers=n,this._resolvers=r,this._middlewares=o,this._deferredChain=i}return t.factory=function(e,n){return void 0===e&&(e=""),void 0===n&&(n={}),new t(e,n)},t.prototype.selfFactory=function(e){var n=void 0===e?{}:e,r=n.url,o=void 0===r?this._url:r,i=n.options,s=void 0===i?this._options:i,a=n.catchers,u=void 0===a?this._catchers:a,c=n.resolvers,l=void 0===c?this._resolvers:c,f=n.middlewares,h=void 0===f?this._middlewares:f,d=n.deferredChain,p=void 0===d?this._deferredChain:d;return new t(o,Fa({},s),new Map(u),$a(l),$a(h),$a(p))},t.prototype.defaults=function(t,e){return void 0===e&&(e=!1),ja.defaults=e?Pa(ja.defaults,t):t,this},t.prototype.errorType=function(t){return ja.errorType=t,this},t.prototype.polyfills=function(t){return ja.polyfills=Fa(Fa({},ja.polyfills),t),this},t.prototype.url=function(t,e){if(void 0===e&&(e=!1),e)return this.selfFactory({url:t});var n=this._url.split("?");return this.selfFactory({url:n.length>1?n[0]+t+"?"+n[1]:this._url+t})},t.prototype.options=function(t,e){return void 0===e&&(e=!0),this.selfFactory({options:e?Pa(this._options,t):t})},t.prototype.query=function(t,e){return void 0===e&&(e=!1),this.selfFactory({url:Ka(this._url,t,e)})},t.prototype.headers=function(t){return this.selfFactory({options:Pa(this._options,{headers:t||{}})})},t.prototype.accept=function(t){return this.headers({Accept:t})},t.prototype.content=function(t){var e;return this.headers(((e={})["Content-Type"]=t,e))},t.prototype.auth=function(t){return this.headers({Authorization:t})},t.prototype.catcher=function(t,e){var n=new Map(this._catchers);return n.set(t,e),this.selfFactory({catchers:n})},t.prototype.signal=function(t){return this.selfFactory({options:Fa(Fa({},this._options),{signal:t.signal})})},t.prototype.resolve=function(t,e){return void 0===e&&(e=!1),this.selfFactory({resolvers:e?[t]:$a(this._resolvers,[t])})},t.prototype.defer=function(t,e){return void 0===e&&(e=!1),this.selfFactory({deferredChain:e?[t]:$a(this._deferredChain,[t])})},t.prototype.middlewares=function(t,e){return void 0===e&&(e=!1),this.selfFactory({middlewares:e?t:$a(this._middlewares,t)})},t.prototype.method=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null);var r=this._options.headers,o=n?"object"!=typeof n||r&&!Object.entries(r).every((function(t){var e=t[0],n=t[1];return e.toLowerCase()!==Ga.toLowerCase()||n.startsWith(Va)}))?this.body(n):this.json(n):this;return function(t){var e=t._url,n=t._catchers,r=t._resolvers,o=t._middlewares,i=t._options,s=new Map(n),a=Pa(ja.defaults,i),u=ja.polyfill("AbortController",{doThrow:!1,instance:!0});!a.signal&&u&&(a.signal=u.signal);var c={ref:null,clear:function(){c.ref&&(clearTimeout(c.ref),c.ref=null)}},l=function(t){return function(e){return 0===t.length?e:1===t.length?t[0](e):t.reduceRight((function(n,r,o){return o===t.length-2?r(n(e)):r(n)}))}}(o)(ja.polyfill("fetch"))(e,a),f=l.catch((function(t){throw new Na(t)})).then((function(t){return c.clear(),t.ok?t:t[ja.errorType||"text"]().then((function(e){var n=new Error(e);throw n[ja.errorType||"text"]=e,n.status=t.status,n.response=t,n}))})),h=function(e){return e.catch((function(e){c.clear();var n=e instanceof Na?e.error:e;if(e instanceof Na&&s.has("__fromFetch"))return s.get("__fromFetch")(n,t);if(s.has(n.status))return s.get(n.status)(n,t);if(s.has(n.name))return s.get(n.name)(n,t);throw n}))},d=function(t){return function(e){return h(t?f.then((function(e){return e&&e[t]()})).then((function(t){return e?e(t):t})):f.then((function(t){return e?e(t):t})))}},p={res:d(null),json:d("json"),blob:d("blob"),formData:d("formData"),arrayBuffer:d("arrayBuffer"),text:d("text"),perfs:function(t){return l.then((function(e){return La.observe(e.url,t)})),p},setTimeout:function(t,e){return void 0===e&&(e=u),c.clear(),c.ref=setTimeout((function(){return e.abort()}),t),p},controller:function(){return[u,p]},error:function(t,e){return s.set(t,e),p},badRequest:function(t){return p.error(400,t)},unauthorized:function(t){return p.error(401,t)},forbidden:function(t){return p.error(403,t)},notFound:function(t){return p.error(404,t)},timeout:function(t){return p.error(408,t)},internalError:function(t){return p.error(500,t)},fetchError:function(t){return p.error("__fromFetch",t)},onAbort:function(t){return p.error("AbortError",t)}};return r.reduce((function(e,n){return n(e,t)}),p)}((o=o.options(Fa(Fa({},e),{method:t})))._deferredChain.reduce((function(t,e){return e(t,t._url,t._options)}),o))},t.prototype.get=function(t){return this.method("GET",t)},t.prototype.delete=function(t){return this.method("DELETE",t)},t.prototype.put=function(t,e){return this.method("PUT",e,t)},t.prototype.post=function(t,e){return this.method("POST",e,t)},t.prototype.patch=function(t,e){return this.method("PATCH",e,t)},t.prototype.head=function(t){return this.method("HEAD",t)},t.prototype.opts=function(t){return this.method("OPTIONS",t)},t.prototype.replay=function(t){return this.method(this._options.method,t)},t.prototype.body=function(t){return this.selfFactory({options:Fa(Fa({},this._options),{body:t})})},t.prototype.json=function(t){var e,n=null===(e=Object.entries(this._options.headers||{}).find((function(t){var e=t[0],n=t[1];return e.toLowerCase()===Ga.toLowerCase()&&n.startsWith(Va)})))||void 0===e?void 0:e[1];return this.content(n||Va).body(JSON.stringify(t))},t.prototype.formData=function(t,e){return void 0===e&&(e=!1),this.body(Qa(t,e))},t.prototype.formUrl=function(t){return this.body("string"==typeof t?t:(e=t,Object.keys(e).map((function(t){var n=e[t];return n instanceof Array?n.map((function(e){return Ha(t,e)})).join("&"):Ha(t,n)})).join("&"))).content("application/x-www-form-urlencoded");var e},t}(),Ka=function(t,e,n){var r;if("string"==typeof e)r=e;else{var o=ja.polyfill("URLSearchParams",{instance:!0});for(var i in e)if(e[i]instanceof Array)for(var s=0,a=e[i];s<a.length;s++){var u=a[s];o.append(i,u)}else o.append(i,e[i]);r=o.toString()}var c=t.split("?");return n||c.length<2?c[0]+"?"+r:t+"&"+r};function Qa(t,e,n,r){return void 0===e&&(e=!1),void 0===n&&(n=ja.polyfill("FormData",{instance:!0})),void 0===r&&(r=[]),Object.entries(t).forEach((function(t){var o=t[0],i=t[1],s=r.reduce((function(t,e){return t?t+"["+e+"]":e}),null);if(s=s?s+"["+o+"]":o,i instanceof Array)for(var a=0,u=i;a<u.length;a++){var c=u[a];n.append(s+"[]",c)}else!e||"object"!=typeof i||e instanceof Array&&e.includes(o)?n.append(s,i):null!==i&&Qa(i,e,n,$a(r,[o]))})),n}function Ha(t,e){return encodeURIComponent(t)+"="+encodeURIComponent("object"==typeof e?JSON.stringify(e):""+e)}var za=Ba.factory;za.default=Ba.factory;class Wa{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.url=t,this.isCors=e}get options(){return this.isCors?{credentials:"include",mode:"cors"}:{mode:"no-cors"}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return za().options(this.options).url(this.url+e).query(t).query({_:Math.round((new Date).getTime()+1e9*Math.random())}).get().fetchError(((t,e)=>{const n=`${t.message} in request to ${e._url}`;throw new Error(n)}))}getJson(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.get(t,e).json()}post(t){return za(this.url).options(Object.assign(Object.assign({},this.options),{method:"post"})).formUrl(t).post()}}const qa=Xi?"//portal.devmail.ru":`//portal.${es}`,Ya=Xi?"//auth.devmail.ru":`//auth.${es}`,Ja=`//ok.ru/mapi?query=${encodeURIComponent('{"cmd":"getCounters"}')}`;var Xa;!function(t){t.OK="ok",t.NOAUTH="noauth",t.ERROR="error"}(Xa||(Xa={}));const Za={mac:1,Socials:1};var tu,eu=new class extends Wa{constructor(){super(qa)}getInfo(t,e,n){let r=Object.assign(Object.assign(Object.assign({},Za),{gamescnt:1}),e);return Xi&&(r=Object.assign(Object.assign({},r),{ldata:1})),t&&(r=Object.assign(Object.assign({},r),{Login:t})),n&&(r=Object.assign(Object.assign({},r),{ldata:1,target:1})),this.getJson(r,"/NaviData")}getListInfo(t,e,n){let r=Object.assign(Object.assign(Object.assign({},Za),{ldata:1}),e);return t&&(r=Object.assign(Object.assign({},r),{Login:t})),n&&(r=Object.assign(Object.assign({},r),{target:1})),this.getJson(r,"/NaviData")}getDomains(t){return this.getJson(t,"/Domains")}};!function(t){t.OK="ok",t.NOAUTH="noauth",t.MRIM="mrim"}(tu||(tu={}));class nu extends Wa{auth(t){const e={mac:1,Login:t};return this.getJson(e,"/cgi-bin/auth")}logout(t){const e={Login:t,mac:1};return this.getJson(e,"/cgi-bin/logout")}}class ru{static convert(t){let{status:e,data:n}=t;var r,o,i;const s=(null===(r=n)||void 0===r?void 0:r.ldata)||{};return{status:e,accounts:(null===(i=null===(o=n)||void 0===o?void 0:o.list)||void 0===i?void 0:i.map((t=>({email:t,active:n.email===t,firstName:s[t].first_name||"",lastName:s[t].last_name||"",socialId:ru.getSocialId(t),verified:!!s[t].verified,counters:{mail:s[t].mail_cnt}}))))||[]}}static getSocialId(t){const e=t.match(/^[0-9]+@(vk|ok|fb)$/);return e&&e[1]}}const ou="s_c";function iu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let e=0;e<t.length;e+=1){const n=t[e].split("@")[1];if(["corp.mail.ru","vk.team"].includes(n))return pa.setGlobal(ou,Date.now()),!0}const e=pa.getGlobal(ou);if(e&&Date.now()>1*+e+Bn)return pa.removeGlobal(ou),!1}var su=new class extends Wa{constructor(){super(Ja)}};class au{constructor(t,e,n){let{eventType:r,counterKeys:o}=t;this.eventType=r,this.counterKeys=o,this.updateAccountCounter=e,this.eventEmitter=n}get value(){return this._value}updateValue(t){this._value=t}updateData(t){this.eventEmitter.emit(this.eventType,null,this.parseSocialData(t));const e=this.summarizeCounters(this.parseSocialData(t),this.counterKeys);this.value!==e&&this.updateValue(e)}summarizeCounters(t,e){return Object.entries(t).reduce(((t,n)=>{let[r,o]=n;return t+(e[r]?o:0)}),0)}parseSocialData(t){return Object.entries(t).reduce(((t,e)=>{let[n,r]=e;return t[n]=["number","string"].includes(typeof r)?r:r.count,t}),{})}getDataFromApi(){}}class uu extends au{constructor(t,e){super({eventType:rs.UpdateCounterOK,counterKeys:$s},t,e)}getDataFromApi(){su.getJson().then((t=>{"no auth"===t.status?this.updateAccountCounter({ok:{}}):this.updateAccountCounter({ok:t.data||{}}),Qs("ok_counter_success"),Qs("social_counters_ok_success_api")})).catch((()=>{Qs("ok_counter_error"),Qs("social_counters_ok_error_api")}))}}var cu=new class extends Wa{constructor(){super("//vk.com/feed2.php")}};class lu extends au{constructor(t,e){super({eventType:rs.UpdateCounterVK,counterKeys:Fs},t,e)}getDataFromApi(){cu.getJson({act:"widget",utm_source:"mrg_ph"}).then((t=>{var e;-1!==(null===(e=t.user)||void 0===e?void 0:e.id)?this.updateAccountCounter({vk:t||{}}):this.updateAccountCounter({vk:{}}),Qs("vk_counter_success"),Qs("social_counters_vk_success_api")})).catch((()=>{Qs("vk_counter_error"),Qs("social_counters_vk_error_api")}))}}let fu=!1;const hu=(t,e)=>t&&e?`${t} ${e}`:t||e;class du{constructor(t){let{ph:e,eventEmitter:n,activeUser:r,authUrl:o=Ya,socialCountersSettings:i,stayInAccountList:s,isShowCloudStoriesCounter:a,addTargetToNaviData:u}=t;this.gamesCount=0,this.mailCount=0,this.moymirCount=0,this.loveCount=0,this.cloudCount=0,this.quotaCounters={mail:{},cloud:{}},this.restAccountsMailCount=0,this.accounts=[],this.ph=e,this.eventEmitter=n,this.activeUser=r||void 0,this.parentActiveUser=r||void 0,this.authApi=new nu(function(t){const e="mail.ru"===window.location.host,n=/\.mail\.ru$/.test(window.location.host);return e||n?Ya:t}(o)),this.socialCountersSettings=i,this.okCounter=new uu(this.updateSomeCounters.bind(this),n),this.vkCounter=new lu(this.updateSomeCounters.bind(this),n),this.isShowCloudStoriesCounter=a,this.stayInAccountList=s,this.loadAccountsList(null,this.getSocialsParams(),u),this.socialCountersSettings.isShowOkCounter&&Qs("social_counters_hit_ok"),this.socialCountersSettings.isShowVKCounter&&Qs("social_counters_hit_vk")}getSocialsParams(){const t={};return this.socialCountersSettings.isShowVKCounter&&this.socialCountersSettings.isVKConnectForVKCounter&&(t.vk_connect=1),this.socialCountersSettings.isShowOkCounter&&this.socialCountersSettings.isServerApiForOKCounter&&(t.ok_counters=1),t}getCloudCounterParams(){const t={};return this.isShowCloudStoriesCounter&&(t.cstories=1),t}getCountersQueryParams(){const t=this.getSocialsParams(),e=this.getCloudCounterParams();return Object.assign(Object.assign({},t),e)}handleSocialCounters(t,e){let{vk_counters:n=null,ok_counters:r=null}=t;var o,i;n&&Object.values(n).length?(Qs("vk_counter_success"),Qs("social_counters_vk_server")):e&&(null===(o=this.socialCountersSettings)||void 0===o?void 0:o.isShowVKCounter)&&(this.vkCounter.getDataFromApi(),n&&Qs("social_counters_vk_repeat")),r&&Object.values(r).length?(Qs("ok_counter_success"),Qs("social_counters_ok_server")):e&&(null===(i=this.socialCountersSettings)||void 0===i?void 0:i.isShowOkCounter)&&(this.socialCountersSettings.isServerApiForOKCounter?this.socialCountersSettings.isClientApiAfterServerApiForOKCounter?this.okCounter.getDataFromApi():this.updateSomeCounters({ok:{}}):this.okCounter.getDataFromApi())}handleSocialCountersErrors(){var t,e;(null===(t=this.socialCountersSettings)||void 0===t?void 0:t.isShowVKCounter)&&(Qs("vk_counter_error"),Qs("social_counters_vk_error_server")),(null===(e=this.socialCountersSettings)||void 0===e?void 0:e.isShowOkCounter)&&(Qs("ok_counter_error"),Qs("social_counters_ok_error_server"))}loadAccountInfo(t,e,n){return eu.getInfo(t,e,n).then((t=>{var n;Qs("load_account_info_success"),t.status===Xa.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),iu(null===(n=t.data)||void 0===n?void 0:n.list)):t.status===Xa.NOAUTH&&this.handleClearAccount()})).catch((()=>{Qs("load_account_info_error"),this.handleSocialCountersErrors()}))}loadAccountsList(t,e,n){let r={};return eu.getListInfo(this.activeUser,e,n).then((t=>{var n;Qs("load_accounts_list_success"),t.status===Xa.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),iu(null===(n=t.data)||void 0===n?void 0:n.list)):t.status===Xa.NOAUTH&&this.handleClearAccount(),r=t,fu||(fu=!0)})).catch((()=>{Qs("load_accounts_list_error"),this.handleSocialCountersErrors(),r={status:Xa.ERROR,data:{}}})).finally((()=>{t&&t(ru.convert(r))}))}logoutAccount(t,e){return this.authApi.logout(t).then((t=>{Qs("logout_account_success"),t.status===Xa.OK&&this.loadAccountsList(e)})).catch((()=>{Qs("logout_account_error")}))}switchAccountWithReload(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t?this.authApi.auth(t).then((o=>{let{status:i,data:s,location:a}=o;switch(Qs("switch_account_success"),i){case tu.OK:this.activeUserFullName=hu(s.first_name,s.last_name),e?this.loadAccountsList(null,n):this.loadAccountInfo(s.email,n,r);break;case tu.MRIM:return(null===window||void 0===window?void 0:window.location)&&a&&(window.location.href=a),!1;case tu.NOAUTH:if(s.list.includes(t))return this.handleExpiredAccount(t),!1;s.email&&s.list.length?this.stayInAccountList?this.loadAccountInfo(s.email,n):this.loadAccountsList(null,n):s.list.length||this.handleClearAccount()}return!0})).catch((()=>(Qs("switch_account_error"),!0))):Promise.resolve(!0)}updateSomeCounters(t){"mail"in t&&this.updateCounterMail(+t.mail),"love"in t&&this.updateCounterLove(+t.love),"games"in t&&this.updateCounterGames(+t.games),"moymir"in t&&this.updateCounterMoyMir(+t.moymir),"ok"in t&&this.okCounter.updateData(t.ok),"vk"in t&&this.vkCounter.updateData(t.vk),"cloud-with-utm"in t&&this.updateCounterCloudStories(t["cloud-with-utm"]),this.emitAccountDataUpdate()}emitAccountDataUpdate(){this.eventEmitter.emit(rs.AccountDataUpdate,null,{activeUser:this.activeUser,activeUserFullName:this.activeUserFullName,parentActiveUser:this.parentActiveUser,gamesCount:this.gamesCount,mailCount:this.mailCount,moymirCount:this.moymirCount,okCount:this.okCounter.value,vkCount:this.vkCounter.value,loveCount:this.loveCount,cloudCount:this.cloudCount,restAccountsMailCount:this.restAccountsMailCount,accounts:this.accounts,quotaCounters:this.quotaCounters})}updateCounterMail(t){"number"==typeof t&&this.mailCount!==t&&(this.eventEmitter.emit(rs.UpdateCounterMail,null,{count:t}),this.mailCount=t)}updateCounterLove(t){"number"==typeof t&&this.loveCount!==t&&(this.eventEmitter.emit(rs.UpdateCounterLove,null,{count:t}),this.loveCount=t)}updateCounterGames(t){"number"==typeof t&&this.gamesCount!==t&&(this.eventEmitter.emit(rs.UpdateCounterGames,null,{count:t}),this.gamesCount=t)}updateCounterMoyMir(t){"number"==typeof t&&this.moymirCount!==t&&(this.eventEmitter.emit(rs.UpdateCounterMoyMir,null,{count:t}),this.moymirCount=t)}updateCounterCloudStories(t){const e=this.isShowCloudStoriesCounter?t:0;Number.isInteger(e)&&this.cloudCount!==e&&(this.eventEmitter.emit(rs.UpdateCounterCloudStories,null,{count:e}),this.cloudCount=e)}updateQuotaCounters(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{mail:n={},cloud:r={}}=this.quotaCounters,{used_cnt:o}=n,{used_cnt:i,total_cnt:s}=r;let a=n,u=r,c=!1;o!==(null==t?void 0:t.used_cnt)&&(a=t,c=!0),i===(null==e?void 0:e.used_cnt)&&s===(null==e?void 0:e.total_cnt)||(u=e,c=!0),c&&(this.eventEmitter.emit(rs.UpdateQuotaCounters,null,{mail:a,cloud:u}),this.quotaCounters={mail:a,cloud:u})}handleAuthChange(t,e){const n=pu(t),r=()=>({email:n,list:t?t.list:[]});if(this.ph.getListenersNumber(os.AuthChange)&&fu&&this.activeUser!==n)return(new Image).src=`//r3.${ts}/k?auth=1&rnd=${Math.random()}`,void this.ph.emit(os.AuthChange,e,r());fu||!this.activeUser||n||this.ph.emit(os.InvalidServerSideAuth,null,r()),e()}handleUpdateAccount(t){this.handleAuthChange(t,(()=>{this.updateAccount(t)}))}updateAccount(t){if(this.parentActiveUser=t.email,this.activeUser=pu(t),this.restAccountsMailCount=t.mail_notifier?+t.mail_notifier:0,t.ldata){const e=function(t){const e=[];return t.list.forEach((n=>{const r=t.ldata[n].children;let o;r&&(o={},Object.entries(r).forEach((t=>{let[n,r]=t;e.push({user:n,firstName:r.first_name,lastName:r.last_name,mailCounter:r.mail_cnt,verified:!1,child:!0}),o[n]={firstName:r.first_name,lastName:r.last_name,mailCounter:r.mail_cnt,isActive:r.active}})));const i=t.ldata[n];e.push({user:n,firstName:i.first_name,lastName:i.last_name,mailCounter:i.mail_cnt,verified:i.verified,child:i.child,children:o})})),[...e.reduce(((t,e)=>(t.set(e.user,e),t)),new Map).values()]}(t);this.accounts=e;const n=e.find((t=>t.user===this.activeUser)),r=n.firstName?n.firstName:"",o=n.lastName?n.lastName:"";this.activeUserFullName=hu(r,o)}this.updateCounterMail(+t.mail_cnt),this.updateCounterMoyMir(+t.my_cnt),this.updateCounterGames(+t.games_cnt),this.updateCounterCloudStories(+t.cloud_stories_cnt),this.updateQuotaCounters(null==t?void 0:t.mail_quota_counters,null==t?void 0:t.cloud_quota_counters),t.ok_counters&&Object.values(t.ok_counters).length&&this.okCounter.updateData(t.ok_counters),t.vk_counters&&Object.values(t.vk_counters).length&&this.vkCounter.updateData(t.vk_counters),this.emitAccountDataUpdate()}handleClearAccount(){this.ph.getListenersNumber(os.AuthLost)&&this.activeUser?this.ph.emit(os.AuthLost,this.clearAccount,{}):this.handleAuthChange("",this.clearAccount.bind(this))}handleExpiredAccount(t){this.ph.authForm.show({type:"choice",email:t,from:"navi"})}clearAccount(){this.activeUser="",this.activeUserFullName="",this.parentActiveUser="",this.updateCounterMail(0),this.updateCounterLove(0),this.updateCounterGames(0),this.updateCounterMoyMir(0),this.updateCounterCloudStories(0),this.updateQuotaCounters({},{}),this.okCounter.updateData({}),this.vkCounter.updateData({}),this.restAccountsMailCount=0,this.accounts=[],this.emitAccountDataUpdate()}}function pu(t){return t?t.active_email||t.email:""}class gu{constructor(t,e){this._ph=t,this._options=e,document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}onVisibilityChange(){const t="hidden"!==document.visibilityState,{socialCountersSettings:{isShowOkCounter:e,isShowVKCounter:n,updateSocialCountersOnVisibilityChange:r},isShowCloudStoriesCounter:o,isHideRightPart:i}=this._options,s=r?this._ph.getSocialsParams():null,a=o?this._ph.getCloudCounterParams():null;if(this._ph.emit(os.VisibilityChange,null,{visible:t}),t){const t=this._ph.activeUser();t&&!i?(this._ph.switchAccount(t,!1,!1,Object.assign(Object.assign({},s),a)),s&&e&&Qs("social_counters_visibility_change_ok"),s&&n&&Qs("social_counters_visibility_change_vk"),a&&o&&Qs("cloud_counter_visibility_change")):this._ph.loadAccountInfo()}}}let vu,yu;window.__PH=new class extends class extends class{constructor(t){this._emitter=new hs,this._instantEmitter=new ds,this._instantEvents=t||[]}getListenersNumber(t){return this._getApiMethod(t,"getListenersNumber")(t)}on(t,e){return this._getApiMethod(t,"on")(t,e),this}removeListener(t,e){return this._getApiMethod(t,"removeListener")(t,e),this}once(t,e){return this._getApiMethod(t,"once")(t,e),this}emit(t,e,n){return this._getApiMethod(t,"emit")(t,e,n),this}_getApiMethod(t,e){return this._instantEvents.includes(t)?this._instantEmitter[e].bind(this._instantEmitter):this._emitter[e].bind(this._emitter)}}{constructor(t){let{extendedSettings:e,isDebug:n,siteId:r,isModern:o,experimentId:i,omicron_ShortSegments:s,omicron_Version:a,email:u}=t;super([os.InvalidServerSideAuth,os.ColorThemeChange,os.ThemeChange,os.SearchBoxMount]),this.xray=(t=>{let{isDebug:e,experimentId:n,siteId:r,isLiteVersion:o=!1,omicron_ShortSegments:i,omicron_Version:s,email:a}=t;return Ks.setConfig({verbose:e,split:n||"",defaultParams:{p:"whiteline"+(o?"-lite":""),email:a,i:o?r:Ns[r]||"unknown"+(r?`_${r}`:""),skipdwh:!0},o_ss:i,o_v:s}),Ks})({isDebug:n,experimentId:i,siteId:r,omicron_ShortSegments:s,omicron_Version:a,email:u}),Qs("load_inline"),Qs(o?"is-modern":"is-legacy"),Qs(`load_inline_${ns.BUILD}`),(null==e?void 0:e.hasExternal)&&ps(e.bundleUrl,!0)}}{constructor(t){yu=t,yu||(console.warn("ERROR (PublicPH): no initial settings data"),yu={siteId:"",siteZone:"",experimentId:"",isWhiteline:!0,isDebug:"",activeEmail:"",maxAccounts:"20",counters:{},experiments:{},colorTheme:$n.Default,social:{vk:!1,ok:!1,fb:!1},lang:Gn}),super({extendedSettings:t._,isDebug:!!yu.isDebug,siteId:yu.siteId,isModern:yu.isModern,experimentId:yu.experimentId,omicron_ShortSegments:yu.omicron_ShortSegments,omicron_Version:yu.omicron_Version,email:yu.activeEmail}),this.authForm=new _a(yu),this.authMenu=new Ca,this.settingsMenu=new Aa,this.marusiaMenu=new Sa,this.cookie=Object.assign(la,{s:pa,fieldCookie:da}),ga()>1?(pa.setGlobal("rt",1),pa.setGlobal("dpr",ga())):(pa.removeGlobal("rt"),pa.removeGlobal("dpr"));const e=new ds;vu=new du({ph:this,eventEmitter:e,activeUser:yu.activeEmail,authUrl:yu.authUrl,socialCountersSettings:{isShowVKCounter:yu.isShowVKCounter,isVKConnectForVKCounter:yu.isVKConnectForVKCounter,isShowOkCounter:yu.isShowOkCounter,isServerApiForOKCounter:yu.isServerApiForOKCounter,isClientApiAfterServerApiForOKCounter:yu.isClientApiAfterServerApiForOKCounter,socialCountersTimer:yu.socialCountersTimer,updateSocialCountersOnVisibilityChange:yu.updateSocialCountersOnVisibilityChange},stayInAccountList:yu.stayInAccountListOnVisibilityChange,isShowCloudStoriesCounter:ls(yu),addTargetToNaviData:yu.addTargetToNaviData}),this.accountService={onAccountDataUpdate:t=>e.on(rs.AccountDataUpdate,t),on:(t,n)=>e.on(t,n),removeListener:(t,n)=>e.removeListener(t,n)},new gu(this,{socialCountersSettings:vu.socialCountersSettings,isShowCloudStoriesCounter:vu.isShowCloudStoriesCounter,isHideRightPart:yu.isHideRightPart})}getSocialsParams(){return vu.getSocialsParams()}getCloudCounterParams(){return vu.getCloudCounterParams()}getCountersQueryParams(){return vu.getCountersQueryParams()}getSearchPlaceholder(){return new Promise((t=>{this.on(os.SearchBoxMount,(e=>{t(e.data)}))}))}loadAccountInfo(t,e){return vu.loadAccountInfo(t,e)}loadAccountsList(t,e){return vu.loadAccountsList(t,e)}switchAccount(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return vu.switchAccountWithReload(t,e,r,o).then((t=>{t&&n&&!this.getListenersNumber(os.AuthChange)&&window.location.reload()}))}logoutAccount(t,e){return vu.logoutAccount(t,e)}activeUser(){return vu.activeUser}isMultiAuth(){return!!yu.authGate}isAuthFormEnabled(){return!!yu.authGate}isMarusiaMenuEnabled(){const t=this.activeUser(),e=yu.lang===Gn;return!(!(yu.isOnMarusia&&e&&t)||/(@vk|@ok|@fb)$/.test(t))}updateCounter(t){vu.updateSomeCounters(t)}setColorTheme(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n.Default;this.emit(os.ColorThemeChange,null,{colorTheme:Object.values($n).includes(t)?t:$n.Default})}}(window.__PHS),Object.freeze(window.__PH)}();
