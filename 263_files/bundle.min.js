/** Weirwood-SDK (8f361b3) */
var Weirwood=function(n){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var e=function(){return (e=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}).apply(this,arguments)};function r(n){var t="function"==typeof Symbol&&n[Symbol.iterator],e=0;return t?t.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}}function i(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,i,o=e.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value);}catch(n){i={error:n};}finally{try{r&&!r.done&&(e=o.return)&&e.call(o);}finally{if(i)throw i.error}}return a}function o(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(i(arguments[t]));return n}function a(n){return "[object String]"===Object.prototype.toString.call(n)}function u(n){return "object"==typeof n&&null!==n}function c(n,t){return !!a(t)&&n.some((function(n){if(!n)return !1;if(a(n))return -1!==t.indexOf(n);if(e=n,"[object RegExp]"===Object.prototype.toString.call(e))try{return n.test(t)}catch(t){return console.error(n+"正则书写有误"),!1}var e;return console.error(n+"忽略匹配项类型应该是String、RegExp"),!1}))}function s(n,t){var e=n.lastClick,r=void 0===e?0:e,i=t.timing.requestStart;return !!(r&&i-r<50)}var f=(new Date).getTime();function O(n){var t=window.BOOMR;if(window){if(!n){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&t.boomerang_frame&&t.window)try{t.boomerang_frame.document.domain!==t.window.document.domain&&(t.boomerang_frame.document.domain=t.window.document.domain);}catch(n){t.isCrossOriginError(n)||t.addError(n,"BOOMR_check_doc_domain.domainFix");}n=document.domain;}if(n&&-1!==n.indexOf(".")&&window.parent){try{return void window.parent.document}catch(t){try{document.domain=n;}catch(n){return}}try{return void window.parent.document}catch(t){n=n.replace(/^[\w\-]+\./,"");}O(n);}}}function l(){var n,t,e,r,i,o=["uninitialized","open","responseStart","domInteractive","responseEnd"];function a(n){if(!n)return null;n.href=n.href;var t=n.pathname;return "/"!==t.charAt(0)&&(t="/"+t),t}function u(n){var t;if(n.href){if(n.href.match(/^(about:|javascript:|data:)/i))return !0;if("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(0===(t=n.href.indexOf(BOOMR.getBeaconURL()))||5===t||6===t))return !0}return BOOMR.xhr_excludes.hasOwnProperty(n.href)||BOOMR.xhr_excludes.hasOwnProperty(n.hostname)||BOOMR.xhr_excludes.hasOwnProperty(a(n))}function f(){this.watch=0,this.timer=null,this.timerEarlyBeacon=null,this.pending_events=[],this.lastSpaLocation=null;}function O(n,t){var e,r;if(!t||!n)return !1;if("boolean"==typeof t)return !0===t;if("function"==typeof t)try{return !0===t(n)}catch(n){return !1}if(BOOMR.utils.isArray(t))for(e=0;e<t.length;e++){if("string"==typeof(r=t[e])&&r===n)return !0;if(r instanceof RegExp&&r.test(n))return !0}return !1}function l(){i.monitorFetch&&"function"==typeof n.fetch&&"function"==typeof n.Request&&"function"==typeof n.Response&&"function"==typeof n.Promise&&"function"==typeof window.fetch&&!n.fetch.polyfill&&(BOOMR.proxy_fetch&&BOOMR.proxy_fetch===n.fetch||(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===n.fetch?n.fetch=BOOMR.proxy_fetch:(BOOMR.orig_fetch=n.orig_fetch||n.fetch,BOOMR.proxy_fetch=function(t,init){var o,a,u,c={timing:{},initiator:"xhr"};if("object"==typeof t&&t instanceof n.Request?(o=t.url,a=init&&init.method||t.method||"GET",i.captureXhrRequestResponse&&(u=init&&init.body||t.body||void 0)):(o=t,a=init&&init.method||"GET",i.captureXhrRequestResponse&&(u=init&&init.body||void 0)),r.href=o,i.xhrExcludeFilter(r))return BOOMR.orig_fetch.apply(n,arguments);BOOMR.fireEvent("xhr_init","fetch"),c.url=r.href,c.method=a,c.type="fetch",u&&(c.requestPayload=u),BOOMR.fireEvent("xhr_send",{resource:c}),e.addEvent(c);try{c.timing.requestStart||(c.timing.requestStart=BOOMR.now());var s=BOOMR.orig_fetch.apply(this,arguments);function f(t,e,r){function o(){var n;r.fetchResponse&&!r.fetchResponse.bodyUsed&&i.fetchBodyUsedWait?(n=BOOMR.now(),r.responseBodyNotUsed=!0,setTimeout((function(){i.loadFinished(r,n);}),i.fetchBodyUsedWait)):i.loadFinished(r);}return function(){var i,a=t.o;try{for(i=e.apply(this===window?n:this,arguments);a&&!a.O;)a=a.o;return a||(i instanceof n.Promise?i.then=O(i,i.then,r):o()),i}catch(n){for(;a&&!a.l;)a=a.o;throw a||o(),n}}}function O(n,t,e){return n.o?t:function(){var r=Array.prototype.slice.call(arguments);r.length>0&&("function"==typeof r[0]&&(r[0]=f(n,r[0],e),n.O=!0),r.length>1&&"function"==typeof r[1]&&(r[1]=f(n,r[1],e),n.l=!0));var i=t.apply(n,r);return n.o=i,i.then=O(i,i.then,e),i}}return s.then=O(s,s.then,c),s.then((function(t){var r,o=!1,a=!1;if(t.redirected&&(c.responseUrl=t.url),(t.status<200||t.status>=400)&&(c.status=t.status),c.fetchResponse=t,c.index>=0&&e.monitorMO(c.index),i.captureXhrRequestResponse&&"function"==typeof t.clone){(r=t.headers.get("content-type"))&&(o=-1!==r.indexOf("json"),a=-1!==r.indexOf("xml")),c.response={};try{t.clone().text().then((function(t){c.response.text=t,c.response.raw=t,a&&"function"==typeof n.DOMParser&&(c.response.xml=(new n.DOMParser).parseFromString(t,"text/xml"));})).then(null,(function(n){}));}catch(n){}if(o)try{t.clone().json().then((function(n){c.response.json=n;})).then(null,(function(n){}));}catch(n){}}return t}),(function(n){throw !n||"AbortError"!==n.name&&20!==n.code?c.status=-998:c.status=-999,n}))}catch(n){throw c.status=-997,i.loadFinished(c),n}},BOOMR.utils.overwriteNative(n,"fetch",BOOMR.proxy_fetch))));}function d(){"function"==typeof n.fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch!==n.fetch&&(n.fetch=BOOMR.orig_fetch);}function h(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==n.XMLHttpRequest){if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===n.XMLHttpRequest)return n.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest,void f.start();BOOMR.orig_XMLHttpRequest=n.orig_XMLHttpRequest||n.XMLHttpRequest,f.start(),BOOMR.subscribe("click",(function(){if(!i.singlePageApp||i.spaStartFromClick){var t={timing:{},initiator:"click"};BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==n.XMLHttpRequest&&(t.timing.requestStart=BOOMR.now(),e.addEvent(t));}})),BOOMR.proxy_XMLHttpRequest=function(){var t,a,u,c={timing:{},initiator:"xhr"},s=!1,f=!1;return t=new BOOMR.orig_XMLHttpRequest,a=t.open,u=t.send,t.open=function(e,u,O){if(r.href=u,i.xhrExcludeFilter(r))return f=!0,a.apply(t,arguments);function l(e,r){t.addEventListener(e,(function(){if("readystatechange"===e)if(c.timing[o[t.readyState]]=BOOMR.now(),4===t.readyState&&0!==t.status){if(t.responseURL!==c.url&&(c.responseUrl=t.responseURL),(t.status<200||t.status>=400)&&(c.status=t.status),i.captureXhrRequestResponse&&(c.response={text:""===t.responseType||"text"===t.responseType?t.responseText:null,xml:""===t.responseType||"document"===t.responseType?t.responseXML:null,raw:t.response,json:t.responseJSON},t.response&&t.response.constructor&&t.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==n.Object))try{t.response.constructor=n.Object;}catch(n){}i.loadFinished(c);}else 0===t.readyState&&"number"==typeof c.timing.open&&(t.responseURL!==c.url&&(c.responseUrl=t.responseURL),c.status=-999,i.loadFinished(c));else t.responseURL!==c.url&&(c.responseUrl=t.responseURL),"load"===e?0!==t.status&&(t.status<200||t.status>=400)&&(c.status=t.status):c.status=void 0===r?t.status:r,i.loadFinished(c);}),!1);}f=!1,void 0===O&&(O=!0),BOOMR.fireEvent("xhr_init","xhr"),s||(O&&l("readystatechange"),l("load"),l("timeout",-1001),l("error",-998),l("abort",-999)),c.url=r.href,c.method=e,c.type="xhr",delete c.status,O||(c.synchronous=!0),s=!0;try{return a.apply(t,arguments)}catch(n){throw c.status=-997,i.loadFinished(c),n}},t.send=function(n){return f?u.apply(t,arguments):(i.captureXhrRequestResponse&&(t.resource.requestPayload=n),BOOMR.fireEvent("xhr_send",t),e.addEvent(c),c.timing.requestStart||(c.timing.requestStart=BOOMR.now()),void 0===c.status||-997!==c.status?u.apply(t,arguments):void 0)},t.resource=c,t},BOOMR.proxy_XMLHttpRequest.UNSENT=0,BOOMR.proxy_XMLHttpRequest.OPENED=1,BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2,BOOMR.proxy_XMLHttpRequest.LOADING=3,BOOMR.proxy_XMLHttpRequest.DONE=4,BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype,BOOMR.utils.overwriteNative(n,"XMLHttpRequest",BOOMR.proxy_XMLHttpRequest);}}function v(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==n.XMLHttpRequest&&(n.XMLHttpRequest=BOOMR.orig_XMLHttpRequest);}function M(n){n.initiator="xhr",BOOMR.responseEnd(n);}BOOMR.plugins.AutoXHR||(n=BOOMR.window)&&n.XMLHttpRequest&&(new n.XMLHttpRequest).addEventListener&&(f.stop=function(){f.pause(),f.observer=null;},f.pause=function(){f.observer&&f.observer.observer&&!f.isPaused&&(f.isPaused=!0,f.observer.observer.disconnect());},f.resume=function(){f.observer&&f.observer.observer&&f.isPaused&&(f.isPaused=!1,f.observer.observer.observe(t,f.observer.config));},f.start=function(){if(!f.observer){var n={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};f.observer=BOOMR.utils.addObserver(t,n,null,e.mutation_cb,null,e),f.observer&&(f.observer.config=n,BOOMR.subscribe("page_unload",f.stop,null,f));}},f.prototype.addEvent=function(n){if(BOOMR.plugins.SPA&&BOOMR.plugins.SPA.get_ready()||BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)){var t,r,o,a={type:n.initiator,resource:n,nodes_to_wait:0,total_nodes:0,resources:[],xhr_resources:[],complete:!1,aborted:!1,firedEarlyBeacon:!1},u=this.pending_events.length,c=this;for(t=u-1;t>=0;t--)if(this.pending_events[t]&&!this.pending_events[t].complete){r=this.pending_events[t],o=t;break}if(r)if("click"===r.type&&i.singlePageApp&&i.spaStartFromClick&&"xhr"===a.type)a.resource.fromClick=!0,a.resource.timing.click=r.resource.timing.requestStart,a.resource.timing.requestStart=r.resource.timing.requestStart,a.interesting=r.interesting||0,a.total_nodes+=r.total_nodes,a.resources=r.resources.concat(a.resources),a.xhr_resources=r.xhr_resources.concat(a.xhr_resources),this.pending_events[o]=void 0,this.watch--;else if(("click"===r.type||r.resource.fromClick)&&i.singlePageApp&&i.spaStartFromClick&&"spa"===a.type)a.resource.timing=r.resource.timing,a.interesting=r.interesting||0,a.total_nodes+=r.total_nodes,a.resources=r.resources.concat(a.resources),r.resource.url&&a.xhr_resources.push(r.resource.url),a.xhr_resources=a.xhr_resources.concat(r.xhr_resources),this.pending_events[o]=void 0,this.watch--;else if("click"===r.type)0!==r.nodes_to_wait&&r.resource.url||(this.pending_events[o]=void 0,this.watch--);else if("xhr"===r.type){if("click"===a.type)return null;if("xhr"===a.type)return e.add_event_resource(n),null}else if(BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===a.type)return e.add_event_resource(n),null;if("click"===a.type)return r.resource.lastClick=a.resource.timing.requestStart,null;if(BOOMR.utils.inArray(a.type,BOOMR.constants.BEACON_TYPE_SPAS)){var O=a.resource.timing.requestStart-r.resource.timing.requestStart;"spa_hard"!==r.type&&s(r.resource,a.resource)&&O<500?(this.pending_events[o]=void 0,this.watch--,void 0):(r.resource.timing.loadEventEnd=BOOMR.now(),r.aborted=!0,this.sendEvent(o));}}if("click"===a.type){if(!f.observer)return null;this.setTimeout(i.xhrIdleTimeout,u);}else "xhr"===a.type?(a.nodes_to_wait++,a.total_nodes++,a.ignoreMO=!0):BOOMR.utils.inArray(a.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(f.start(),n.wait?(a.nodes_to_wait++,a.total_nodes++,n.waitComplete=function(){c.load_finished(u),n.waitComplete=void 0;}):(this.setTimeout(i.spaIdleTimeout,u)));return this.watch++,this.pending_events.push(a),n.index=u,u}},f.prototype.sendEvent=function(n){var e=this.pending_events[n],r=this;BOOMR.now();if(e&&!e.complete)if(this.clearTimeout(n),BOOMR.readyToSend()){if(e.complete=!0,e.resource.complete=!0,this.watch--,BOOMR.utils.inArray(e.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(e.resource.url=t.URL),"spa"===e.type&&0===e.total_nodes&&e.resource.url===r.lastSpaLocation)return BOOMR.fireEvent("spa_cancel"),void(this.pending_events[n]=void 0);if("click"===e.type&&(0===e.total_nodes||!e.resource.url))return void(this.pending_events[n]=void 0);if("click"===e.type&&i.singlePageApp&&i.spaStartFromClick&&(e.type=e.resource.initiator="xhr"),i.xhrRequireChanges&&"xhr"===e.type&&1===e.total_nodes&&(void 0===e.interesting||0===e.interesting)&&!O(e.resource.url,i.alwaysSendXhr))return void(this.pending_events[n]=void 0);if(BOOMR.utils.inArray(e.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(r.lastSpaLocation=e.resource.url,!e.forced&&("spa"===e.type&&0===e.total_nodes&&(e.resource.timing.loadEventEnd=e.resource.timing.requestStart+1,void 0),"spa_hard"===e.type))){var o=BOOMR.getPerformance();o&&o.timing&&o.timing.loadEventEnd&&e.resource.timing.loadEventEnd&&e.resource.timing.loadEventEnd<o.timing.loadEventEnd&&(e.resource.timing.loadEventEnd=o.timing.loadEventEnd);}this.sendResource(e.resource,n);}else setTimeout((function(){r.sendEvent(n);}),500);},f.prototype.sendResource=function(e,r){var i=this,o=i.pending_events[r],a=e.timing?e.timing.requestStart:void 0,u=function(n,o){n&&(e.timing.loadEventEnd=o||BOOMR.now(),void 0),BOOMR.real_sendBeacon(),e.onComplete&&(e.onComplete(e)),BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&e.timing&&e.timing.requestStart&&(e.restiming=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(e.timing.requestStart,e.timing.loadEventEnd)),BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(i.calculateSpaTimings(e),"number"==typeof r&&i.pending_events[r].aborted&&(BOOMR.addVar("pgu",t.URL,!0),BOOMR.addVar("rt.quit","",!0),BOOMR.addVar("rt.abld","",!0))),BOOMR.responseEnd(e,a,e),"number"==typeof r&&(i.pending_events[r]=void 0);};"spa_hard"!==e.initiator||o&&o.aborted||BOOMR.hasBrowserOnloadFired()?u(!1):BOOMR.utils.addListener(n,"load",(function(){var n=BOOMR.now();BOOMR.setImmediate((function(){u(!0,n);}));}));},f.prototype.calculateSpaTimings=function(n){var t=BOOMR.getPerformance();if(t&&t.timing){if("spa_hard"===n.initiator)n.timing.responseEnd=t.timing.responseStart,n.timing.fetchStart=t.timing.navigationStart;else {if(!BOOMR.plugins.ResourceTiming||!BOOMR.plugins.ResourceTiming.is_supported())return;var e=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(n.timing.requestStart,n.timing.loadEventEnd,i.spaBackEndResources).entries,r=Math.round(n.timing.loadEventEnd-n.timing.requestStart);if(!e||!e.length)return void(n.timers={t_resp:0,t_page:r,t_done:r});for(var o=n.timing.loadEventEnd-t.timing.navigationStart,a=0;a<e.length;a++)e[a].responseStart>o?(e[a].responseStart=o,e[a].responseEnd=o):e[a].responseEnd>o&&(e[a].responseEnd=o);var u=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(e)),s=r-u;if(u<0||r<0||s<0)return void BOOMR.addError("Incorrect SPA time calculation");n.timers={t_resp:u,t_page:s,t_done:r};}var f=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(n.timing.requestStart,n.timing.loadEventEnd,["xmlhttprequest","fetch"]).entries,O=BOOMR.plugins.Continuity.getTTIWaitForXHRIngore();f=f.filter((function(n){return !c(O,n.name)})),void 0;var l=n.timing.requestStart-t.timing.navigationStart;o=f.reduce((function(n,t){return t.responseEnd>n?t.responseEnd:n}),l);"spa"===n.initiator&&(BOOMR.addVar("c.tti.xd.increasing",o),o-=l),BOOMR.addVar("c.tti.xd",o),void 0;}},f.prototype.setTimeout=function(n,t){var e=this;n&&(this.clearTimeout(t),this.timer=setTimeout((function(){e.timedout(t);}),n));},f.prototype.timedout=function(n){var t;if(this.clearTimeout(n),t=this.pending_events[n]){if(BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)&&!BOOMR.hasBrowserOnloadFired())return void this.setTimeout(i.spaIdleTimeout,n);0===t.nodes_to_wait&&(this.sendEvent(n));}},f.prototype.clearTimeout=function(n){this.timer&&n===this.pending_events.length-1&&(clearTimeout(this.timer),this.timer=null);},f.prototype.load_cb=function(n,t){var e,r,i=BOOMR.now();(e=n.target||n.srcElement)&&e.h&&(r=e.h.idx,t=void 0!==t?t:e.h.res||0,e.h.end[t]||(e.h.end[t]=i,this.load_finished(r,i)));},f.prototype.monitorMO=function(n){var t=this.pending_events[n];t&&delete t.ignoreMO;},f.prototype.load_finished=function(n,t){var r=this.pending_events[n];r&&(r.nodes_to_wait--,0===r.nodes_to_wait&&(r.resource.timing.loadEventEnd=t||BOOMR.now(),n===this.pending_events.length-1?BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)?(!r.firedEarlyBeacon&&BOOMR.plugins.Early&&BOOMR.plugins.Early.is_supported()&&(this.timerEarlyBeacon&&(clearTimeout(this.timerEarlyBeacon),this.timerEarlyBeacon=null),this.timerEarlyBeacon=setTimeout((function(){e.timerEarlyBeacon=null,r.firedEarlyBeacon||0!==r.nodes_to_wait||(r.firedEarlyBeacon=!0,BOOMR.plugins.Early.sendEarlyBeacon(r.resource,r.type));}),100)),this.setTimeout(i.spaIdleTimeout,n)):this.setTimeout(i.xhrIdleTimeout,n):(this.sendEvent(n))));},f.prototype.wait_for_node=function(n,t){var e,o,a,u,c,s,f,O,l,d=this,h=!1,v=!1;if(n&&n.nodeName&&(n.nodeName.toUpperCase().match(/^(IMG|IFRAME|IMAGE)$/)||"LINK"===n.nodeName.toUpperCase()&&n.rel&&n.rel.match(/\bstylesheet\b/i))){if(n.h&&"number"==typeof n.h.res&&n.h.end[n.h.res]&&(v=!0),c=n.src||"function"==typeof n.getAttribute&&n.getAttribute("xlink:href")||n.href,n.h&&n.h.url!==c&&(v=!0),v&&("function"==typeof n.h.listener&&(d.load_cb({target:n,type:"changed"}),n.removeEventListener("load",n.h.listener),n.removeEventListener("error",n.h.listener),delete n.h.listener),void 0),!c||c.match(/^(about:|javascript:|data:)/i))return !1;if("IMG"===n.nodeName){if(n.naturalWidth&&!v)return !1;if("function"==typeof n.getAttribute&&""===n.getAttribute("src"))return !1;if("lazy"===n.loading)return !1}if("IFRAME"===n.nodeName&&v)return !1;if("function"==typeof n.getAttribute&&(f=parseInt(n.getAttribute("height"),10),O=parseInt(n.getAttribute("width"),10)),isNaN(f)&&(f=!n.style||"0"!==n.style.height&&"0px"!==n.style.height&&"1px"!==n.style.height?void 0:0),isNaN(O)&&(O=!n.style||"0"!==n.style.width&&"0px"!==n.style.width&&"1px"!==n.style.width?void 0:0),!isNaN(f)&&f<=1&&!isNaN(O)&&O<=1)return !1;if(0===f||0===O)return !1;if(n.style&&("none"===n.style.display||"hidden"===n.style.visibility||"0"===n.style.opacity))return !1;if(i.domExcludeFilter(n))return !1;if(!(e=this.pending_events[t]))return !1;if(s=e.resources.length,e.urls||(e.urls={}),e.urls[c])return !1;if(!e.resource.url){if(r.href=c,i.xhrExcludeFilter(r))return !1;e.resource.url=r.href;}n.h||(n.h={end:{}}),n.h.res=s,n.h.idx=t,delete n.h.end[s],n.h.url=c,l=function(e){d.load_cb(e,s),n.removeEventListener("load",l),n.removeEventListener("error",l),delete n.h.listener,void 0;},n.h.listener=l,n.addEventListener("load",l),n.addEventListener("error",l),e.nodes_to_wait++,this.clearTimeout(t),e.total_nodes++,e.resources.push(n),e.urls[c]=1,h=!0;}else n.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach((function(e){if((o=n.getElementsByTagName(e))&&o.length)for(a=0,u=o.length;a<u;a++)h|=this.wait_for_node(o[a],t);}),this);return h},f.prototype.add_event_resource=function(n){var t,e=this.pending_events.length-1;return e<0?-1:(t=this.pending_events[e])&&n?(t.xhr_resources.push(n.url),t.nodes_to_wait++,t.total_nodes++,n.index=e,n.node=!0,e):-1},f.prototype.mutation_cb=function(n){var t,e,r;return !this.watch||(t=this,(e=this.pending_events.length-1)<0||!this.pending_events[e]||(r=this.pending_events[e]).ignoreMO||(void 0===r.interesting&&(r.interesting=!1),n&&n.length&&(r.resource.timing.domComplete=BOOMR.now(),n.forEach((function(n){var i,o,a;if("attributes"===n.type)r.interesting|=t.wait_for_node(n.target,e),void 0;else if("childList"===n.type){for(o=n.addedNodes.length,i=0;i<o;i++)r.interesting|=t.wait_for_node(n.addedNodes[i],e),void 0;for(o=n.removedNodes.length,i=0;i<o;i++)"IFRAME"===(a=n.removedNodes[i]).nodeName&&a.h&&t.load_cb({target:a,type:"removed"});}}))),r.interesting||r.timeoutExtended||(this.setTimeout(1e3,e),r.timeoutExtended=!0)),!0)},f.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()},f.prototype.nodesWaitingFor=function(n){var t;return 0===this.pending_events.length?0:(void 0===n&&(n=this.pending_events.length-1),(t=this.pending_events[n])?t.nodes_to_wait:0)},f.prototype.completeEvent=function(n){var t,e=BOOMR.now();0!==this.pending_events.length&&(void 0===n&&(n=this.pending_events.length-1),(t=this.pending_events[n])&&(t.resource.timing.loadEventEnd=e,t.forced=!0,this.sendEvent(n)));},e=new f,i={spaBackEndResources:["xmlhttprequest","script","fetch"],alwaysSendXhr:!1,xhrExcludeFilters:[],domExcludeFilters:[],initialized:!1,captureXhrRequestResponse:!1,singlePageApp:!1,spaStartFromClick:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,spaIdleTimeout:1e3,xhrIdleTimeout:50,xhrRequireChanges:!1,xhrExcludeFilter:function(n){var t,e;if(!n||!n.href)return !1;for(t=0;t<i.xhrExcludeFilters.length;t++)if("function"==typeof i.xhrExcludeFilters[t].cb){e=i.xhrExcludeFilters[t].ctx;try{if(i.xhrExcludeFilters[t].cb.call(e,n))return !0}catch(n){BOOMR.addError(n,"BOOMR.plugins.AutoXHR.impl.xhrExcludeFilter()");}}return !1},domExcludeFilter:function(n){var t,e;for(t=0;t<i.domExcludeFilters.length;t++)if("function"==typeof i.domExcludeFilters[t].cb){e=i.domExcludeFilters[t].ctx,i.domExcludeFilters[t].name&&void 0;try{if(i.domExcludeFilters[t].cb.call(e,n))return !0}catch(n){BOOMR.addError(n,"BOOMR.plugins.AutoXHR.impl.domExcludeFilter()");}}return !1},loadFinished:function(n,t){var r,o,a,u,c;t=t||BOOMR.now(),n.timing.loadEventEnd||(n.status&&BOOMR.fireEvent("xhr_error",n),n.timing.loadEventEnd=t,(c=BOOMR.getPerformance())&&c.timing&&(o=c.timing.navigationStart,(r=BOOMR.getResourceTiming(n.url,(function(n,t){return n.responseEnd-t.responseEnd}),(function(t){return Math.ceil(o+t.startTime+2)>=n.timing.requestStart&&0!==t.responseEnd})))&&(a=Math.floor(o+r.startTime),(u=Math.floor(o+r.responseEnd))<=BOOMR.now()&&(n.timing.responseEnd=u,n.timing.loadEventEnd<u&&(n.timing.loadEventEnd=u,void 0),n.fromClick&&n.timing.requestStart||(n.timing.requestStart=a),n.timing.fetchStart=a,0!==r.responseStart&&(n.timing.responseStart=Math.floor(o+r.responseStart)),n.restiming=r))),n.node&&O(n.url,i.alwaysSendXhr)&&e.sendResource(n),n.index>=0&&(e.monitorMO(n.index),e.load_finished(n.index,n.timing.responseEnd)));}},BOOMR.plugins.AutoXHR={is_complete:function(){return !0},init:function(e){var o,a;if(t=n.document,n&&t){if(r=t.createElement("A"),BOOMR.utils.pluginConfig(i,e,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait","spaIdleTimeout","xhrIdleTimeout","xhrRequireChanges","spaStartFromClick"]),BOOMR.instrumentXHR=h,BOOMR.uninstrumentXHR=v,BOOMR.instrumentFetch=l,BOOMR.uninstrumentFetch=d,i.initialized||(this.addExcludeFilter(u,null,"shouldExcludeXhr"),i.initialized=!0),e&&e.AutoXHR&&e.AutoXHR.excludeFilters&&e.AutoXHR.excludeFilters.length>0)for(a=0;a<e.AutoXHR.excludeFilters.length;a++)"function"==typeof e.AutoXHR.excludeFilters[a]?i.xhrExcludeFilters.push({cb:e.AutoXHR.excludeFilters[a],ctx:this,name:"unknown XHR filter"}):i.xhrExcludeFilters.push(e.AutoXHR.excludeFilters[a]);if(e&&e.AutoXHR&&e.AutoXHR.domExcludeFilters&&e.AutoXHR.domExcludeFilters.length>0)for(a=0;a<e.AutoXHR.domExcludeFilters.length;a++)"function"==typeof e.AutoXHR.domExcludeFilters[a]?i.domExcludeFilters.push({cb:e.AutoXHR.domExcludeFilters[a],ctx:this,name:"unknown DOM filter"}):i.domExcludeFilters.push(e.AutoXHR.domExcludeFilters[a]);if(i.autoXhrEnabled=e.instrument_xhr,i.monitorFetch=e.monitor_fetch,i.singlePageApp=BOOMR.plugins.SPA&&BOOMR.plugins.SPA.isSinglePageApp(e),i.alwaysSendXhr&&i.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){function c(n){if(n.length)for(o=0;o<n.length;o++)M(n[o]);else M(n);}var s=BOOMR.xhr.stop(c);s&&s.length&&BOOMR.setImmediate(c,s);}i.singlePageApp?(i.alwaysSendXhr||(i.autoXhrEnabled=!1),i.autoXhrEnabled&&(BOOMR.instrumentXHR(),BOOMR.instrumentFetch())):i.autoXhrEnabled?(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()):!1===i.autoXhrEnabled&&(BOOMR.uninstrumentXHR(),BOOMR.uninstrumentFetch()),BOOMR.registerEvent("xhr_error");}},getMutationHandler:function(){return e},getPathname:a,enableAutoXhr:function(){i.autoXhrEnabled||(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()),i.autoXhrEnabled=!0;},addExcludeFilter:function(n,t,e){i.xhrExcludeFilters.push({cb:n,ctx:t,name:e});},addDomExcludeFilter:function(n,t,e){i.domExcludeFilters.push({cb:n,ctx:t,name:e});},setXhrRequestResponseCapturing:function(n){i.captureXhrRequestResponse=n;},matchesAlwaysSendXhr:O});}function d(){var n;if(!BOOMR.plugins.Continuity){var t={passive:!0,capture:!0},e=BOOMR.getPerformance(),r={},i=e&&e.timing&&e.timing.navigationStart?e.timing.navigationStart:BOOMR.now(),o=function(t){var o={},a={},u=[],c=0,s=0,f=0,O=!0;function l(){return Math.floor((BOOMR.now()-t)/100)}function d(){var t=0;if(n.ttiWaitForFrameworkReady){if(!n.frameworkReady)return;t=n.frameworkReady;}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&e&&e.timeOrigin){var r=BOOMR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");r||(r=BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint")),r||(r=BOOMR.plugins.PaintTiming.getTimingFor("first-paint")),r&&(t=Math.max(t,Math.round(r+e.timeOrigin)));}else if(e&&e.timing&&e.timing.msFirstPaint)t=Math.max(t,e.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){var o=BOOMR.window.chrome.loadTimes();o&&o.firstPaintTime&&(t=Math.max(t,1e3*o.firstPaintTime));}return e&&e.timing&&e.timing.domContentLoadedEventEnd&&(t=Math.max(t,e.timing.domContentLoadedEventEnd)),n.ttiWaitForHeroImages&&(f=function(n){var t,r,o,a,u,c,s=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!e||"function"!=typeof e.getEntriesByType)return 0;if(t=n+", "+n+" * img, "+n+" * image",(r=BOOMR.window.document.querySelectorAll(t))&&r.length)for(o=0;o<r.length;o++){if(!(u=r[o].currentSrc||r[o].src||"function"==typeof r[o].getAttribute&&r[o].getAttribute("xlink:href"))&&"function"==typeof BOOMR.window.getComputedStyle){var f=BOOMR.window.getComputedStyle(r[o])&&BOOMR.window.getComputedStyle(r[o]).getPropertyValue("background");if(f){var O=f.match(/url\(["']?([^"']*)["']?\)/);O&&O.length>0&&(u=O[1]);}}if(u&&(c=e.getEntriesByName(u))&&c.length)for(a=0;a<c.length;a++)s=Math.max(s,c[a].responseEnd);}return s?Math.floor(s+i):0}(n.ttiWaitForHeroImages))&&(t=Math.max(t,f)),t}function h(n,e){return function(n,t,e,r,i){var o,a,u,c,s,f="",O=0;if(!e)return "";if(0===e.length)return "";if(t)for(void 0===e[r]&&(e[r]=0),o=r+1;o<=i;o++)void 0===e[o]&&(e[o]=e[o-1]);for(o=r;o<=i;o++){if(O="number"!=typeof e[o]||isNaN(e[o])?0:e[o],0===n?u=O<=63?"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".charAt(O):"."+O.toString(36)+".":1===n?u=O.toString(36):2===n&&(u=O<99?O<=9?"0"+Math.max(O,0):O:"__"),o+3<=i&&(e[o+1]===O||0===O&&void 0===e[o+1])&&(e[o+2]===O||0===O&&void 0===e[o+2])&&(e[o+3]===O||0===O&&void 0===e[o+3])){for(a=1;o<i&&(e[o+1]===O||0===O&&void 0===e[o+1]);)a++,o++;c="*"+a.toString(36)+"*"+u;}else c=u;0===O&&o===i||(1===n&&s&&(f+=","),s=!0,f+=c);}return s?n.toString()+f:""}(a[n].compressMode,a[n].backfillLast,o[n],0!==e?Math.floor((e-t)/100):0,l())}function v(e){function getVar(n){return e?BOOMR.getPendingVar(n):BOOMR.getVar(n)}if(n.ttiWaitForXHRDone&&BOOMR.utils.inArray(getVar("http.initiator"),BOOMR.constants.BEACON_TYPE_SPAS)){var r=getVar("c.tti.xd"),a=0,u="spa"===getVar("http.initiator");u&&(a=getVar("rt.tstart")-i,r=getVar("c.tti.xd.increasing"));var c=r?r-(t-i):u?a:t-i,s=l(),f=0,O=0,d=0,h=Math.floor(c/100);for(f=h;f<=s;f++){if(!e){if(o.longtask&&o.longtask[f]){O=0;continue}if(o.fps&&(!o.fps[f]||o.fps[f]<2)){O=0;continue}if(o.busy&&o.busy[f]>50){O=0;continue}if(o.interdly&&o.interdly[f]){O=0;continue}}if(++O>=5){d=t+100*(f-5)-a,d=Math.max(d-i,getVar("c.tti.xd"));break}}return d>0?(!e&&n.addToBeacon("c.tti.new",d),n.hasAddedTtinewToBeacon=!0,d):(n.hasAddedTtinewToBeacon=!1,0)}}return BOOMR.fpsLog&&BOOMR.fpsLog.length&&(t=BOOMR.fpsLog[0]+i),r.timeToInteractive=function(){if(c)return c-i},r.timeToVisuallyReady=function(){if(s)return s-i},r.timeToHeroImagesReady=function(){if(n.ttiWaitForHeroImages&&f)return f-i},r.timeToFrameworkReady=function(){if(n.ttiWaitForFrameworkReady&&n.frameworkReady)return n.frameworkReady-i},r.log=function(){return u},{register:function(n,t,e){o[n]||(o[n]=[]),a[n]={compressMode:t||0,backfillLast:e};},set:function(n,t,e){void 0===e&&(e=l()),o[n]&&(o[n][e]=t);},log:function(t,e,r){void 0===e&&(e=l()),u.push({type:t,time:e,val:r}),u.length>n.logMaxEntries&&Array.prototype.splice.call(u,0,u.length-n.logMaxEntries);},increment:function(n,t,e){void 0===e&&(e=l()),void 0===t&&(t=1),o[n]&&(o[n][e]||(o[n][e]=0),o[n][e]+=t);},getTimeBucket:l,getStats:function(n,e){var r,i=0,a=0,u=1/0,c=0,s=Math.floor((e-t)/100);if(!o[n])return 0;for(var f in o[n])(f=parseInt(f,10))>=s&&o[n].hasOwnProperty(f)&&(i++,a+=r=o[n][f],u=Math.min(u,r),c=Math.max(c,r));return {total:a,count:i,min:u,max:c}},analyze:function(e){var a=l(),f=0,M=0;if(n.sendLog&&void 0!==e&&function(){for(var t="",e=0;e<u.length;e++){var r=u[e];for(var o in 0!==e&&(t+="|"),t+=r.type,t+=Math.round(r.time-i).toString(36),r.val)r.val.hasOwnProperty(o)&&(t+=","+o,"number"==typeof r.val[o]?t+=r.val[o].toString(36):t+=r.val[o]);}""!==t&&n.addToBeacon("c.l",t);}(),n.sendTimeline&&void 0!==e&&function(t){var e,r;for(e in o)o.hasOwnProperty(e)&&""!==(r=h(e,t))&&n.addToBeacon("c.t."+e,r);}(e?Math.max(e,BOOMR.now()-12e4):e),!c){if(!s&&!(s=d()))return;if(O&&(n.addToBeacon("c.tti.vr",r.timeToVisuallyReady()),n.addToBeacon("c.tti.fr",r.timeToFrameworkReady()),n.addToBeacon("c.tti.hi",r.timeToHeroImagesReady()),O=!1),!o.longtask&&!o.fps&&!o.busy)return;for(f=Math.floor((s-t)/100);f<=a;f++)if(o.longtask&&o.longtask[f])M=0;else if(o.fps&&(!o.fps[f]||o.fps[f]<2))M=0;else if(o.busy&&o.busy[f]>50)M=0;else if(o.interdly&&o.interdly[f])M=0;else if(++M>=5){c=t+100*(f-5),c=Math.max(c,s);break}c>0&&n.addToBeacon("c.tti",r.timeToInteractive());}v();},analyzeXHRDone:v,stop:function(){o={},u=[];},onBeacon:function(){for(var n in o)o.hasOwnProperty(n)&&(o[n]=[]);u=[],O=!1;}}},a=function(t){if(t.PerformanceObserver&&t.LayoutShift){var e=!0,i=0,o=0,a=[],u=new t.PerformanceObserver((function(n){if(!e)return;n.getEntries().map((function(n){if(!n.hadRecentInput){var t=a[0],e=a[a.length-1];o&&n.startTime-e.startTime<1e3&&n.startTime-t.startTime<5e3?(o+=n.value,a.push(n)):(o=n.value,a=[n]),o>i&&(i=o);}}));}));try{u.observe({type:"layout-shift",buffered:!0});}catch(n){return}return r.clsScore=function(){return i},{clearClsScore:c,analyze:function(t){n.addToBeacon("c.cls",r.clsScore());},stop:function(){e=!1,u.disconnect(),c();},onBeacon:function(){c();}}}function c(){i=0;}},u=function(t,e){if(t.PerformanceObserver&&t.PerformanceLongTaskTiming){var i={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},o={unknown:0,script:1,layout:2},a={unknown:0,iframe:1,embed:2,object:3},u=new t.PerformanceObserver((function(n){var t,r,i={};if(!s)return;t=n.getEntries(),Array.prototype.push.apply(c,t);var o=e.getTimeBucket();for(r=0;r<t.length;r++){var a=t[r].duration;f+=a;var u=o;for(a-=100;a>0&&u>=0;)u--,i[u]?i[u]++:i[u]=1,a-=100;}for(var O in i)i.hasOwnProperty(O)&&e.increment("longtask",i[O],O);e.increment("longtask",t.length);}));try{u.observe({entryTypes:["longtask"]});}catch(n){return}e.register("longtask",0);var c=[],s=!0,f=0;return r.longTasksTime=function(){return f},r.longTasksCount=function(){return c.length},{getTasks:function(){return c},clearTasks:O,analyze:function(t){var e,u,s,f,O,l=[],d=[];if(0!==c.length){for(e=0;e<c.length;e++){for(s=c[e],f={s:Math.round(s.startTime).toString(36),d:Math.ceil(s.duration).toString(36),n:i[s.name]?i[s.name]:0},d=[],u=0;u<s.attribution.length;u++)if("script"!==(O=s.attribution[u]).name||"iframe"!==O.containerType||O.containerName||O.containerId||O.containerSrc){var h=O.containerName?O.containerName:void 0,v=O.containerId?O.containerId:void 0;h===v&&(h=void 0);var M=void 0===v?O.containerSrc:void 0;d.push({a:o[O.name]?o[O.name]:0,t:a[O.containerType]?a[O.containerType]:0,n:h,i:v,s:M});}d.length>0&&(f.a=d),l.push(f);}var R,p;n.addToBeacon("c.lt.n",r.longTasksCount(),!0),n.addToBeacon("c.lt.tt",r.longTasksTime()),n.addToBeacon("c.lt",(R=l,(p=BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl||window.UserTimingCompression&&window.UserTimingCompression.jsUrl||BOOMR.window.UserTimingCompression&&BOOMR.window.UserTimingCompression.jsUrl)?p(R):window.JSON?JSON.stringify(R):""));}},stop:function(){s=!1,u.disconnect(),O();},onBeacon:function(){O();}}}function O(){c=[],f=0;}},c=function(t,e){e.register("busy",2);var i=Math.floor(3.125),o=BOOMR.now(),a=0,u=0,c=0,s=0,f=!1,O=!1;return r.pageBusy=function(){return 0===c?0:Math.ceil(s/c*100)},f=setInterval((function(){var n=BOOMR.now(),t=n-o;if(o=n,t>68){var e=Math.floor((t-32)/32);a+=e,u+=e,t-=32*e;}a++,t>36&&u++;}),32),O=setInterval((function(){var n=e.getTimeBucket(),t=n,r=0;if(0!==a){for(;a>i+1&&r<=100;)e.set("busy",100,--t),a-=i,u=Math.max(u-i,0),c+=i,s+=i,r++;c+=a,s+=u,e.set("busy",Math.ceil(u/a*100),n),a=0,u=0;}}),100),{analyze:function(t){n.addToBeacon("c.b",r.pageBusy());},stop:function(){f&&(clearInterval(f),f=!1),O&&(clearInterval(O),O=!1);},onBeacon:function(){c=0,s=0;}}},s=function(t,e){e.register("fps",0);var o,a,u=0,c=0,s=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){a=o=BOOMR.fpsLog[0]+i;for(var f=0;f<BOOMR.fpsLog.length;f++){var O=i+BOOMR.fpsLog[f];e.increment("fps",1,Math.floor((O-o)/100)),O-a>=50&&c++,a=O;}u=BOOMR.fpsLog.length,delete BOOMR.fpsLog;}else o=BOOMR.now();return t.requestAnimationFrame((function n(r){s&&(r-a>=50&&c++,a=r,u++,e.increment("fps"),t.requestAnimationFrame(n));})),r.fps=function(){var n=r.fpsDuration();if(n)return Math.floor(u/(n/1e3))},r.fpsDuration=function(){if(o)return BOOMR.now()-o},r.fpsMinimum=function(){if(r.fpsDuration()){var n=e.getStats("fps",o).min;return n!==1/0?n:void 0}},r.fpsLongFrames=function(){return c},r.fpsStart=function(){return o?o.toString(36):0},{analyze:function(t){n.addToBeacon("c.f",r.fps()),n.addToBeacon("c.f.d",r.fpsDuration()),n.addToBeacon("c.f.m",r.fpsMinimum()),n.addToBeacon("c.f.l",r.fpsLongFrames()),n.addToBeacon("c.f.s",r.fpsStart());},stop:function(){s=!1,o=0;},onBeacon:function(){s&&(o=BOOMR.now()),u=0,c=0;}}},f=function(e,i,o){if(e&&e.document&&e.document.body&&e.document.documentElement){var a=0,u=0,c=0,s=0,f=0,O=0,l=0,d=0,h=!1,v=e.document.body,M=e.document.documentElement;i.register("scroll",0),i.register("scrollpct",2);var R=Math.max(v.scrollHeight,v.offsetHeight,M.clientHeight,M.scrollHeight,M.offsetHeight)-BOOMR.utils.windowHeight();return r.scrollPct=function(){return s},r.scrollCount=function(){return f},r.scrollDistinct=function(){return l},r.scrollPixels=function(){return O},BOOMR.utils.addListener(e,"scroll",p,t),h=setInterval((function(){var n=Math.min(c,100);0!==n&&i.set("scrollpct",n),c=0;}),100),{analyze:function(t){n.addToBeacon("c.s",r.scrollCount()),n.addToBeacon("c.s.p",r.scrollPct()),n.addToBeacon("c.s.y",r.scrollPixels()),n.addToBeacon("c.s.d",r.scrollDistinct());},stop:function(){h&&(clearInterval(h),h=!1),BOOMR.utils.removeListener(e,"scroll",p);},onBeacon:function(){s=0,f=0,O=0,l=0;}}}function p(n){var t=BOOMR.now();f++,t-d>2e3&&l++,d=t;var e=Math.ceil(BOOMR.utils.scroll().y),r=Math.abs(a-e);O+=r,i.increment("scroll",r),(0===u||Math.abs(u-e)>20)&&(i.log(0,t,{y:e}),u=e),c+=Math.round(r/R*100),s+=Math.round(r/R*100),a=e;}},O=function(e,i,o){i.register("click",0);var a=0,u=0,c=0,s=0,f=0,O=null;function l(n){var t=BOOMR.now(),e=n.clientX,r=n.clientY;a++;var l=Math.round(Math.sqrt(Math.pow(f-r,2)+Math.pow(s-e,2)));O===n.target||l<=10?++u+1>=3&&(c++,BOOMR.fireEvent("rage_click",n)):u=0,s=e,f=r,O=n.target,i.increment("click"),i.log(1,t,{x:e,y:r}),n.cancelable&&o.interact("click",t,n);}return r.clicksCount=function(){return a},r.clicksRage=function(){return c},BOOMR.utils.addListener(e.document,"click",l,t),{analyze:function(t){n.addToBeacon("c.c",r.clicksCount()),n.addToBeacon("c.c.r",r.clicksRage());},stop:function(){BOOMR.utils.removeListener(e.document,"click",l);},onBeacon:function(){a=0,u=0,c=0;}}},l=function(e,i,o){i.register("key",0);var a=0,u=0;function c(n){var t=BOOMR.now();a++,27===n.keyCode&&u++,i.increment("key"),i.log(3,t),n.cancelable&&o.interact("key",t,n);}return r.keyCount=function(){return a},r.keyEscapes=function(){return u},BOOMR.utils.addListener(e.document,"keydown",c,t),{analyze:function(t){n.addToBeacon("c.k",r.keyCount()),n.addToBeacon("c.k.e",r.keyEscapes());},stop:function(){BOOMR.utils.removeListener(e.document,"keydown",c);},onBeacon:function(){a=0,u=0;}}},d=function(e,i,o){i.register("mouse",0),i.register("mousepct",2);var a=0,u=0,c=0,s=0,f=0,O=0,l=0,d=!1,h=!1,v=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));function M(n){var t=n.clientX,e=n.clientY,r=Math.round(Math.sqrt(Math.pow(u-e,2)+Math.pow(a-t,2))),o=Math.round(r/v*100);f+=o,O+=o,l+=r,a=t,u=e,i.increment("mouse",r);}return r.mousePct=function(){return O},r.mousePixels=function(){return l},d=setInterval((function(){var n=Math.min(f,100);0!==n&&i.set("mousepct",n),f=0;}),100),h=setInterval((function(){c===a&&s===u||Math.round(Math.sqrt(Math.pow(s-u,2)+Math.pow(c-a,2)))>=10&&(i.log(2,BOOMR.now(),{x:a,y:u}),c=a,s=u);}),250),BOOMR.utils.addListener(e.document,"mousemove",M,t),{analyze:function(t){n.addToBeacon("c.m.p",r.mousePct()),n.addToBeacon("c.m.n",r.mousePixels());},stop:function(){d&&(clearInterval(d),d=!1),h&&(clearInterval(h),h=!1),BOOMR.utils.removeListener(e.document,"mousemove",M);},onBeacon:function(){O=0,l=0;}}},h=function(t,e,o){e.register("inter",0),e.register("interdly",0);var a=o,u=0,c=null,s=0,f=0,O=0,l=0,d=!0,h=0,v=0,M=!1,R=!1,p=!1,B=!1;function m(){M&&(clearTimeout(M),M=!1),R&&(clearTimeout(R),R=!1);}function y(){BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":h,"rt.end":v},(function(){m(),BOOMR.fireEvent("interaction");}),n);}return r.interactionDelayed=function(){return O},r.interactionDelayedTime=function(){return Math.ceil(l)},r.interactionAvgDelay=function(){if(s>0)return Math.ceil(f/s)},r.timeToFirstInteraction=function(){if(u)return u-i},r.firstInputDelay=function(){if(null!==c)return c},BOOMR.subscribe("spa_init",(function(){p=!0,m();}),null,n),{interact:function(r,o,B){var m=0;o=o||BOOMR.now(),d&&(s++,u||(u=B&&B.timeStamp?B.timeStamp+i:o),!B||!B.timeStamp||n.isSafari&&t!==window||(m=B.timeStamp>14e11?o-B.timeStamp:BOOMR.hrNow()-B.timeStamp,f+=m,null===c&&(c=Math.ceil(m)),m>50&&(e.increment("interdly"),O++,l+=m)),e.increment("inter"),!p&&n.afterOnloadMonitoring&&(v=BOOMR.now(),h||(h=v,R=setTimeout(y,3e4)),M&&(clearTimeout(M),M=!1),M=setTimeout(y,a)));},analyze:function(t){var e;n.addToBeacon("c.i.dc",r.interactionDelayed()),n.addToBeacon("c.i.dt",r.interactionDelayedTime()),n.addToBeacon("c.i.a",r.interactionAvgDelay()),B||(BOOMR.plugins.EventTiming&&BOOMR.plugins.EventTiming.is_enabled()&&(e=BOOMR.plugins.EventTiming.metrics.firstInputDelay()),e||null===c||(e=r.firstInputDelay()),e&&(n.addToBeacon("c.fid",Math.ceil(e),!0),n.addToBeacon("c.ttfi",BOOMR.plugins.EventTiming.metrics.timeToFirstInteraction()||r.timeToFirstInteraction()),B=!0));},stop:function(){d=!1;},onBeacon:function(){l=0,O=0,s=0,f=0,h=0,v=0,p=!1,m();}}},v=function(n,e,r){var i,o,a=!0;function u(){a&&(r.interact("pd",i,o),i=null,o=null,BOOMR.utils.removeListener(window,"pointerup",u));}function c(n){a&&n.cancelable&&(i=BOOMR.now(),o=n,BOOMR.utils.addListener(window,"pointerup",u,t));}function s(){a=!1,BOOMR.utils.removeListener(window,"pointerdown",c),BOOMR.utils.removeListener(window,"pointerup",u),BOOMR.utils.removeListener(window,"pointercancel",s);}return BOOMR.utils.addListener(window,"pointerdown",c,t),BOOMR.utils.addListener(window,"pointercancel",s,t),{stop:s}},M=function(n,e,r){var i=!0;function o(n){if(i&&n.cancelable){var t=BOOMR.now();r.interact("md",t,n);}}return BOOMR.utils.addListener(window,"mousedown",o,t),{stop:function(){i=!1,BOOMR.utils.removeListener(window,"mousedown",o);}}},R=function(n,e,r){var i=!0;function o(n){if(i&&n.cancelable){var t=BOOMR.now();r.interact("ts",t,n);}}return BOOMR.utils.addListener(window,"touchstart",o,t),{stop:function(){i=!1,BOOMR.utils.removeListener(window,"touchstart",o);}}},p=function(n,t,e){t.register("vis",0);var r={visible:0,hidden:1,prerender:2,unloaded:3},i=!0;return BOOMR.subscribe("visibility_changed",(function(n){var e=BOOMR.now();i&&(t.increment("vis"),t.log(4,e,{s:r[BOOMR.visibilityState()]}));})),{stop:function(){i=!1;}}},B=function(n,e,r){e.register("orn",0);var i=!0;function o(n){var t=BOOMR.now(),r=window.orientation;if(i){e.increment("orn");var o=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});o&&"number"==typeof o.angle&&(r=screen.orientation.angle),"number"==typeof r&&e.log(5,t,{a:r});}}return BOOMR.utils.addListener(n,"orientationchange",o,t),{stop:function(){i=!1,BOOMR.utils.removeListener(n,"orientationchange",o);}}},m=function(n,t){t.register("mem",1,!0),t.register("bat",2,!0),t.register("domsz",1,!0),t.register("domln",1,!0),t.register("mut",0);var r,i=n.document,o=!0,a=!1,u=null,c=0,s=0,f=i.getElementsByTagName("*");function O(){o&&u&&t.set("bat",u.level);}return a=setInterval((function(){var n=e&&e.memory&&e.memory.usedJSHeapSize;if(n&&t.set("mem",n),s=f.length,t.set("domsz",i.documentElement.innerHTML.length),t.set("domln",s),c>0){var r=Math.min(Math.round(c/s*100),100);t.set("mut",r),c=0;}}),1e3),n.navigator&&"function"==typeof n.navigator.getBattery&&n.navigator.getBattery().then((function(n){(u=n).onlevelchange&&(u.onlevelchange=O);})),BOOMR.utils.isMutationObserverSupported()&&(r=BOOMR.utils.addObserver(i,{childList:!0,subtree:!0},null,(function(n){return n.forEach((function(n){if("childList"!==n.type)return !0;for(var t=0;t<n.addedNodes.length;t++){var e=n.addedNodes[t];c++,c+=e.getElementsByTagName?e.getElementsByTagName("*").length:0;}})),!0}),null,this)),{stop:function(){o=!1,a&&(clearInterval(a),a=!1),r&&r.observer&&(r.observer.disconnect(),r=null),u&&u.onlevelchange&&(u.onlevelchange=null),f=null;}}};n={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!1,monitorLayoutShifts:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,ttiWaitForXHRDone:!1,ttiWaitForXHRIgnore:[],sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,touchStartMonitor:null,mouseDownMonitor:null,pointerDownMonitor:null,statsMonitor:null,layoutShiftMonitor:null,monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor","layoutShiftMonitor","touchStartMonitor","mouseDownMonitor","pointerDownMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,hasAddedTtinewToBeacon:void 0,isSafari:window&&window.navigator&&window.navigator.vendor&&-1!==window.navigator.vendor.indexOf("Apple"),onBeforeBeacon:function(){n.runAllAnalyzers();},checkIfSendAdditionalBeacon:function(){if(!1===n.hasAddedTtinewToBeacon&&BOOMR.hasPending()){var t=n.timeline.analyzeXHRDone(!0),e=t>0?{"c.tti.new":t,add:1}:{"c.tti.new":void 0,add:2};BOOMR.sendAdditionalBeacon(e);}},runAllAnalyzers:function(){var t,e;if(!n.hasAddedDataToBeacon){for(t=0;t<n.monitors.length;t++)(e=n[n.monitors[t]])&&"function"==typeof e.analyze&&e.analyze(n.timeOfLastBeacon);n.addToBeacon("c.lb",n.timeOfLastBeacon?n.timeOfLastBeacon.toString(36):0),n.timeOfLastBeacon=BOOMR.now(),n.hasAddedDataToBeacon=!0;}},onBeacon:function(t){var e;if(!t||!(void 0!==t.early||t["http.initiator"]&&0===t["http.initiator"].indexOf("api_custom_"))){for(e=0;e<n.monitors.length;e++){var r=n[n.monitors[e]];r&&(n.afterOnload||"function"==typeof r.stop&&r.stop(),"function"==typeof r.onBeacon&&r.onBeacon());}n.hasAddedDataToBeacon=!1,t&&t.add&&(n.hasAddedTtinewToBeacon=void 0);}},onXhrLoad:function(t){t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(n.isSpa=!0),t&&"spa_hard"===t.initiator&&(n.onPageReady());},onPageReady:function(){if(n.firedPageReady=!0,n.afterOnload&&n.monitorInteractions&&(n.afterOnloadMonitoring=!0,n.isSpa||"number"!=typeof n.afterOnloadMaxLength||setTimeout((function(){n.afterOnloadMonitoring=!1;}),n.afterOnloadMaxLength)),n.waitAfterOnload){var t=BOOMR.now();setTimeout((function e(){(BOOMR.now()-t>n.waitAfterOnload)?(n.complete=!0,BOOMR.sendBeacon()):(n.timeline.analyze(),(n.ttiWaitForXHRDone?BOOMR.getVar("c.tti.new"):r.timeToInteractive())?(n.complete=!0,BOOMR.sendBeacon()):setTimeout(e,500));}),500);}else n.complete=!0;},addToBeacon:function(n,t,e){0!==t&&void 0!==t||e?BOOMR.addVar(n,t,!0):BOOMR.removeVar(n);}},BOOMR.plugins.Continuity={init:function(t){if(BOOMR.utils.pluginConfig(n,t,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","ttiWaitForXHRDone","ttiWaitForXHRIgnore","sendLog","logMaxEntries","sendTimeline"]),n.initialized)return this;if(n.initialized=!0,n.timeline=new o(BOOMR.now()),BOOMR.window){if(n.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming&&(n.longTaskMonitor=new u(BOOMR.window,n.timeline),n.ttiMethod="lt"),n.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame&&(n.frameRateMonitor=new s(BOOMR.window,n.timeline),n.ttiMethod||(n.ttiMethod="raf")),!n.monitorPageBusy||BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming&&n.monitorLongTasks||(n.pageBusyMonitor=new c(BOOMR.window,n.timeline),n.ttiMethod||(n.ttiMethod="b")),n.monitorInteractions){var e=BOOMR.window;n.interactionMonitor=new h(e,n.timeline,n.afterOnloadMinWait),n.scrollMonitor=new f(e,n.timeline,n.interactionMonitor),n.keyMonitor=new l(e,n.timeline,n.interactionMonitor),n.clickMonitor=new O(e,n.timeline,n.interactionMonitor),n.mouseMonitor=new d(e,n.timeline,n.interactionMonitor),n.visibilityMonitor=new p(e,n.timeline,n.interactionMonitor),n.orientationMonitor=new B(e,n.timeline,n.interactionMonitor),n.touchStartMonitor=new R(e,n.timeline,n.interactionMonitor),n.mouseDownMonitor=new M(e,n.timeline,n.interactionMonitor),n.pointerDownMonitor=new v(e,n.timeline,n.interactionMonitor);}n.monitorStats&&(n.statsMonitor=new m(BOOMR.window,n.timeline,n.interactionMonitor)),n.monitorLayoutShifts&&BOOMR.window.PerformanceObserver&&(n.layoutShiftMonitor=new a(BOOMR.window));}return BOOMR.addVar("c.e",i.toString(36)),BOOMR.addVar("c.tti.m",n.ttiMethod),BOOMR.subscribe("before_beacon",n.onBeforeBeacon,null,n),BOOMR.subscribe("beacon",n.onBeacon,null,n),BOOMR.subscribe("page_ready",n.onPageReady,null,n),BOOMR.subscribe("xhr_load",n.onXhrLoad,null,n),BOOMR.subscribe("route_change",n.checkIfSendAdditionalBeacon,null,n),this},is_complete:function(t){return n.complete||t&&("error"===t["http.initiator"]||void 0!==t.early)},frameworkReady:function(){n.frameworkReady=BOOMR.now();},getTtiWaitForXHRDone:function(){return n.ttiWaitForXHRDone},getTTIWaitForXHRIngore:function(){return "function"==typeof n.ttiWaitForXHRIgnore?n.ttiWaitForXHRIgnore():n.ttiWaitForXHRIgnore},checkIfSendAdditionalBeacon:n.checkIfSendAdditionalBeacon,metrics:r};}}function h(){var n={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1,disableHardNav:!1,routeFilter:void 0,routeChangeWaitFilter:void 0,monitorReplaceState:!0,a:void 0,originHistoryPushState:null,originHistoryReplaceState:null,originHistoryGo:null,originHistoryBack:null,originHistoryForward:null,resetRouteChangeInProgress:function(){n.routeChangeInProgress&&clearTimeout(n.routeChangeInProgress),n.routeChangeInProgress=!1;},setRouteChangeInProgress:function(){n.routeChangeInProgress&&clearTimeout(n.routeChangeInProgress),n.routeChangeInProgress=setTimeout(n.resetRouteChangeInProgress,50);},spaInit:function(n,t){t?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),t]):n?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),n]):BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL]);},routeChange:function(t,e){if(n.enabled){if(n.disableHardNav&&!BOOMR.onloadFired())return;n.routeChangeInProgress?void 0:(n.spaInit(t,e),BOOMR.plugins.SPA.route_change());}else n.hadMissedRouteChange=!0,n.resetRouteChangeInProgress();}};BOOMR.plugins.History||void 0===BOOMR.plugins.SPA||void 0===BOOMR.plugins.AutoXHR||BOOMR.window&&BOOMR.window.history&&(BOOMR.plugins.SPA.register("History"),n.a=BOOMR.window.document.createElement("A"),BOOMR.plugins.History={is_complete:function(){return !0},hook:function(t,e,r){return (r=r||{}).disableHardNav=n.disableHardNav,n.hooked||(n.routeFilter&&(r.routeFilter=n.routeFilter),n.routeChangeWaitFilter&&(r.routeChangeWaitFilter=n.routeChangeWaitFilter),function(){var t,e,r,i,o,a=BOOMR.window.history;function u(){BOOMR.window.addEventListener("popstate",(function(t){n.routeChange();}));}return "function"==typeof a.pushState&&(n.originHistoryPushState=a.pushState,a.pushState=(t=a.pushState,function(e,r,i){return n.routeChange(r,i),t.apply(this,arguments)})),n.monitorReplaceState&&"function"==typeof a.replaceState&&(n.originHistoryReplaceState=a.pushState,a.replaceState=(e=a.replaceState,function(t,r,i){if("undefined"!=typeof BOOMR){var o=BOOMR.window.document.URL,a=o;return arguments.length>=3&&null!=i&&(n.a.href=i,a=n.a.href),BOOMR.plugins.SPA.isSpaNavInProgress()&&a===o?void 0:(n.routeChange(r,i)),e.apply(this,arguments)}})),"function"==typeof a.go&&(n.originHistoryGo=a.go,a.go=(r=a.go,function(t){return n.routeChange(),r.apply(this,arguments)})),"function"==typeof a.back&&(n.originHistoryBack=a.back,a.back=(i=a.back,function(){return n.routeChange(),i.apply(this,arguments)})),"function"==typeof a.forward&&(n.originHistoryForward=a.forward,a.forward=(o=a.forward,function(){return n.routeChange(),o.apply(this,arguments)})),BOOMR.window.addEventListener("hashchange",(function(t){var e=(t||{}).newURL;n.routeChange(null,e);})),BOOMR.hasBrowserOnloadFired()?u():BOOMR.window.addEventListener("load",(function(){setTimeout(u,0);})),BOOMR.subscribe("beacon",n.resetRouteChangeInProgress),BOOMR.subscribe("spa_cancel",n.resetRouteChangeInProgress),BOOMR.subscribe("spa_init",n.setRouteChangeInProgress),!0}()&&(BOOMR.plugins.SPA.hook(e,r),n.hooked=!0)),this},init:function(t){return BOOMR.utils.pluginConfig(n,t,"History",["auto","enabled","disableHardNav","routeFilter","routeChangeWaitFilter","monitorReplaceState"]),n.auto&&n.enabled&&(this.hook(void 0,!0,{})),this},disable:function(){return history.pushState=n.originHistoryPushState,history.replaceState=n.originHistoryReplaceState,history.go=n.originHistoryGo,history.back=n.originHistoryBack,history.forward=n.originHistoryForward,n.enabled=!1,this},enable:function(){return n.enabled=!0,n.hooked&&n.hadMissedRouteChange&&(n.hadMissedRouteChange=!1,BOOMR.plugins.SPA.route_change(),n.setRouteChangeInProgress(),void 0),this}});}function v(){var n;if(!BOOMR.plugins.ResourceTiming){var e={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a",body:"b",input:"c",frame:"a",object:"d",video:"e",audio:"f",source:"g",track:"h",embed:"i",eventsource:"j",navigation:6},r={prefetch:1,preload:2,prerender:3,stylesheet:4},i=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"];n={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(n){n&&n.restiming&&(y(n.restiming)),this.complete||(this.complete=!0,BOOMR.sendBeacon());},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,splitAtPath:!1,getSrcsetDimensions:!1,trackedResourceTypes:"*",done:function(){this.sentNavBeacon||(p(),this.complete=!0,this.sentNavBeacon=!0,BOOMR.sendBeacon());},onBeacon:function(t){var e=BOOMR.getPerformance();if(n.clearOnBeacon&&e){var r=e.clearResourceTimings||e.webkitClearResourceTimings;r&&"function"==typeof r&&r.call(e);}},prerenderToVisible:function(){this.sentNavBeacon=!1,this.done();}},BOOMR.plugins.ResourceTiming={init:function(t){if(BOOMR.utils.pluginConfig(n,t,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings","splitAtPath","getSrcsetDimensions"]),n.initialized)return this;if(this.is_supported()){if(BOOMR.subscribe("page_ready",n.done,null,n),BOOMR.subscribe("prerender_to_visible",n.prerenderToVisible,null,n),BOOMR.subscribe("xhr_load",n.xhr_load,null,n),BOOMR.subscribe("beacon",n.onBeacon,null,n),BOOMR.subscribe("before_unload",n.done,null,n),n.monitorClearResourceTimings){var e=this;BOOMR.window.performance.clearResourceTimings=(r=BOOMR.window.performance.clearResourceTimings,function(){e.addResources(BOOMR.window.performance.getEntriesByType("resource")),r.apply(BOOMR.window.performance,arguments);});}}else n.complete=!0;var r;return n.initialized=!0,this},is_complete:function(){return !0},is_enabled:function(){return n.initialized&&this.is_supported()},is_supported:function(){if(null!==n.supported)return n.supported;var t=BOOMR.getPerformance();return n.supported=t&&"function"==typeof t.getEntriesByType&&void 0!==window.PerformanceResourceTiming,n.supported},addResources:function(t,e){if(this.is_supported()&&BOOMR.utils.isArray(t)){if(n.collectedEntries=n.collectedEntries||[],"number"==typeof e){var r=e-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);t=BOOMR.utils.arrayFilter(t,(function(n){for(var t=0;t<i.length;t++){var e=i[t];n.hasOwnProperty(e)&&(n[e]+=r);}return !0}));}Array.prototype.push.apply(n.collectedEntries,t);}},getCompressedResourceTiming:M,getFilteredResourceTiming:d,calculateResourceTimingUnion:function(n){var t;if(!n||!n.length)return 0;n.sort((function(n,t){return n.fetchStart!==t.fetchStart?n.fetchStart-t.fetchStart:(n.responseStart||n.responseEnd)-(t.responseStart||t.responseEnd)}));var e=R(n),r=[],i=0;for(t=0;t<e.length;t++){var o=e[t];o.fetchStart<i&&(o.fetchStart=i),o.fetchStart<o.responseEnd&&(r.push(o),i=o.responseEnd);}var a=R(r),u=0;for(t=0;t<a.length;t++)u+=a[t].responseEnd-a[t].fetchStart;return u},addResourceTimingToBeacon:p,addToBeacon:y};}function o(t,e){var r,i,o,a,u,c,s,f,O={};function l(n){return function(t,e,r){var i,o;if(-1!==e.indexOf("\n")){for(i=e.split("\n"),o=0;o<i.length-1;o++)t.push(i[o]),t.push("\n");e=i.slice(-1);}return "number"==typeof n&&r<n&&(e+="/"),t.concat(e)}}for(r in t){for(i=r,o=0;o<n.xssBreakWords.length;o++)i=i.replace(n.xssBreakWords[o],"$1\n$2");if(t.hasOwnProperty(r))for(a=t[r],u=e?[(u=i.split("/"))[0]+"//",u[2]+(u.length>3?"/":"")].concat(u.slice(3).reduce(l(u.length-4),[])):i.split(""),s=O,o=0;o<u.length;o++)void 0===(f=s[c=u[o]])?s=s[c]=o===u.length-1?a:{}:"string"==typeof f?s=s[c]={"|":f}:o===u.length-1?s[c]["|"]=a:s=s[c];}return O}function a(n,t){var e,r,i,o=0,u=[];for(e in n)n.hasOwnProperty(e)&&u.push(e);for(var c=0;c<u.length;c++)"object"==typeof n[e=u[c]]&&(r=a(n[e],!1))&&(delete n[e],"\n"===e?(e=r.name,o++):e+=r.name,n[e]=r.value),o++;return 1===o?t?((i={})[e]=n[e],i):{name:e,value:n[e]}:!!t&&n}function u(n,t){"number"!=typeof n&&(n=0),"number"!=typeof t&&(t=0);var e=Math.round(n||0),r=Math.round(t||0);return 0===e?0:e-r}function c(n){try{if(n.location&&n.location.href,n.document,"performance"in n&&n.performance)return !0}catch(n){}return !1}function s(n){var t=0;return c(n)&&n.performance.timing&&n.performance.timing.navigationStart&&(t=n.performance.timing.navigationStart),t}function f(e,o,a,u,l){var d,h,M,R,p,B,m,g=[],y={},b={};if(void 0===o&&(o=!0),void 0===a&&(a=0),void 0===u&&(u=0),u>10)return g;try{if(!c(e))return g;if(h=s(e),B=function(t,e){var r,i,o={},a=t.document,u=a.createElement("A");return r=(e=e||[0,0,0,0])[3]+(void 0!==t.pageXOffset)?t.pageXOffset:(a.documentElement||a.body.parentNode||a.body).scrollLeft,i=e[2]+(void 0!==t.pageYOffset)?t.pageYOffset:(a.documentElement||a.body.parentNode||a.body).scrollTop,["img","iframe","image"].forEach((function(t){var e,c,s,f,O=a.getElementsByTagName(t);for(c=0;c<O.length;c++)if((e=O[c])&&(f=e.currentSrc||e.src||"function"==typeof e.getAttribute&&e.getAttribute("src")||e.getAttribute("xlink:href"),u.href=f,(f=u.href)&&!o[f]&&((s=e.getBoundingClientRect()).height||e.offsetHeight)&&(s.width||e.offsetWidth))){if(o[f]=[s.height||e.offsetHeight,s.width||e.offsetWidth,Math.round(s.top+i),Math.round(s.left+r)],!e.naturalHeight&&!e.naturalWidth)continue;var l,d,h;n.getSrcsetDimensions&&e.currentSrc&&(e.srcset||e.parentNode&&e.parentNode.nodeName&&"PICTURE"===e.parentNode.nodeName.toUpperCase())?(l=e.isConnected?e.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=f:l=e,d=l.naturalHeight||e.naturalHeight,h=l.naturalWidth||e.naturalWidth,!d&&!h||o[f][0]===d&&o[f][1]===h||o[f].push(d,h);}})),o}(e,l),O(m=e.document.createElement("a"),y,"script"),O(m,b,"link"),(p=e.document.getElementsByTagName("iframe"))&&p.length)for(d=0;d<p.length;d++)M=s(p[d].contentWindow),R=0,M>h&&(R=a+(M-h)),m.href=p[d].src,g=g.concat(f(p[d].contentWindow,!1,R,u+1,B[m.href]));if("function"!=typeof e.performance.getEntriesByType)return g;function w(t){return n.serverTiming&&t.serverTiming||[]}o&&function(n,e,r,i,o){(r=n.performance.getEntriesByType("navigation"))&&1===r.length?(i=r[0],e.push({name:n.location.href,startTime:0,initiatorType:"html",redirectStart:i.redirectStart,redirectEnd:i.redirectEnd,fetchStart:i.fetchStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,connectStart:i.connectStart,secureConnectionStart:i.secureConnectionStart,connectEnd:i.connectEnd,requestStart:i.requestStart,responseStart:i.responseStart,responseEnd:i.responseEnd,workerStart:i.workerStart,encodedBodySize:i.encodedBodySize,decodedBodySize:i.decodedBodySize,transferSize:i.transferSize,serverTiming:o(i)})):n.performance.timing&&(t=n.performance.timing,0!==t.navigationStart&&t.responseEnd<=t.navigationStart+36e5&&e.push({name:n.location.href,startTime:0,initiatorType:"html",redirectStart:t.redirectStart?t.redirectStart-t.navigationStart:0,redirectEnd:t.redirectEnd?t.redirectEnd-t.navigationStart:0,fetchStart:t.fetchStart?t.fetchStart-t.navigationStart:0,domainLookupStart:t.domainLookupStart?t.domainLookupStart-t.navigationStart:0,domainLookupEnd:t.domainLookupEnd?t.domainLookupEnd-t.navigationStart:0,connectStart:t.connectStart?t.connectStart-t.navigationStart:0,secureConnectionStart:t.secureConnectionStart?t.secureConnectionStart-t.navigationStart:0,connectEnd:t.connectEnd?t.connectEnd-t.navigationStart:0,requestStart:t.requestStart?t.requestStart-t.navigationStart:0,responseStart:t.responseStart?t.responseStart-t.navigationStart:0,responseEnd:t.responseEnd?t.responseEnd-t.navigationStart:0}));}(e,g,void 0,void 0,w);var _=e.performance.getEntriesByType("resource");e===BOOMR.window&&n.collectedEntries&&(Array.prototype.push.apply(_,n.collectedEntries),n.collectedEntries=[]),g=g.concat(function(n,t,e,o,a,u){for(var c,s,f=[],O=0;n&&O<n.length;O++){s=n[O],c={name:s.name,initiatorType:s.initiatorType,encodedBodySize:s.encodedBodySize,decodedBodySize:s.decodedBodySize,transferSize:s.transferSize,serverTiming:t(s),visibleDimensions:e[s.name],latestTime:v(s)};for(var l=0;l<i.length;l++){var d=i[l];c[d]="startTime"===d||s[d]?s[d]+o:0;}if(s.hasOwnProperty("_data")&&(c.M=s.M),("script"===s.initiatorType||"link"===s.initiatorType)&&a[s.name]){var h=a[s.name];for(c.scriptAttrs=(h.async?1:0)|(h.defer?2:0);1===h.nodeType&&"BODY"!==h.nodeName;)h=h.parentNode;c.scriptAttrs|="BODY"===h.nodeName?4:0;}"link"===s.initiatorType&&u[s.name]&&BOOMR.utils.arrayFind(u[s.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),(function(n){if(n=n.toLowerCase(),r[n])return c.linkAttrs=r[n],!0})),f.push(c);}return f}(_,w,B,a,y,b));}catch(n){return g}return g}function O(n,t,e){Array.prototype.forEach.call(n.ownerDocument.getElementsByTagName(e),(function(e){n.href=e.currentSrc||e.src||"function"==typeof e.getAttribute&&e.getAttribute("xlink:href")||e.href,n.href.match(/^https?:\/\//)&&(t[n.href]=e);}));}function l(n){return "number"==typeof n&&0!==n?n.toString(36):"string"==typeof n?n:""}function d(n,t,e){var r,i,o=f(BOOMR.window,!0,0,0),a=s(BOOMR.window),u={};if(!o||!o.length)return {entries:[]};o.sort((function(n,t){return n.startTime-t.startTime}));var c=[];for(r=0;r<o.length;r++)if("string"==typeof(i=o[r]).name&&(0===i.name.indexOf("http:")||0===i.name.indexOf("https:"))&&!("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&i.name.indexOf(BOOMR.getBeaconURL())>-1||n&&a+i.startTime<n)){if(t&&a+i.startTime>t)break;(void 0===e||"*"===e||!e.length||i.initiatorType&&BOOMR.utils.inArray(i.initiatorType,e))&&(B(u,i.serverTiming),c.push(i));}var O=function(n){return Object.keys(n).sort((function(t,e){return n[e].count-n[t].count})).reduce((function(t,e){var r=Object.keys(n[e].counts).sort((function(t,r){return n[e].counts[r]-n[e].counts[t]}));return t.push(1===r.length&&""===r[0]?e:[e].concat(r)),t}),[])}(u);return {entries:c,serverTiming:{lookup:O,indexed:m(O)}}}function h(t,e){var r,i,o;if(t&&e)for(r=0;r<e.length;r++)if("string"==typeof(o=e[r])){if(-1!==(i=t.indexOf(o))){t=t.substr(0,i+o.length)+"...";break}}else o instanceof RegExp&&o.test(t)&&(t=t.replace(o,"$1")+"...");return BOOMR.utils.cleanupURL(t,n.urlLimit)}function v(n){return n.responseEnd?n.responseEnd:n.responseStart&&n.startTime?n.responseStart+.2*(n.responseStart-n.startTime):1/0}function M(t,r){var i,c,s,f,O,v,M,R,p,B,m={},y={},b=d(t,r,n.trackedResourceTypes),w=b.entries,_=b.serverTiming;if(!w||!w.length)return {restiming:{},servertiming:[]};for(i=0;i<w.length;i++){c=w[i],void 0===(s=e[c.initiatorType])&&(s=0),O=s+[u(c.startTime,0),u(c.responseEnd,c.startTime),u(c.responseStart,c.startTime),u(c.requestStart,c.startTime),u(c.connectEnd,c.startTime),u(c.secureConnectionStart,c.startTime),u(c.connectStart,c.startTime),u(c.domainLookupEnd,c.startTime),u(c.domainLookupStart,c.startTime),u(c.redirectEnd,c.startTime),u(c.redirectStart,c.startTime)].map(l).join(",").replace(/,+$/,"");var x=(R=void 0,p=void 0,B=void 0,(M=c).encodedBodySize||M.decodedBodySize||M.transferSize?(R=M.transferSize,[p=M.encodedBodySize,R?R-p:"_",(B=M.decodedBodySize)?B-p:0].map(l).join(",").replace(/,+$/,"")):"");if(""!==x&&(O+="*1"+x),c.hasOwnProperty("scriptAttrs")&&(O+="*2"+c.scriptAttrs),c.serverTiming&&c.serverTiming.length&&(O+="*3"+c.serverTiming.reduce((function(n,t,e){var r=String(void 0!==t.duration?t.duration:t.value);"0."===r.substring(0,2)&&(r=r.substring(1));var i=t.name||t.metric;return n+=(e>0?",":"")+r+g(_.indexed[i].index,_.indexed[i].descriptions[t.description])}),"")),c.hasOwnProperty("linkAttrs")&&(O+="*4"+c.linkAttrs),c.workerStart&&"number"==typeof c.workerStart&&0!==c.workerStart)O+="*6"+l(u(("number"!=typeof(v=c.workerStart)&&(v=0),Math.ceil(v||0)),c.startTime));if(f=h(c.name,n.trimUrls),c.hasOwnProperty("_data")){var S="";for(var k in c.M)c.M.hasOwnProperty(k)&&(S+="*5"+k+":"+c.M[k]);void 0===m[f]?m[f]=O+S:m[f]+=S;}else void 0!==m[f]?m[f]+="|"+O:c.visibleDimensions?m[f]="*0"+c.visibleDimensions.map(Math.round).map(l).join(",").replace(/,+$/,"")+"|"+O:m[f]=O;c.visibleDimensions&&(y[c.latestTime]||(y[c.latestTime]=[]),y[c.latestTime].push(c.visibleDimensions));}return {restiming:a(o(m,n.splitAtPath),!0),servertiming:_.lookup}}function R(n){var t=[];if(!n||!n.length)return t;for(var e=0;e<n.length;e++){var r=n[e];e!==n.length-1&&r.fetchStart===n[e+1].fetchStart||t.push({fetchStart:r.fetchStart,responseEnd:r.responseStart||r.responseEnd});}return t}function p(n,t){var e;"undefined"!=typeof JSON&&(e=M(n,t))&&(BOOMR.info("Client supports Resource Timing API","restiming"),y(e));}function B(n,t){(t||[]).forEach((function(t){var e=t.name||t.metric;void 0===n[e]&&(n[e]={count:0,counts:{}});var r=n[e];r.counts[t.description]=r.counts[t.description]||0,r.counts[t.description]++,r.count++;}));}function m(n){return n.reduce((function(n,t,e){var r,i;return Array.isArray(t)?(r=t[0],i=t.slice(1).reduce((function(n,t,e){return n[t]=e,n}),{})):(r=t,i={"":0}),n[r]={index:e,descriptions:i},n}),{})}function g(n,t){var e="";return n&&(e+=n),t&&(e+="."+t),e.length&&(e=":"+e),e}function y(n){BOOMR.addVar("restiming",JSON.stringify(n.restiming),!0),n.servertiming.length&&BOOMR.addVar("servertiming",BOOMR.utils.serializeForUrl(n.servertiming),!0);}}function M(){if(!BOOMR.plugins.UserTiming){var n={complete:!1,initialized:!1,supported:!1,options:{from:0,window:BOOMR.window},getUserTiming:function(){var t=this.findUserTimingForFrame(n.options.window);n.options.from&&(t=t.filter((function(t){return t.startTime+t.duration>=n.options.from})));var e,r=window.UserTimingCompression||BOOMR.window.UserTimingCompression;if(void 0===r){if(0===t.length)return null;for(var i=this.getUserTimingMap(),o=0,a=t.length;o<a;o++){var u=t[o];"measure"===u.entryType&&0===u.name.indexOf("x_")&&(i[u.name]?i[u.name].push(u.duration):i[u.name]=[u.duration]);}return JSON.stringify(i)}return e=r.compressUserTiming(t),r.compressForUri(e)},addEntriesToBeacon:function(n){var t,e=BOOMR.hrNow();this.complete||n&&void 0!==n.early||((t=this.getUserTiming())&&BOOMR.addVar("usertiming",t,!0),this.options.from=e,this.complete=!0);},getUserTimingMap:function(){var n,t=BOOMR.getVar("usertiming");if(!t)return {};try{if(u(n=JSON.parse(t)))return n}catch(n){}return {}},findUserTimingForFrame:function(n){var t;if(!n)return [];try{n.location&&n.location.href;if(!("performance"in n)||!n.performance||!n.performance.getEntriesByType)return t;t=(t=n.performance.getEntriesByType("mark")).concat(n.performance.getEntriesByType("measure"));}catch(n){return t}return t},clearMetrics:function(n){this.complete=!1;},subscribe:function(){BOOMR.subscribe("before_beacon",this.addEntriesToBeacon,null,this),BOOMR.subscribe("beacon",this.clearMetrics,null,this);},pageReady:function(){this.checkSupport()&&this.subscribe();},checkSupport:function(){if(this.supported)return !0;var n=BOOMR.getPerformance();if(n&&"function"==typeof n.getEntriesByType){var t=n.getEntriesByType("mark"),e=n.getEntriesByType("measure");if(BOOMR.utils.isArray(t)&&BOOMR.utils.isArray(e))return BOOMR.info("Client supports UserTiming API","usertiming"),this.supported=!0,!0}return !1}};BOOMR.plugins.UserTiming={init:function(t){return n.initialized||(n.checkSupport()?n.subscribe():BOOMR.subscribe("page_ready",n.pageReady,null,n),n.initialized=!0),this},is_complete:function(){return !0},is_supported:function(){return n.initialized&&n.supported},addUserTiming:function(t){var e=n.getUserTimingMap();u(t)&&(Object.keys(t).forEach((function(n){var r,i=t[n];r=i,"[object Number]"===Object.prototype.toString.call(r)&&(i=[i]),e[n]?e[n].concat(i):e[n]=i;})),e&&BOOMR.addVar("usertiming",JSON.stringify(e),!0));}};}}O();var R=function(){function n(n){n&&n.ignoreUrls&&n.ignoreUrls.length&&this.shouldIgnoreUrls(n.ignoreUrls)||(this.BOOMR=function(n){var t,e,r,i,o,a,u,s=n;n.parent!==n&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(n=n.parent),r=n.document,n.BOOMR||(n.BOOMR={});var l,d=n.BOOMR;if(d.version)return d;if(d.version="1.3.12",d.window=n,d.boomerang_frame=s,d.plugins||(d.plugins={}),function(){try{void 0!==new n.CustomEvent("CustomEvent")&&(i=function(t,e){return new n.CustomEvent(t,e)});}catch(n){}try{!i&&r.createEvent&&r.createEvent("CustomEvent")&&(i=function(n,t){var e=r.createEvent("CustomEvent");return t=t||{cancelable:!1,bubbles:!1},e.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),e});}catch(n){}!i&&r.createEventObject&&(i=function(n,t){var e=r.createEventObject();return e.type=e.propertyName=n,e.detail=t.detail,e}),i||(i=function(){});}(),o=function(n,t,e){var o=i(n,{detail:t});function a(){try{r.dispatchEvent?r.dispatchEvent(o):r.fireEvent&&r.fireEvent("onpropertychange",o);}catch(t){}}o&&(e?d.setImmediate(a):a());},void 0!==r.hidden?(a="visibilityState",u="visibilitychange"):void 0!==r.mozHidden?(a="mozVisibilityState",u="mozvisibilitychange"):void 0!==r.msHidden?(a="msVisibilityState",u="msvisibilitychange"):void 0!==r.webkitHidden&&(a="webkitVisibilityState",u="webkitvisibilitychange"),t={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:n.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:void 0,same_site_cookie:"Lax",secure_cookie:!1,forced_same_site_cookie_none:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[],before_early_beacon:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(e){return function(r){var i;r||(r=n.event),r.target?i=r.target:r.srcElement&&(i=r.srcElement),3===i.nodeType&&(i=i.parentNode),i&&i.nodeName&&"OBJECT"===i.nodeName.toUpperCase()&&"application/x-shockwave-flash"===i.type||t.fireEvent(e,i);}},clearEvents:function(){var n;for(n in this.events)this.events.hasOwnProperty(n)&&(this.events[n]=[]);},clearListeners:function(){var n;for(n in t.listenerCallbacks)if(t.listenerCallbacks.hasOwnProperty(n))for(;t.listenerCallbacks[n].length;)d.utils.removeListener(t.listenerCallbacks[n][0].el,n,t.listenerCallbacks[n][0].fn);t.listenerCallbacks={};},fireEvent:function(n,t){var e,r,i,a;if(n=n.toLowerCase(),this.translate_events[n]&&(n=this.translate_events[n]),this.events.hasOwnProperty(n)){for(this.public_events.hasOwnProperty(n)&&o(this.public_events[n],t),i=this.events[n],"before_beacon"!==n&&"beacon"!==n&&d.real_sendBeacon(),a=i.length,e=0;e<a;e++)try{(r=i[e]).fn.call(r.scope,t,r.cb_data);}catch(t){d.addError(t,"fireEvent."+n+"<"+e+">");}for(e=0;e<a;e++)try{i[e].once&&(i.splice(e,1),a--,e--);}catch(t){d.addError(t,"fireEvent."+n+"<"+e+">");}}},spaNavigation:function(){t.onloadfired=!0;},beaconUrlAllowed:function(n){if(!t.beacon_urls_allowed||0===t.beacon_urls_allowed.length)return !0;for(var e=0;e<t.beacon_urls_allowed.length;e++){if(new RegExp(t.beacon_urls_allowed[e]).exec(n))return !0}return !1},checkLocalStorageSupport:function(){var e=t.LOCAL_STORAGE_PREFIX+"clss";t.localStorageSupported=!1;try{if(!n.JSON||!n.localStorage)return;n.localStorage.setItem(e,e),t.localStorageSupported=n.localStorage.getItem(e)===e,n.localStorage.removeItem(e);}catch(n){t.localStorageSupported=!1;}},onFrameUnloaded:function(){var n,e;for(d.isUnloaded=!0,n=0;n<t.nativeOverwrites.length;n++)(e=t.nativeOverwrites[n]).obj[e.functionName]=e.origFn;t.nativeOverwrites=[];}},e={t_start:f,t_end:void 0,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,cookies:{},testedCookies:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:t.site_domain,ID:void 0,start:void 0,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return !(!n.postMessage||"function"!=typeof n.postMessage&&"object"!=typeof n.postMessage)},objectToString:function(n,t,e){var r,i=[];if(!n||"object"!=typeof n)return n;if(void 0===t&&(t="\n\t"),e||(e=0),d.utils.isArray(n)){for(r=0;r<n.length;r++)e>0&&null!==n[r]&&"object"==typeof n[r]?i.push(this.objectToString(n[r],t+("\n\t"===t?"\t":""),e-1)):"&"===t?i.push(encodeURIComponent(n[r])):i.push(n[r]);t=",";}else for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e>0&&null!==n[r]&&"object"==typeof n[r]?i.push(encodeURIComponent(r)+"="+this.objectToString(n[r],t+("\n\t"===t?"\t":""),e-1)):"&"===t?i.push(encodeURIComponent(r)+"="+encodeURIComponent(n[r])):i.push(r+"="+n[r]));return i.join(t)},getCookie:function(n){var t;return n?void 0!==d.cookies[n]?!1===d.cookies[n]?void 0:d.cookies[n]:void 0!==(t=this.getRawCookie(n))?(d.cookies[n]=t,d.cookies[n]):void(d.cookies[n]=!1):null},getRawCookie:function(n){return n?(n=" "+n+"=",(t=(e=" "+r.cookie+";").indexOf(n))>=0?(t+=n.length,e.substring(t,e.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")):void 0):null;var t,e;},setCookie:function(n,e,i){var o,a,u,c,s;if(!n||!d.session.domain||void 0===e)return d.addVar("nocookie",1),!1;if((o=this.objectToString(e,"&"))===d.cookies[n])return !0;if((a=n+'="'+o+'"').length<500){c=[a,"path=/","domain="+d.session.domain],"number"==typeof i&&((s=new Date).setTime(s.getTime()+1e3*i),s=s.toGMTString(),c.push("expires="+s));var f=this.getSameSiteAttributeParts();if("https:"===location.protocol&&!0===t.secure_cookie&&-1===f.indexOf("Secure")&&f.push("Secure"),c=c.concat(f),r.cookie=c.join("; "),d.testedCookies)return d.cookies[n]="number"!=typeof i||i>0?o:void 0,!0;if(d.cookies[n]=void 0,o===(u=this.getCookie(n))||void 0===u&&"number"==typeof i&&i<=0)return d.cookies[n]=o,d.testedCookies=!0,d.removeVar("nocookie"),!0;}return d.addVar("nocookie",1),!1},getSubCookies:function(n){var t,e,r,i,o=!1,a={};if(!n)return null;if("string"!=typeof n)return null;for(e=0,r=(t=n.split("&")).length;e<r;e++)(i=t[e].split("="))[0]&&(i.push(""),a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),o=!0);return o?a:null},removeCookie:function(n){return this.setCookie(n,{},-86400)},getSameSiteAttributeParts:function(){var n=t.same_site_cookie.toUpperCase();return t.forced_same_site_cookie_none&&(n="NONE"),"LAX"===n?["SameSite=Lax"]:"NONE"===n?"https:"===location.protocol&&this.isCurrentUASameSiteNoneCompatible()?["SameSite=None","Secure"]:[]:"STRICT"===n?["SameSite=Strict"]:["SameSite=Lax"]},getLocalStorage:function(e){var r,i;if(!e||!t.localStorageSupported)return null;try{if(null===(r=n.localStorage.getItem(t.LOCAL_STORAGE_PREFIX+e)))return;i=n.JSON.parse(r);}catch(n){return null}return i&&"object"==typeof i.items?"number"==typeof i.expires&&d.now()>=i.expires?void this.removeLocalStorage(e):i.items:(this.removeLocalStorage(e),null)},setLocalStorage:function(e,r,i){var o,a,u;if(!e||!t.localStorageSupported||"object"!=typeof r)return !1;if(o={items:r},"number"==typeof i&&(o.expires=d.now()+1e3*i),(a=n.JSON.stringify(o)).length<5e4){try{if(n.localStorage.setItem(t.LOCAL_STORAGE_PREFIX+e,a),a===(u=n.localStorage.getItem(t.LOCAL_STORAGE_PREFIX+e)))return !0}catch(n){}}return !1},removeLocalStorage:function(e){if(!e||!t.localStorageSupported)return !1;try{return n.localStorage.removeItem(t.LOCAL_STORAGE_PREFIX+e),!0}catch(n){}return !1},cleanupURL:function(n,e){if(!n||d.utils.isArray(n))return "";if(t.strip_query_string&&(n=n.replace(/\?.*/,"?qs-redacted")),void 0!==e&&n&&n.length>e){var r=n.indexOf("?");n=-1!==r&&r<e?n.substr(0,r)+"?...":n.substr(0,e-3)+"...";}return n},hashQueryString:function(n,t){return n?n.match?(n.match(/^\/\//)&&(n=location.protocol+n),n.match(/^(https?|file):/)?(t&&(n=n.replace(/#.*/,"")),n.replace(/\?([^#]*)/,(function(n,t){return "?"+(t.length>10?d.utils.hashString(t):t)}))):(d.error("Passed in URL is invalid: "+n),"")):(d.addError("TypeError: Not a string","hashQueryString",typeof n),""):n},pluginConfig:function(n,t,e,r){var i,o=0;if(!t||!t[e])return !1;for(i=0;i<r.length;i++)void 0!==t[e][r[i]]&&(n[r[i]]=t[e][r[i]],o++);return o>0},arrayFilter:function(n,t){var e=[];if(!(this.isArray(n)||n&&"number"==typeof n.length)||"function"!=typeof t)return e;if("function"==typeof n.filter)e=n.filter(t);else for(var r,i=-1,o=n.length;++i<o;)t(r=n[i],i,n)&&(e[e.length]=r);return e},arrayFind:function(n,t){if((this.isArray(n)||n&&"number"==typeof n.length)&&"function"==typeof t){if("function"==typeof n.find)return n.find(t);for(var e,r=-1,i=n.length;++r<i;)if(t(e=n[r],r,n))return e}},isMutationObserverSupported:function(){return !(n&&n.navigator&&n.navigator.userAgent&&n.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&n&&n.MutationObserver&&"function"==typeof n.MutationObserver},addObserver:function(t,e,r,i,o,a){var u,c,s={observer:null,timer:null};if(!this.isMutationObserverSupported()||!i||!t)return null;function f(n){var t=!1;s.timer&&(clearTimeout(s.timer),s.timer=null),i&&((t=i.call(a,n,o))||(i=null)),!t&&s.observer&&(s.observer.disconnect(),s.observer=null),"number"==typeof t&&t>0&&(s.timer=setTimeout(f,t));}return u=n.MutationObserver,n.Zone&&"function"==typeof n.Zone.__symbol__&&(c=n.Zone.__symbol__("MutationObserver"))&&"string"==typeof c&&n.hasOwnProperty(c)&&"function"==typeof n[c]&&(u=n[c]),s.observer=new u(f),r&&(s.timer=setTimeout(f,s.timeout)),s.observer.observe(t,e),s},addListener:function(n,e,r,i){var o=!1;n.addEventListener?("object"==typeof i?o=i:"boolean"==typeof i&&i&&d.browser.supportsPassive()&&(o={capture:!1,passive:!0}),n.addEventListener(e,r,o)):n.attachEvent&&n.attachEvent("on"+e,r),t.listenerCallbacks[e]=t.listenerCallbacks[e]||[],t.listenerCallbacks[e].push({el:n,fn:r});},removeListener:function(n,e,r){if(n.removeEventListener?n.removeEventListener(e,r,!1):n.detachEvent&&n.detachEvent("on"+e,r),t.listenerCallbacks.hasOwnProperty(e))for(var i=0;i<t.listenerCallbacks[e].length;i++)if(r===t.listenerCallbacks[e][i].fn&&n===t.listenerCallbacks[e][i].el)return void t.listenerCallbacks[e].splice(i,1)},isArray:function(n){return "[object Array]"===Object.prototype.toString.call(n)},inArray:function(n,t){var e;if(void 0===n||void 0===t||!t.length)return !1;for(e=0;e<t.length;e++)if(t[e]===n)return !0;return !1},getQueryParamValue:function(n,t){var e,r,i,o;if(!n)return null;for("string"==typeof t?(e=d.window.document.createElement("a")).href=t:e="object"==typeof t&&"string"==typeof t.search?t:d.window.location,r=e.search.slice(1).split(/&/),i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("=")).length&&o[0]===n)try{return o.length>1?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):""}catch(n){if(!n||"string"!=typeof n.name||-1===n.name.indexOf("URIError"))throw n}return null},generateUUID:function(){return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var t=16*Math.random()|0;return ("x"===n?t:3&t|8).toString(16)}))},generateId:function(n){return "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,n||40).replace(/x/g,(function(n){return "0"===(n=(Math.random()||.01).toString(36))?"0":n.substr(2,1)}))},serializeForUrl:function(n){return d.utils.Compression&&d.utils.Compression.jsUrl?d.utils.Compression.jsUrl(n):window.JSON?JSON.stringify(n):("")},getMyURL:function(){var n,t=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(t)return t.src;var e,r=document.getElementsByTagName("script");for(e=r.length;e--;)if("interactive"===r[e].readyState)return r[e].src;try{throw new Error}catch(t){if("stack"in t&&(n=this.arrayFilter(t.stack.split(/\n/),(function(n){return n.match(/https?:\/\//)})))&&n.length)return n[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return ""},scroll:function(){var t=void 0!==n.pageXOffset,e="CSS1Compat"===(n.document.compatMode||""),r={x:0,y:0};return t?"function"==typeof n.pageXOffset?(r.x=n.pageXOffset(),r.y=n.pageYOffset()):(r.x=n.pageXOffset,r.y=n.pageYOffset):e?(r.x=n.document.documentElement.scrollLeft,r.y=n.document.documentElement.scrollTop):(r.x=n.document.body.scrollLeft,r.y=n.document.body.scrollTop),"number"==typeof r.sx&&(r.sx=Math.round(r.sx)),"number"==typeof r.sy&&(r.sy=Math.round(r.sy)),r},windowHeight:function(){return n.innerHeight||n.document.documentElement.clientHeight||n.document.body.clientHeight},windowWidth:function(){return n.innerWidth||n.document.documentElement.clientWidth||n.document.body.clientWidth},isNative:function(n){return !!n&&n.toString&&!n.hasOwnProperty("toString")&&/\[native code\]/.test(String(n))},overwriteNative:function(n,e,r){n&&r&&(d.boomerang_frame!==d.window&&t.nativeOverwrites.push({obj:n,functionName:e,origFn:n[e]}),n[e]=r);},isInteger:function(n){return (Number.isInteger||function(n){return "number"==typeof n&&isFinite(n)&&Math.floor(n)===n})(n)},isObjectEmpty:function(n){for(var t in n)if(n.hasOwnProperty(t))return !1;return !0},hashString:function(n){n=encodeURIComponent(n);for(var t=2166136261,e=0;e<n.length;e++)t^=n.charCodeAt(e),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);var r=(t>>>0).toString()+n.length;return parseInt(r).toString(36)},isCurrentUASameSiteNoneCompatible:function(){return !(n&&n.navigator&&n.navigator.userAgent&&"string"==typeof n.navigator.userAgent)||this.isUASameSiteNoneCompatible(n.navigator.userAgent)},isUASameSiteNoneCompatible:function(n){var t=n.match(/(UCBrowser)\/(\d+\.\d+)\.(\d+)/);if(t){var e=parseFloat(t[2]),r=t[3];return 12.13===e?!(r<=2):!(e<12.13)}if(t=n.match(/(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/)){var i=t[2];return !(i>=51&&i<=66)}return (t=n.match(/(Macintosh;.*Mac OS X 10_14[_\d]*.*) AppleWebKit\//))?(!(t=n.match(/Version\/.* Safari\//))||null!==(t=n.match(/Chrom(?:e|ium)/)))&&!(t=n.match(/^Mozilla\/\d+(?:\.\d+)* \(Macintosh;.*Mac OS X \d+(?:_\d+)*\) AppleWebKit\/\d+(?:\.\d+)* \(KHTML, like Gecko\)$/)):!(t=n.match(/(iP.+; CPU .*OS 12(?:_\d+)*.*)/))}},browser:{results:{},supportsPassive:function(){if(void 0===d.browser.results.supportsPassive){if(d.browser.results.supportsPassive=!1,!Object.defineProperty)return !1;try{var n=Object.defineProperty({},"passive",{get:function(){d.browser.results.supportsPassive=!0;}});window.addEventListener("test",null,n);}catch(n){}}return d.browser.results.supportsPassive}},init:function(e){var i,o,a=["autorun","sampleRate","interactionSampleRate","normalizeUrl","initiatorTypes","ignoreXhrs","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip","sendWindow"];if(O(),e||(e={}),void 0!==e.log&&(this.log=e.log),this.log||(this.log=function(){}),this.pageId||(this.pageId=d.utils.generateId(8),void 0),e.primary&&t.handlers_attached)return this;for(o in void 0!==e.site_domain&&(/:/.test(e.site_domain)&&(e.site_domain=n.location.hostname.toLowerCase()),this.session.domain=e.site_domain),d.session.enabled&&void 0===d.session.ID&&(d.session.ID=d.utils.generateUUID()),void 0!==e.autorun&&(t.autorun=e.autorun),this.plugins)if(this.plugins.hasOwnProperty(o)){if(e[o]&&e[o].hasOwnProperty("enabled")&&!1===e[o].enabled){t.disabled_plugins[o]=1,"function"==typeof this.plugins[o].disable&&this.plugins[o].disable();continue}if(t.disabled_plugins[o]){if(!e[o]||!e[o].hasOwnProperty("enabled")||!0!==e[o].enabled)continue;"function"==typeof this.plugins[o].enable&&this.plugins[o].enable(),delete t.disabled_plugins[o];}if("function"==typeof this.plugins[o].init)try{this.plugins[o].init(e);}catch(n){d.addError(n,o+".init");}}for(i=0;i<a.length;i++)void 0!==e[a[i]]&&(t[a[i]]=e[a[i]]);return (!t.handlers_attached&&!e.wait||t.handlers_attached&&t.waiting_for_config)&&(t.onloadfired||void 0!==t.autorun&&!1===t.autorun||(d.hasBrowserOnloadFired()&&(d.loadedLate=!0),d.attach_page_ready(d.page_ready_autorun)),t.waiting_for_config=!1),t.handlers_attached||(e.wait&&(t.waiting_for_config=!0),d.attach_page_ready((function(){d.t_onload||(d.t_onload=d.now());})),d.utils.addListener(n,"DOMContentLoaded",(function(){t.fireEvent("dom_loaded");})),d.fireEvent("config",e),d.subscribe("config",(function(n){n.beacon_url&&(t.beacon_url=n.beacon_url);})),d.subscribe("spa_navigation",t.spaNavigation,null,t),function(){var e,i;for(void 0!==u&&(d.utils.addListener(r,u,(function(){t.fireEvent("visibility_changed");})),t.lastVisibilityState=d.visibilityState(),d.subscribe("visibility_changed",(function(){var n=d.visibilityState();d.lastVisibilityEvent[n]=d.now(),"prerender"===t.lastVisibilityState&&"prerender"!==n&&(d.addVar("vis.pre","1"),t.fireEvent("prerender_to_visible")),t.lastVisibilityState=n;}))),d.utils.addListener(r,"mouseup",t.xb_handler("click")),e=r.getElementsByTagName("form"),i=0;i<e.length;i++)d.utils.addListener(e[i],"submit",t.xb_handler("form_submit"));n.onpagehide||null===n.onpagehide||d.utils.addListener(n,"unload",(function(){d.window=n=null;})),d.boomerang_frame!==d.window&&d.utils.addListener(d.boomerang_frame,"unload",t.onFrameUnloaded);}(),t.handlers_attached=!0),this},attach_page_ready:function(t){d.hasBrowserOnloadFired()?this.setImmediate(t,null,null,d):n.onpagehide||null===n.onpagehide?d.utils.addListener(n,"pageshow",(function(){t();})):d.utils.addListener(n,"load",(function(){t();}));},page_ready_autorun:function(n){t.autorun&&d.page_ready(n,!0);},page_ready:function(e,r){var i;return r||"number"!=typeof e||(i=e,e=null),e||(e=n.event),e||(e={name:"load"}),r?"number"==typeof n.BOOMR_page_ready&&(e.timing=e.timing||{},e.timing.loadEventEnd=n.BOOMR_page_ready,d.addVar("pr",1,!0)):(e.timing=e.timing||{},i?e.timing.loadEventEnd=i:"number"==typeof n.BOOMR_page_ready?e.timing.loadEventEnd=n.BOOMR_page_ready:e.timing.loadEventEnd=d.now(),d.addVar("pr",1,!0)),t.onloadfired||(t.fireEvent("page_ready",e),t.onloadfired=!0),this},hasBrowserOnloadFired:function(){var t=d.getPerformance();return r.readyState&&"complete"===r.readyState||t&&t.timing&&t.timing.loadEventStart>0||n.BOOMR_onload>0},onloadFired:function(){return t.onloadfired},setImmediate:function(t,e,r,i){var o;o=function(){t.call(i||null,e,r||{},void 0),o=null;},n.requestIdleCallback?n.requestIdleCallback(o,{timeout:1e3}):n.setImmediate?n.setImmediate(o):setTimeout(o,10);},now:Date.now||function(){return (new Date).getTime()},getPerformance:function(){try{if(d.window)return "performance"in d.window&&d.window.performance?d.window.performance:d.window.msPerformance||d.window.webkitPerformance||d.window.mozPerformance}catch(n){}},forceSameSiteCookieNone:function(){t.forced_same_site_cookie_none=!0;},hrNow:function(){var n,t,e=d.getPerformance();return e&&e.now?n=e.now():(t=d.plugins.RT&&d.plugins.RT.navigationStart&&d.plugins.RT.navigationStart()||d.t_lstart||d.t_start,n=d.now()-t),n},visibilityState:void 0===a?function(){return "visible"}:function(){return r[a]},lastVisibilityEvent:{},registerEvent:function(n){return t.events.hasOwnProperty(n)||(t.events[n]=[]),this},disable:function(){t.clearEvents(),t.clearListeners();},fireEvent:function(n,e){return t.fireEvent(n,e)},subscribe:function(e,r,i,o,a){var u,c,s;for(e=e.toLowerCase(),t.translate_events[e]&&(e=t.translate_events[e]),t.events.hasOwnProperty(e)||(t.events[e]=[]),s=t.events[e],u=0;u<s.length;u++)if((c=s[u])&&c.fn===r&&c.cb_data===i&&c.scope===o)return this;if(s.push({fn:r,cb_data:i||{},scope:o||null,once:a||!1}),"page_ready"===e&&t.onloadfired&&t.autorun&&this.setImmediate(r,null,i,o),"page_unload"===e||"before_unload"===e){t.unloadEventsCount++;var f=this;!function(){var a;s.length;a=function(e){if(r&&r.call(o,e||n.event,i),++t.unloadEventCalled===t.unloadEventsCount){d.real_sendBeacon();var a=f.plugins.Continuity;a&&"function"==typeof a.checkIfSendAdditionalBeacon&&a.checkIfSendAdditionalBeacon();}},"page_unload"===e&&(n.onpagehide||null===n.onpagehide?d.utils.addListener(n,"pagehide",a):d.utils.addListener(n,"unload",a)),d.utils.addListener(n,"beforeunload",a);}();}return this},addError:function(n,e,r){var i,o=d.plugins.Errors;d.error("Boomerang caught error: "+n+", src: "+e+", extra: "+r),o&&o.is_supported()?"string"==typeof n?o.send({message:n,extra:r,functionName:e,noStack:!0},o.VIA_APP,o.SOURCE_BOOMERANG):("string"==typeof e&&(n.functionName=e),void 0!==r&&(n.extra=r),o.send(n,o.VIA_APP,o.SOURCE_BOOMERANG)):("string"!=typeof n&&((i=String(n)).match(/^\[object/)&&(i=n.name+": "+(n.description||n.message).replace(/\r\n$/,"")),n=i),void 0!==e&&(n="["+e+":"+d.now()+"] "+n),r&&(n+=":: "+r),t.errors[n]?t.errors[n]++:t.errors[n]=1);},isCrossOriginError:function(n){return "SecurityError"===n.name||"TypeError"===n.name&&"Permission denied"===n.message||"Error"===n.name&&n.message&&n.message.match(/^(Permission|Access is) denied/)||-2146828218===n.number},addVar:function(n,e,r){if("string"==typeof n)t.vars[n]=e,r&&(t.singleBeaconVars[n]=1);else if("object"==typeof n){var i,o=n;for(i in o)o.hasOwnProperty(i)&&(t.vars[i]=o[i],r&&(t.singleBeaconVars[i]=1));}return this},appendVar:function(n,t){var e=d.getVar(n)||"";return e&&(e+=","),d.addVar(n,e+t),this},removeVar:function(n){var e,r;if(!arguments.length)return this;for(r=1===arguments.length&&d.utils.isArray(n)?n:arguments,e=0;e<r.length;e++)t.vars.hasOwnProperty(r[e])&&delete t.vars[r[e]];return this},hasVar:function(n){return t.vars.hasOwnProperty(n)},getVar:function(n){return t.vars[n]},getPendingVar:function(n){return t.ttinewBeaconPendingData?t.ttinewBeaconPendingData[n]:t.vars[n]},hasPending:function(){return t.ttinewBeaconPending},setVarPriority:function(n,e){return "number"!=typeof e||1!==Math.abs(e)||(t.varPriority[e][n]=1),this},setReferrer:function(n){t.r=n;},requestStart:function(n){var t=d.now();return d.plugins.RT.startTimer("xhr_"+n,t),{loaded:function(e){d.responseEnd(n,t,e);}}},readyToSend:function(){var n;for(n in this.plugins)if(this.plugins.hasOwnProperty(n)){if(t.disabled_plugins[n])continue;if("function"==typeof this.plugins[n].readyToSend&&!1===this.plugins[n].readyToSend())return !1}return !0},responseEnd:function(n,e,r,i){if(e="number"==typeof e?e:d.now(),i="number"==typeof i?i:d.now(),!d.readyToSend())return void setTimeout((function(){d.responseEnd(n,e,r,i);}),1e3);if(d.hasSentPageLoadBeacon()||d.utils.inArray(n.initiator,d.constants.BEACON_TYPE_SPAS))if(t.beaconInQueue)d.subscribe("beacon",(function(){d.responseEnd(n,e,r,i);}),null,d,!0);else if(t.beaconInQueue=!0,"object"==typeof n){if(!n.url)return void void 0;t.fireEvent("xhr_load",n);}else d.real_sendBeacon(),d.addVar("xhr.pg",n),d.plugins.RT.startTimer("xhr_"+n,e),t.fireEvent("xhr_load",{name:"xhr_"+n,data:r,timing:{loadEventEnd:i}});else d.subscribe("page_load_beacon",(function(){d.responseEnd(n,e,r,i);}),null,d,!0);},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(n){return n&&(t.beacon_url_override=n),t.beaconQueued||(t.beaconQueued=!0,d.setImmediate(d.real_sendBeacon,null,null,d)),!0},sendBeaconWhenReady:function(n,e,r){if(t.beaconInQueue)d.subscribe("beacon",(function(){d.sendBeaconWhenReady(n,e,r);}),null,d,!0);else {for(var i in t.beaconInQueue=!0,n)n.hasOwnProperty(i)&&d.addVar(i,n[i],!0);"function"==typeof e&&void 0!==r&&e.apply(r),d.sendBeacon();}},real_sendBeacon:function(){var e,i=[],o={};if(!t.beaconQueued&&!t.ttinewBeaconPending)return !1;for(e in t.beaconQueued=!1,this.plugins)if(this.plugins.hasOwnProperty(e)){if(t.disabled_plugins[e])continue;if(!this.plugins[e].is_complete(t.vars))return delete t.vars.early,!1}if(!(window&&window.Image&&window.navigator&&d.window))return !1;var a=d.utils.inArray(t.vars["http.initiator"],d.constants.BEACON_TYPE_SPAS),u=void 0===t.vars["http.initiator"]||a;for(e in t.vars.pgu||(t.vars.pgu=a?r.URL:r.URL.replace(/#.*/,"")),t.vars.pgu=d.utils.cleanupURL(t.vars.pgu),t.vars.u&&!a||(t.vars.u=t.vars.pgu),t.vars.pgu===t.vars.u&&delete t.vars.pgu,t.r?t.vars.r=d.utils.cleanupURL(t.r):delete t.vars.r,t.vars.v=d.version,d.snippetVersion&&(t.vars.sv=d.snippetVersion),t.vars.sm=d.snippetMethod||"i",d.session.enabled&&(t.vars["rt.si"]=d.session.ID+"-"+Math.round(d.session.start/1e3).toString(36),t.vars["rt.ss"]=d.session.start,void 0===t.vars.early?t.vars["rt.sl"]=d.session.length>=1?d.session.length:1:t.vars["rt.sl"]=d.session.length),d.visibilityState()&&(t.vars["vis.st"]=d.visibilityState(),d.lastVisibilityEvent.visible&&(t.vars["vis.lv"]=d.now()-d.lastVisibilityEvent.visible),d.lastVisibilityEvent.hidden&&(t.vars["vis.lh"]=d.now()-d.lastVisibilityEvent.hidden)),t.vars["ua.plt"]=navigator.platform,t.vars["ua.vnd"]=navigator.vendor,this.pageId&&(t.vars.pid=this.pageId),t.vars.n=++this.beaconsSent,n!==window&&(t.vars.if=""),t.errors)t.errors.hasOwnProperty(e)&&i.push(e+(t.errors[e]>1?" (*"+t.errors[e]+")":""));if(i.length>0&&(t.vars.errors=i.join("\n")),t.errors={},"function"==typeof t.normalizeUrl&&t.vars.u&&(t.vars.nmu=t.normalizeUrl(t.vars.u)),t.vars["http.initiator"]&&-1===t.initiatorTypes.indexOf(t.vars["http.initiator"]))return t.beaconInQueue=!1,!1;if("xhr"===t.vars["http.initiator"]&&t.vars.u&&c(t.ignoreXhrs,t.vars.u))return t.beaconInQueue=!1,!1;for(e in t.fireEvent("before_beacon",t.vars),t.vars)t.vars.hasOwnProperty(e)&&(o[e]=t.vars[e]);if(d.removeVar(["qt","pgu"]),void 0===t.vars.early){for(var s in t.singleBeaconVars)t.singleBeaconVars.hasOwnProperty(s)&&d.removeVar(s);t.singleBeaconVars={},!t.hasSentPageLoadBeacon&&u&&(t.hasSentPageLoadBeacon=!0,d.setImmediate((function(){t.fireEvent("page_load_beacon",o);})));}if(d.session.rate_limited)return !1;if(t.beaconInQueue=!1,"interaction"===t.vars["http.initiator"]){if("number"==typeof t.interactionSampleRate&&Math.random()>t.interactionSampleRate)return !1}else if("number"==typeof t.sampleRate&&Math.random()>t.sampleRate)return !1;return this.plugins.Continuity.getTtiWaitForXHRDone()&&"spa_hard"===o["http.initiator"]&&!o["c.tti.new"]&&(t.ttinewBeaconPending=!0,t.ttinewBeaconPendingData=o),d.sendBeaconData(o),!0},sendAdditionalBeacon:function(n){t.ttinewBeaconPendingData&&(d.sendBeaconData(Object.assign(t.ttinewBeaconPendingData,n)),t.ttinewBeaconPendingData=void 0,t.ttinewBeaconPending=!1);},sendBeaconData:function(e){var r,i,o,a,u,c=[],s=!0;if(t.beacon_url=t.beacon_url_override||t.beacon_url,!t.beacon_url)return !1;if(!t.beaconUrlAllowed(t.beacon_url))return !1;if(d.utils.isObjectEmpty(e))return !1;t.fireEvent("beacon",e),c=this.getVarsOfPriority(e,-1),r=this.getVarsOfPriority(e,1),i=c.concat(this.getVarsOfPriority(e,0),r).join("&"),t.beacon_url_force_https&&t.beacon_url.match(/^\/\//)&&(t.beacon_url="https:"+t.beacon_url),o=t.beacon_url+(t.beacon_url.indexOf("?")>-1?"&":"?")+i,"GET"===t.beacon_type?(s=!0,o.length>d.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")):("POST"===t.beacon_type||o.length>d.constants.MAX_GET_LENGTH)&&(s=!1);var f=t.sendWindow;if(f&&f.navigator&&"function"==typeof f.navigator.sendBeacon&&d.utils.isNative(f.navigator.sendBeacon)&&"function"==typeof n.Blob&&"GET"!==t.beacon_type&&void 0===t.beacon_auth_token&&!t.beacon_disable_sendbeacon){var O=new n.Blob([i+"&sb=1"],{type:"text/plain"});if(f.navigator.sendBeacon(t.beacon_url,O))return !0}if(d.orig_XMLHttpRequest||f&&f.XMLHttpRequest||(s=!0),s){try{a=new Image;}catch(n){return !1}a.src=o;}else {u=new(f.XMLHttpRequest||d.window.orig_XMLHttpRequest||d.orig_XMLHttpRequest||d.window.XMLHttpRequest);try{this.sendXhrPostBeacon(u,i);}catch(n){u=new d.boomerang_frame.XMLHttpRequest,this.sendXhrPostBeacon(u,i);}}return !0},hasSentPageLoadBeacon:function(){return t.hasSentPageLoadBeacon},sendXhrPostBeacon:function(n,e){n.open("POST",t.beacon_url),n.setRequestHeader("Content-type","text/plain"),void 0!==t.beacon_auth_token&&(void 0===t.beacon_auth_key&&(t.beacon_auth_key="Authorization"),n.setRequestHeader(t.beacon_auth_key,t.beacon_auth_token)),t.beacon_with_credentials&&(n.withCredentials=!0),n.send(e);},getVarsOfPriority:function(n,e){var r,i=[],o=0!==e?t.varPriority[e]:n;for(r in o)o.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(i.push(this.getUriEncodedVar(r,void 0===n[r]?"":n[r])),0!==e&&delete n[r]);return i},getUriEncodedVar:function(n,t){return null==t&&(t=""),"object"==typeof t&&(t=d.utils.serializeForUrl(t)),encodeURIComponent(n)+"="+encodeURIComponent(t)},getResourceTiming:function(n,t,e){var r,i=d.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(r=i.getEntriesByName(n))||!r.length)return;if(!("function"!=typeof e||(r=d.utils.arrayFilter(r,e))&&r.length))return;return r.length>1&&"function"==typeof t&&r.sort(t),r[r.length-1]}}catch(n){}}},d.url){var h=d.window.document.createElement("a");h.href=d.url,e.url=h.href;}else e.url=e.utils.getMyURL();delete window.BOOMR_start,"number"==typeof window.BOOMR_lstart?(e.t_lstart=window.BOOMR_lstart,delete window.BOOMR_lstart):"number"==typeof d.window.BOOMR_lstart&&(e.t_lstart=d.window.BOOMR_lstart),"number"==typeof d.window.BOOMR_onload&&(e.t_onload=d.window.BOOMR_onload),"object"==typeof console&&void 0!==console.log?e.log=function(n,t,e){}:e.log=function(){},l=function(n){return function(t,e){return this.log(t,n,"boomerang"+(e?"."+e:"")),this}},e.debug=l("debug"),e.info=l("info"),e.warn=l("warn"),e.error=l("error"),e.traceTime=function(n){var t=n||d.now();return [new Date(t).getHours(),new Date(t).getMinutes(),new Date(t).getSeconds(),new Date(t).getMilliseconds()].join(":")},e.cleanupURL=function(){return ""+location.toString().replace(location.protocol+"//"+location.host,"")},e.trace=function(n,t,e,r){e="("+d.traceTime()+") {"+d.cleanupURL()+"} ["+n+"] <"+t+"> "+e,r?void 0:void 0;},e.traceHighlight=function(n,t,e,r){e="("+d.traceTime()+") {"+d.cleanupURL()+"} ["+n+"] <"+t+"> "+e,r?void 0:void 0;},e.warn=function(n,t,e,r){e="("+d.traceTime()+") {"+d.cleanupURL()+"} ["+n+"] <"+t+"> "+e,r?void 0:void 0;};try{var v=e.getPerformance();v&&"function"==typeof v.now&&/\[native code\]/.test(String(v.now))&&v.timing&&v.timing.navigationStart&&(e.now=function(){return Math.round(v.now()+v.timing.navigationStart)});}catch(n){}return t.checkLocalStorageSupport(),function(){var n;for(n in e)e.hasOwnProperty(n)&&(d[n]=e[n]);d.xhr_excludes||(d.xhr_excludes={});}(),o("onBoomerangLoaded",{BOOMR:d},!0),d}(window),this.BOOMR.addVar("token",n.token),n&&this.initOptions(n));}return n.prototype.shouldIgnoreUrls=function(n){return c(n,location.href)},n.prototype.initOptions=function(n){this.installPlugins();var t=n.sampleRate||1,e=n.interactionSampleRate||.1;for(var r in this.BOOMR.init({beacon_url:"https://fclog.baidu.com/log/weirwood?type=perf",autorun:!1,History:{auto:!0},instrument_xhr:!0,monitor_fetch:!0,ResourceTiming:{clearOnBeacon:!0,monitorClearResourceTimings:!0},Continuity:{monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!1,ttiWaitForXHRDone:n.ttiWaitForXHRDone||!0,ttiWaitForXHRIgnore:n.ttiWaitForXHRIgnore||[],waitAfterOnload:n.waitAfterOnload||!1,afterOnload:n.afterOnload||!1},sampleRate:t,interactionSampleRate:t*e,normalizeUrl:n.normalizeUrl,initiatorTypes:n.initiatorTypes||["spa_hard","spa","xhr"],ignoreXhrs:n.ignoreXhrs||[],sendWindow:n.sendWindow||window}),this.BOOMR)this.BOOMR.hasOwnProperty(r)&&(this[r]=this.BOOMR[r]);},n.prototype.installPlugins=function(){var n,t,e,r=function(n){var t,e,r=(n=n||window).document,i=function(t){var e=!1;if(t.getBoundingClientRect){var i=t.getBoundingClientRect();(e={top:Math.max(i.top,0),left:Math.max(i.left,0),bottom:Math.min(i.bottom,n.innerHeight||r.documentElement.clientHeight),right:Math.min(i.right,n.innerWidth||r.documentElement.clientWidth)}).bottom<=e.top||e.right<=e.left?e=!1:e.area=(e.bottom-e.top)*(e.right-e.left);}return e},o=function(n,t){if(t){var e=i(n);e&&a.push({url:t,area:e.area,rect:e});}},a=[],u=[],c=.1;try{var s=n.performance.timing.navigationStart;!function(){for(var t=r.getElementsByTagName("*"),e=/url\(.*(http.*)\)/gi,u=0;u<t.length;u++){var c=t[u],s=n.getComputedStyle(c);if("IMG"==c.tagName&&o(c,c.currentSrc||c.src),s["background-image"]){e.lastIndex=0;var f=e.exec(s["background-image"]);f&&f.length>1&&o(c,f[1].replace('"',""));}if("IFRAME"==c.tagName)try{var O=i(c);if(O){var l=RUMSpeedIndex(c.contentWindow);l&&a.push({tm:l,area:O.area,rect:O});}}catch(n){}}}(),function(){for(var t={},e=n.performance.getEntriesByType("resource"),r=0;r<e.length;r++)t[e[r].name]=e[r].responseEnd;for(var i=0;i<a.length;i++)"tm"in a[i]||(a[i].tm=void 0!==t[a[i].url]?t[a[i].url]:0);}(),function(){try{for(var e=performance.getEntriesByType("paint"),i=0;i<e.length;i++)if("first-paint"==e[i].name){s=performance.getEntriesByType("navigation")[0].startTime,t=e[i].startTime-s;break}}catch(n){}if(void 0===t&&"msFirstPaint"in n.performance.timing&&(t=n.performance.timing.msFirstPaint-s),void 0===t&&"chrome"in n&&"loadTimes"in n.chrome){var o=n.chrome.loadTimes();if("firstPaintTime"in o&&o.firstPaintTime>0){var a=o.startLoadTime;"requestTime"in o&&(a=o.requestTime),o.firstPaintTime>=a&&(t=1e3*(o.firstPaintTime-a));}}if(void 0===t||t<0||t>12e4){t=n.performance.timing.responseStart-s;var u={},c=r.getElementsByTagName("head")[0].children;for(i=0;i<c.length;i++){var f=c[i];"SCRIPT"==f.tagName&&f.src&&!f.async&&(u[f.src]=!0),"LINK"==f.tagName&&"stylesheet"==f.rel&&f.href&&(u[f.href]=!0);}for(var O=n.performance.getEntriesByType("resource"),l=!1,d=0;d<O.length;d++)if(l||!u[O[d].name]||"script"!=O[d].initiatorType&&"link"!=O[d].initiatorType)l=!0;else {var h=O[d].responseEnd;(void 0===t||h>t)&&(t=h);}}t=Math.max(t,0);}(),function(){for(var e={0:0},i=0,o=0;o<a.length;o++){var s=t;"tm"in a[o]&&a[o].tm>t&&(s=a[o].tm),void 0===e[s]&&(e[s]=0),e[s]+=a[o].area,i+=a[o].area;}var f=Math.max(r.documentElement.clientWidth,n.innerWidth||0)*Math.max(r.documentElement.clientHeight,n.innerHeight||0);if(f>0&&(f=Math.max(f-i,0)*c,void 0===e[t]&&(e[t]=0),e[t]+=f,i+=f),i){for(var O in e)e.hasOwnProperty(O)&&u.push({tm:O,area:e[O]});u.sort((function(n,t){return n.tm-t.tm}));for(var l=0,d=0;d<u.length;d++)l+=u[d].area,u[d].progress=l/i;}}(),function(){if(u.length){e=0;for(var n=0,r=0,i=0;i<u.length;i++){var o=u[i].tm-n;o>0&&r<1&&(e+=(1-r)*o),n=u[i].tm,r=u[i].progress;}}else e=t;}();}catch(n){}return e}(window);this.BOOMR.addVar("speedIndex",r,!0),d(),l(),function(){var n,t=!1,e=!1,r=!1,i=!1,o=!1,a=!0,u=!1,c=!1,f=[],O=!1;if(!BOOMR.plugins.SPA&&BOOMR.plugins.AutoXHR){var l={spaHardMissedOnComplete:function(n){var t,e,r=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),i=BOOMR.plugins.AutoXHR.getMutationHandler();O=!1,BOOMR.addVar("spa.missed","1",!0),BOOMR.plugins.RT&&BOOMR.plugins.RT.clearTimer("t_done"),n.timing.requestStart=r,(e=i.pending_events[n.index])&&0!==e.total_nodes||(t=BOOMR.getPerformance())&&t.timing&&t.timing.navigationStart&&t.timing.loadEventEnd&&void 0===n.timing.loadEventEnd&&(n.timing.loadEventEnd=t.timing.loadEventEnd);},pageReady:function(){i=!0;}};BOOMR.plugins.SPA={is_complete:function(n){return !O||n&&("error"===n["http.initiator"]||void 0!==n.early)},get_ready:function(){return r},init:function(n){n&&n.instrument_xhr&&(o=n.instrument_xhr,r&&o&&BOOMR.plugins.AutoXHR.enableAutoXhr()),e||(e=!0,BOOMR.subscribe("page_ready",l.pageReady,null,l));},register:function(n){f.push(n);},supported_frameworks:function(){return f},onLoadSpaHardMissed:function(){r||(i=!0,o&&BOOMR.plugins.AutoXHR.enableAutoXhr(),O=!0,c?O=!1:(BOOMR.plugins.SPA.route_change(l.spaHardMissedOnComplete)));},hook:function(n,e){return e=e||{},"function"==typeof e.routeFilter&&(u=e.routeFilter),"function"==typeof e.routeChangeWaitFilter&&e.routeChangeWaitFilter,"boolean"==typeof e.routeChangeWaitFilterHardNavs&&e.routeChangeWaitFilterHardNavs,e.disableHardNav&&(c=e.disableHardNav),t||(n&&(BOOMR.attach_page_ready(this.onLoadSpaHardMissed)),t=!0),this},route_change:function(t,e){BOOMR.fireEvent("route_change");var f=!1,O=a&&!c?"spa_hard":"spa",l=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),d=i?BOOMR.now():l;var h=BOOMR.window.document.URL,v={timing:{requestStart:d},initiator:O,url:h};if("spa"===O&&n&&!n.complete){try{if(!s(n,v))return void void 0}catch(n){BOOMR.addError(n,"SPA.route_change.routeChangeWaitFilter");}}if("spa"===O&&u)try{if(!u.apply(null,e))return void void 0;}catch(n){BOOMR.addError(n,"SPA.route_change.routeFilter");}r=!0,BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),h]),a=!1,i&&"function"!=typeof t||(i=!0,v.onComplete=function(n){f||(f=!0,BOOMR.fireEvent("spa_navigation")),"function"==typeof t&&(t(n));}),n=v,v.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(v),o&&BOOMR.plugins.AutoXHR.enableAutoXhr();},last_location:function(n){lastLocationChange=n;},current_spa_nav:function(){return i?"spa":"spa_hard"},wait_complete:function(){n&&(n.wait=!1,n.waitComplete&&(n.waitComplete()),n=null);},markNavigationComplete:function(){var t,e,r,i=BOOMR.plugins.AutoXHR.getMutationHandler();if(n&&n.wait&&BOOMR.plugins.SPA.wait_complete(),i&&i.pending_events.length>0)for(t=i.pending_events.length-1;t>=0;t--)if((e=i.pending_events[t])&&BOOMR.utils.inArray(e.type,BOOMR.constants.BEACON_TYPE_SPAS)){if(e.complete)break;return r=i.nodesWaitingFor(t),BOOMR.addVar("spa.forced","1",!0),BOOMR.addVar("spa.waiting",i.nodesWaitingFor(),!0),void i.completeEvent(t)}},isSpaNavInProgress:function(){var n,t,e=BOOMR.plugins.AutoXHR.getMutationHandler();if(e&&e.pending_events.length>0)for(n=e.pending_events.length-1;n>=0;n--)if((t=e.pending_events[n])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS))return !t.complete;return !1},isSinglePageApp:function(n){for(var t=!1,e=this.supported_frameworks(),r=0;r<e.length;r++){var i=e[r];if(n[i]&&n[i].enabled){t=!0;break}}return t}},BOOMR.plugins.SPA.waitComplete=BOOMR.plugins.SPA.wait_complete;}}(),h(),n=window,BOOMR.plugins.RT||(e={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,loadTime:0,oboError:0,t_start:void 0,cached_t_start:void 0,cached_xhr_start:void 0,t_fb_approx:void 0,r:void 0,beacon_url:void 0,next_beacon_url:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,navigationStartSource:"",updateCookie:function(n,t){var r,i,o,a;if(!this.cookie)return !1;for(a in o=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{})o.hasOwnProperty(a)&&(isNaN(parseInt(a,10))||delete o[a]);if("object"==typeof n)for(a in n)n.hasOwnProperty(a)&&(void 0===n[a]?o.hasOwnProperty(a)&&delete o[a]:o[a]=n[a]);return o.z=1,o.dm=BOOMR.session.domain,o.si=BOOMR.session.ID,o.ss=BOOMR.session.start.toString(36),o.sl=BOOMR.session.length.toString(36),1800!==e.session_exp&&(o.se=e.session_exp.toString(36)),BOOMR.session.rate_limited&&(o.rl=1),o.tt=this.loadTime.toString(36),this.oboError>0?o.obo=this.oboError.toString(36):delete o.obo,i=BOOMR.now(),t&&(o[t]=(i-BOOMR.session.start).toString(36),e.lastActionTime=i),this.beacon_url&&(o.bcn=this.beacon_url),BOOMR.utils.setCookie(this.cookie,o,this.cookie_exp)?((r=BOOMR.now())-i>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+i+" -> "+r,"rt")),!0):(BOOMR.error("cannot set start cookie","rt"),!1)},refreshSession:function(n){n||(n=BOOMR.plugins.RT.getCookie()),n&&(n.ss?BOOMR.session.start=n.ss:BOOMR.session.start=BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start,n.si&&n.si.match(/-/)&&(BOOMR.session.ID=n.si),n.sl&&(BOOMR.session.length=n.sl),n.tt&&(this.loadTime=n.tt),n.obo&&(this.oboError=n.obo),n.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=n.dm),n.se&&(e.session_exp=n.se),n.bcn&&(this.beacon_url=n.bcn),n.rl&&"1"===n.rl&&(BOOMR.session.rate_limited=!0));},maybeResetSession:function(n,t){var r=0;BOOMR.session.start&&BOOMR.session.length&&(r=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var i=1e3*e.session_exp;(!BOOMR.session.start||t&&BOOMR.session.start>t||n-(e.lastActionTime||BOOMR.t_start)>i||r>i)&&(BOOMR.session.start=t||BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start,BOOMR.session.length=0,BOOMR.session.rate_limited=!1,e.loadTime=0,e.oboError=0,e.beacon_url=e.next_beacon_url,e.lastActionTime=n,e.updateCookie({rl:void 0,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:e.loadTime,obo:void 0,bcn:e.beacon_url})),void 0;},initFromCookie:function(){var n,e,r;r=BOOMR.plugins.RT.getCookie(),this.cookie||(BOOMR.session.enabled=!1),r&&(r.s=Math.max(+r.ld||0,Math.max(+r.ul||0,+r.cl||0)),r.s&&(r.r||r.nu)&&(this.r=r.r,n=BOOMR.utils.hashString(t.URL),e=BOOMR.utils.hashString(t&&t.referrer||""),r.cl&&void 0,r.nu&&void 0,!this.strict_referrer||r.cl&&r.nu&&r.nu===n&&r.s<+r.cl+15||r.s===+r.ul&&this.r===e?(this.t_start=r.s,+r.hd>r.s&&(this.t_fb_approx=r.hd)):this.t_start=this.t_fb_approx=void 0),r.s&&(this.lastActionTime=r.s),this.refreshSession(r),this.updateCookie({s:void 0,ul:void 0,cl:void 0,hd:void 0,ld:void 0,rl:void 0,r:void 0,nu:void 0,sh:void 0}),this.maybeResetSession(BOOMR.now()));},incrementSessionDetails:function(){BOOMR.session.length++,!e.timers.t_done||isNaN(e.timers.t_done.delta)?e.oboError++:e.loadTime+=e.timers.t_done.delta;},getBoomerangTimings:function(){var n,t,e,r,i;function o(n,t){var e=Math.round(n||0),r=Math.round(t||0);return (e=0===e?0:e-r)||""}BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName)for(e in t={"rt.bmr":BOOMR.url},BOOMR.config_url&&(t["rt.cnf"]=BOOMR.config_url),t)if(t.hasOwnProperty(e)&&t[e]){if(!(n=window.performance.getEntriesByName(t[e]))||0===n.length||!n[0])continue;i=[r=o((n=n[0]).startTime,0),o(n.responseEnd,r),o(n.responseStart,r),o(n.requestStart,r),o(n.connectEnd,r),o(n.secureConnectionStart,r),o(n.connectStart,r),o(n.domainLookupEnd,r),o(n.domainLookupStart,r),o(n.redirectEnd,r),o(n.redirectStart,r)].join(",").replace(/,+$/,""),BOOMR.addVar(e,i,!0);}}catch(n){n&&n.name&&n.name.hasOwnProperty("length")&&-1===n.name.indexOf("NS_ERROR_FAILURE")&&BOOMR.addError(n,"rt.getBoomerangTimings");}},checkPreRender:function(){return "prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var t,e;this.navigationStart||((e=BOOMR.getPerformance())&&e.navigation&&(this.navigationType=e.navigation.type),e&&e.timing?(t=e.timing,this.navigationStartSource="navigation"):n.chrome&&n.chrome.csi&&n.chrome.csi().startE?(t={navigationStart:n.chrome.csi().startE},this.navigationStartSource="csi"):n.gtbExternal&&n.gtbExternal.startE()&&(t={navigationStart:n.gtbExternal.startE()},this.navigationStartSource="gtb"),t?(this.navigationStart=t.navigationStart||t.fetchStart||void 0,this.fetchStart=t.fetchStart||void 0,this.responseStart=t.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=t.unloadEventStart||t.fetchStart||void 0)):void 0);},validateLoadTimestamp:function(n,t,e){var r;return t&&t.timing&&t.timing.loadEventEnd?t.timing.loadEventEnd:"xhr"!==e||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(r=BOOMR.getPerformance())&&r.timing?r.timing.loadEventEnd?r.timing.loadEventEnd:n:BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||n:n},setPageLoadTimers:function(n,t,r){var i,o;if(!("xhr"===n||"early"===n&&r&&BOOMR.utils.inArray(r.initiator,BOOMR.constants.BEACON_TYPE_SPAS))&&(e.initFromCookie(),e.initFromNavTiming(),BOOMR.addVar("rt.start",this.navigationStartSource),e.checkPreRender()))return !1;if("xhr"===n)if(r.timers)for(var a in r.timers)r.timers.hasOwnProperty(a)&&BOOMR.plugins.RT.setTimer(a,r.timers[a]);else r&&r.timing&&(void 0===(o=r.timing.fetchStart)||r.timing.responseEnd>=o)&&(i=r.timing.responseEnd);else e.responseStart?e.responseStart>=e.navigationStart&&e.responseStart>=e.fetchStart&&(i=e.responseStart):e.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):e.t_fb_approx&&(i=e.t_fb_approx);return i&&"early"!==n&&(o?BOOMR.plugins.RT.setTimer("t_resp",o,i):BOOMR.plugins.RT.endTimer("t_resp",i),"load"===n&&e.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",e.timers.t_load.end-i):t<i?BOOMR.addVar("t_page.inv",1,!0):t-i==0&&r&&r.timing&&r.timing.requestStart&&e.timers.t_resp&&e.timers.t_resp.delta?BOOMR.plugins.RT.setTimer("t_page",t-r.timing.requestStart-e.timers.t_resp.delta):BOOMR.plugins.RT.setTimer("t_page",t-i)),"load"===n&&e.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0},setSupportingTimestamps:function(n,t){n&&BOOMR.addVar("rt.tstart",n,!0),"number"==typeof e.navigationStart&&e.navigationStart!==n&&BOOMR.addVar("rt.nstart",e.navigationStart,!0),"number"==typeof e.t_start&&e.t_start!==n&&BOOMR.addVar("rt.cstart",e.t_start,!0),BOOMR.addVar("rt.bstart",BOOMR.t_start,!0),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart,!0),"early"===t?BOOMR.addVar("rt.end",n||BOOMR.now(),!0):e.timers.t_done&&BOOMR.addVar("rt.end",e.timers.t_done.end,!0);},determineTStart:function(n,t){var r;return "xhr"===n||"early"===n&&t&&"spa"===t.initiator?(t&&t.name&&e.timers[t.name]?r=e.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(r=t.timing.requestStart),void 0===r&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual"),e.cached_xhr_start=r):(e.navigationStart?r=e.navigationStart:e.t_start&&2!==e.navigationType?(r=e.t_start,BOOMR.addVar("rt.start","cookie")):e.cached_t_start?r=e.cached_t_start:(BOOMR.addVar("rt.start","none"),r=void 0),e.cached_t_start=r),r},page_ready:function(){this.onloadfired=!0;},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(e.visiblefired=!0);},prerenderToVisible:function(){e.onloadfired&&e.autorun&&(BOOMR.addVar("vis.pre","1",!0),BOOMR.plugins.RT.done(null,"visible"));},page_unload:function(n){this.unloadfired||BOOMR.plugins.RT.done(n,"unload"),this.updateCookie(!e.navigationStart&&e.strict_referrer?{r:BOOMR.utils.hashString(t.URL)}:null,"beforeunload"===n.type?"ul":"hd"),this.unloadfired=!0;},R:function(n,t,e,r){var i;if(e){for(void 0;e&&e.nodeName&&e.nodeName.toUpperCase()!==t;)e=e.parentNode;e&&e.nodeName&&e.nodeName.toUpperCase()===t&&(this.refreshSession(),this.maybeResetSession(BOOMR.now()),i=r(e),this.updateCookie({nu:BOOMR.utils.hashString(i)},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(i),!0));}},onclick:function(n){e.R("Click","A",n,(function(n){return n.href}));},markComplete:function(){this.onloadfired&&(e.complete=!0);},onsubmit:function(n){e.R("Submit","FORM",n,(function(n){var e="function"==typeof n.getAttribute&&n.getAttribute("action")||t.URL||"";return e.match(/\?/)?e:e+"?"}));},onconfig:function(n){n.beacon_url&&(e.beacon_url=n.beacon_url),n.RT&&(n.RT.oboError&&!isNaN(n.RT.oboError)&&n.RT.oboError>e.oboError&&(e.oboError=n.RT.oboError),n.RT.loadTime&&!isNaN(n.RT.loadTime)&&n.RT.loadTime>e.loadTime&&(e.loadTime=n.RT.loadTime,e.timers.t_done&&!isNaN(e.timers.t_done.delta)&&(e.loadTime+=e.timers.t_done.delta)));},domloaded:function(){BOOMR.plugins.RT&&BOOMR.plugins.RT.endTimer("t_domloaded");},clear:function(n){n&&void 0!==n.early||BOOMR.removeVar("rt.start");},spaNavigation:function(){e.onloadfired=!0;}},BOOMR.plugins.RT={init:function(r){if(n!==BOOMR.window&&(n=BOOMR.window),r&&r.CrossDomain&&r.CrossDomain.sending&&(e.crossdomain_sending=!0),n&&n.document)return t=n.document,BOOMR.utils.pluginConfig(e,r,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]),r&&void 0!==r.autorun&&(e.autorun=r.autorun),r&&r.beacon_url&&(e.beacon_url&&!r.force_beacon_url||(e.beacon_url=r.beacon_url),e.next_beacon_url=r.beacon_url),void 0!==t&&(e.r=BOOMR.utils.hashQueryString(t.referrer,!0)),e.initFromCookie(),e.initialized||(e.complete=!1,e.timers={},e.check_visibility(),BOOMR.subscribe("page_ready",e.page_ready,null,e),BOOMR.subscribe("visibility_changed",e.check_visibility,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("before_early_beacon",this.done,"early",this),BOOMR.subscribe("dom_loaded",e.domloaded,null,e),BOOMR.subscribe("page_unload",e.page_unload,null,e),BOOMR.subscribe("click",e.onclick,null,e),BOOMR.subscribe("form_submit",e.onsubmit,null,e),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("beacon",e.clear,null,e),BOOMR.subscribe("error",e.markComplete,null,e),BOOMR.subscribe("config",e.onconfig,null,e),BOOMR.subscribe("spa_navigation",e.spaNavigation,null,e),BOOMR.subscribe("interaction",e.markComplete,null,e),BOOMR.getBeaconURL=function(){return e.beacon_url},e.initialized=!0),this},startTimer:function(n,t){return n&&("t_page"===n&&this.endTimer("t_resp",t),e.timers[n]={start:"number"==typeof t?t:BOOMR.now()}),this},endTimer:function(n,t){return n&&(e.timers[n]=e.timers[n]||{},void 0===e.timers[n].end&&(e.timers[n].end="number"==typeof t?t:BOOMR.now())),this},clearTimer:function(n){return n&&delete e.timers[n],this},setTimer:function(n,t,r){return n&&(e.timers[n]=void 0!==r?{start:t,end:r,delta:r-t}:{delta:t}),this},addTimersToBeacon:function(n,t){var r,i,o=[];for(r in e.timers)if(e.timers.hasOwnProperty(r)){if("number"!=typeof(i=e.timers[r]).delta&&("number"!=typeof i.start&&(i.start="xhr"===t?e.cached_xhr_start:e.cached_t_start),i.delta=i.end-i.start),isNaN(i.delta))continue;e.basic_timers.hasOwnProperty(r)?BOOMR.addVar(r,i.delta,!0):o.push(r+"|"+i.delta);}o.length&&BOOMR.addVar("t_other",o.join(","),!0),"beacon"!==t||n&&void 0!==n.early||(e.timers={},e.complete=!1);},done:function(n,t){if(BOOMR.plugins.RT){var r,i,o=BOOMR.now(),a=!1;return e.complete=!1,i=e.validateLoadTimestamp(o,n,t),"load"!==t&&"visible"!==t&&"xhr"!==t&&"early"!==t||e.setPageLoadTimers(t,i,n)?(("load"===t||"visible"===t||"early"===t&&(!n||void 0===n.initiator||"spa_hard"===n.initiator)||"xhr"===t&&n&&"spa_hard"===n.initiator)&&e.getBoomerangTimings(),r=e.determineTStart(t,n),e.refreshSession(),e.maybeResetSession(i,r),"early"!==t&&this.endTimer("t_done",i),n&&"xhr"===n.initiator&&(this.setTimer("t_done",n.timing.requestStart,n.timing.loadEventEnd),void 0),e.setSupportingTimestamps(r,t),this.addTimersToBeacon(null,t),BOOMR.setReferrer(e.r),"xhr"===t&&n&&n&&n.data&&(n=n.data),"xhr"===t&&n&&(a=n.subresource,n.url&&BOOMR.addVar("u",BOOMR.utils.cleanupURL(n.url.replace(/#.*/,""))),n.status&&(n.status<-1||n.status>=400)&&BOOMR.addVar("http.errno",n.status,!0),n.method&&"GET"!==n.method&&BOOMR.addVar("http.method",n.method,!0),n.type&&"xhr"!==n.type&&BOOMR.addVar("http.type",n.type[0],!0),n.headers&&BOOMR.addVar("http.hdr",n.headers,!0),n.synchronous&&BOOMR.addVar("xhr.sync",1,!0),n.initiator&&BOOMR.addVar("http.initiator",n.initiator,!0),n.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1,!0),n.responseUrl&&BOOMR.addVar("xhr.ru",BOOMR.utils.cleanupURL(n.responseUrl),!0)),a&&"passive"!==a&&BOOMR.addVar("rt.subres",1,!0),("load"===t||"visible"===t||"xhr"===t&&!a||"unload"===t&&!e.onloadfired&&e.autorun&&!e.crossdomain_sending)&&(e.incrementSessionDetails(),e.updateCookie(null,"ld")),BOOMR.addVar({"rt.tt":e.loadTime,"rt.obo":e.oboError},void 0,!0),e.updateCookie(),"unload"===t&&(BOOMR.addVar("rt.quit","",!0),e.onloadfired||BOOMR.addVar("rt.abld","",!0),e.visiblefired||BOOMR.addVar("rt.ntvu","",!0)),"early"!==t&&(e.complete=!0),BOOMR.sendBeacon(e.beacon_url),this):this}},is_complete:function(n){return e.complete||n&&"error"===n["http.initiator"]||n&&void 0!==n.early},updateCookie:function(){e.updateCookie();},getCookie:function(){var n,t,r;return !!e.cookie&&((n=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(e.cookie))||{})&&(1&n.z?(t=36,r=parseInt(n.ss||0,36)):(t=10,r=0),n.ss=parseInt(n.ss||0,t),n.tt=parseInt(n.tt||0,t),n.obo=parseInt(n.obo||0,t),n.sl=parseInt(n.sl||0,t),n.se&&(n.se=parseInt(n.se,t)||1800),n.ld&&(n.ld=r+parseInt(n.ld,t)),n.ul&&(n.ul=r+parseInt(n.ul,t)),n.cl&&(n.cl=r+parseInt(n.cl,t)),n.hd&&(n.hd=r+parseInt(n.hd,t))),n)},incrementSessionDetails:function(){e.incrementSessionDetails();},navigationStart:function(){return e.navigationStart||e.initFromNavTiming(),e.navigationStart}}),function(){if(!BOOMR.plugins.PaintTiming){var n={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"},t={initialized:!1,complete:!1,supported:null,timingCache:{},observer:null,externalMetrics:{},done:function(e,r){var i,o,a;if(this.complete)return this;if("load"!==r&&(!e||"spa_hard"!==e.initiator))return this.complete=!0,this;if((i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType){if((o=i.getEntriesByType("paint"))&&o.length){for(BOOMR.info("This user agent supports PaintTiming","pt"),a=0;a<o.length;a++)t.timingCache[o[a].name]=o[a].startTime,n[o[a].name]&&BOOMR.addVar("pt."+n[o[a].name],Math.floor(o[a].startTime),!0);this.complete=!0,BOOMR.sendBeacon();}}else this.complete=!0;},onObserver:function(n){var e=n.getEntries();if(0!==e.length){var r=e[e.length-1],i=r.renderTime||r.loadTime;t.timingCache[r.entryType]=i,BOOMR.addVar("pt.lcp",Math.floor(i),!0),t.externalMetrics.lcp=function(){return Math.floor(i)};}}};BOOMR.plugins.PaintTiming={init:function(){return this.is_supported()||(t.complete=!0,t.initialized=!0),t.complete||"hidden"!==BOOMR.visibilityState()||(BOOMR.addVar("pt.hid",1,!0),t.complete=!0),t.initialized||(BOOMR.subscribe("page_ready",t.done,"load",t),BOOMR.subscribe("xhr_load",t.done,"xhr",t),BOOMR.subscribe("before_unload",t.done,null,t),"function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof window.LargestContentfulPaint&&(t.observer=new BOOMR.window.PerformanceObserver(t.onObserver),t.observer.observe({type:"largest-contentful-paint",buffered:!0})),t.initialized=!0),this},is_complete:function(){return !0},is_enabled:function(){return t.initialized&&this.is_supported()},is_supported:function(){if(null!==t.supported)return t.supported;var n=BOOMR.getPerformance();return t.supported=n&&void 0!==window.PerformancePaintTiming&&"function"==typeof n.getEntriesByType,t.supported},getTimingFor:function(n){var e,r,i;if(t.timingCache[n])return t.timingCache[n];if(this.is_supported()&&((i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType&&(e=i.getEntriesByType("paint"))&&e.length))for(r=0;r<e.length;r++)if(e[r].name===n)return t.timingCache[n]=e[r].startTime,t.timingCache[n]},metrics:t.externalMetrics};}}(),function(){if(!BOOMR.plugins.NavigationTiming){var n={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0,BOOMR.sendBeacon();},xhr_done:function(t){var e;if(t&&"spa_hard"===t.initiator)n.done(t);else if(t&&"spa"===t.initiator)n.sendBeacon();else {BOOMR.window;var r,i,o={};if(t){if(t.data&&(t=t.data),(e=BOOMR.getPerformance())&&t.restiming)for(i in o={nt_red_st:t.restiming.redirectStart,nt_red_end:t.restiming.redirectEnd,nt_fet_st:t.restiming.fetchStart,nt_dns_st:t.restiming.domainLookupStart,nt_dns_end:t.restiming.domainLookupEnd,nt_con_st:t.restiming.connectStart,nt_con_end:t.restiming.connectEnd,nt_req_st:t.restiming.requestStart,nt_res_st:t.restiming.responseStart,nt_res_end:t.restiming.responseEnd},t.restiming.secureConnectionStart&&(o.nt_ssl_st=t.restiming.secureConnectionStart),o)o.hasOwnProperty(i)&&o[i]&&(o[i]+=e.timing.navigationStart,o[i]=Math.floor(o[i]));for(i in t.timing&&(r=t.timing,o.nt_req_st||(o.nt_req_st=r.requestStart),o.nt_res_st||(o.nt_res_st=r.responseStart),o.nt_res_end||(o.nt_res_end=r.responseEnd),o.nt_domint=r.domInteractive,o.nt_domcomp=r.domComplete,o.nt_load_st=r.loadEventEnd,o.nt_load_end=r.loadEventEnd),o)o.hasOwnProperty(i)&&!o[i]&&delete o[i];BOOMR.addVar(o,void 0,!0),n.sendBeacon();}}},done:function(){var e,r,i,o,a,u,c=BOOMR.window,s={},f=0,O=!1;if(this.complete)return this;if(e=BOOMR.getPerformance()){for(u in "function"==typeof e.getEntriesByType&&((o=e.getEntriesByType("navigation"))&&o.length?(BOOMR.info("This user agent supports NavigationTiming2","nt"),o=o[0],f=e.timing?e.timing.navigationStart:0):o=void 0),!o&&e.timing&&(BOOMR.info("This user agent supports NavigationTiming","nt"),o=e.timing),o&&(!(s={nt_nav_st:e.timing?e.timing.navigationStart:0,nt_red_st:t(f,o.redirectStart),nt_red_end:t(f,o.redirectEnd),nt_fet_st:t(f,o.fetchStart),nt_dns_st:t(f,o.domainLookupStart),nt_dns_end:t(f,o.domainLookupEnd),nt_con_st:t(f,o.connectStart),nt_con_end:t(f,o.connectEnd),nt_req_st:t(f,o.requestStart),nt_res_st:t(f,o.responseStart),nt_res_end:t(f,o.responseEnd),nt_domloading:t(f,o.domLoading),nt_domint:t(f,o.domInteractive),nt_domcontloaded_st:t(f,o.domContentLoadedEventStart),nt_domcontloaded_end:t(f,o.domContentLoadedEventEnd),nt_domcomp:t(f,o.domComplete),nt_load_st:t(f,o.loadEventStart),nt_load_end:t(f,o.loadEventEnd),nt_unload_st:t(f,o.unloadEventStart),nt_unload_end:t(f,o.unloadEventEnd)}).nt_domloading&&e&&e.timing&&e.timing.domLoading&&(s.nt_domloading=e.timing.domLoading),o.secureConnectionStart&&(s.nt_ssl_st=t(f,o.secureConnectionStart)),e.timing&&e.timing.msFirstPaint&&(s.nt_first_paint=e.timing.msFirstPaint),o.workerStart&&(s.nt_worker_start=t(f,o.workerStart)),(o.decodedBodySize||o.transferSize)&&(s.nt_enc_size=o.encodedBodySize,s.nt_dec_size=o.decodedBodySize,s.nt_trn_size=o.transferSize),o.nextHopProtocol&&(s.nt_protocol=o.nextHopProtocol)),!s.nt_first_paint&&BOOMR.plugins.PaintTiming&&(O=BOOMR.plugins.PaintTiming.is_supported(),(a=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(s.nt_first_paint=t(f,a))),s.nt_protocol&&s.nt_first_paint||o&&""===o.nextHopProtocol||O||!c.chrome||"function"!=typeof c.chrome.loadTimes||(i=c.chrome.loadTimes())&&(s.nt_spdy=i.wasFetchedViaSpdy?1:0,s.nt_cinf=i.connectionInfo,"number"==typeof i.firstPaintTime&&0!==i.firstPaintTime&&(s.nt_first_paint=Math.round(1e3*i.firstPaintTime))),e.navigation&&(r=e.navigation,s.nt_red_cnt=r.redirectCount,s.nt_nav_type=r.type),s)s.hasOwnProperty(u)&&void 0===s[u]&&delete s[u];BOOMR.addVar(s,void 0,!0),o&&(o.requestStart&&o.navigationStart&&o.requestStart<o.navigationStart||o.responseStart&&o.navigationStart&&o.responseStart<o.navigationStart||o.responseStart&&o.fetchStart&&o.responseStart<o.fetchStart||o.navigationStart&&o.fetchStart<o.navigationStart||o.responseEnd&&o.responseEnd>BOOMR.now()+864e5)&&BOOMR.addVar("nt_bad",1,!0),s.nt_load_end>0&&(this.fullySent=!0);}n.sendBeacon();},clear:function(n){this.complete=!(n&&n.early)&&this.fullySent;},prerenderToVisible:function(){this.complete=!1,this.done();},onBeforeEarlyBeacon:function(n){n&&void 0!==n.initiator&&"spa_hard"!==n.initiator||this.done();}};BOOMR.plugins.NavigationTiming={init:function(){return n.initialized||(BOOMR.subscribe("page_ready",n.done,null,n),BOOMR.subscribe("prerender_to_visible",n.prerenderToVisible,null,n),BOOMR.subscribe("before_early_beacon",n.onBeforeEarlyBeacon,null,n),BOOMR.subscribe("xhr_load",n.xhr_done,null,n),BOOMR.subscribe("before_unload",n.done,null,n),BOOMR.subscribe("beacon",n.clear,null,n),n.initialized=!0),this},is_complete:function(){return !0}};}function t(n,t){if("number"==typeof t&&0!==t)return Math.floor((n||0)+t)}}(),v(),M(),function(){if(!BOOMR.plugins.EventTiming){var n={click:0,dblclick:1,mousedown:2,mouseup:3,mousemove:4,touchstart:5,touchend:6,touchmove:7,keydown:8,keyup:9,keypress:10,wheel:11,pointerdown:12,pointerup:13,pointermove:14,compositionstart:17,compositionupdate:18,compositionend:19,contextmenu:20},t={initialized:!1,supported:null,observerEvent:null,observerFirstInput:null,entries:[],firstInputDelay:null,timeToFirstInteraction:null,onBeforeBeacon:function(){var e;if(t.entries&&t.entries.length){var r=[];for(e=0;e<t.entries.length;e++)r.push({n:n[t.entries[e].name]?n[t.entries[e].name]:t.entries[e].name,s:Math.round(t.entries[e].startTime).toString(36),d:Math.round(t.entries[e].duration).toString(36),p:Math.round(t.entries[e].processingEnd-t.entries[e].processingStart).toString(36),c:t.entries[e].cancelable?1:0,fi:"first-input"===t.entries[e].entryType?1:void 0});BOOMR.addVar("et.e",BOOMR.utils.serializeForUrl(r),!0);}t.entries=[],null!==t.firstInputDelay&&(BOOMR.addVar("et.fid",Math.ceil(t.firstInputDelay),!0),t.firstInputDelay=null);},onEventTiming:function(n){t.entries=t.entries.concat(n.getEntries());},onFirstInput:function(n){var e=n.getEntries();t.entries=t.entries.concat(e),t.firstInputDelay=e[0].processingStart-e[0].startTime,t.timeToFirstInteraction=e[0].startTime;}};BOOMR.plugins.EventTiming={init:function(){if(this.is_supported()||(t.initialized=!0),!t.initialized){BOOMR.subscribe("before_beacon",t.onBeforeBeacon,null,t);try{var n=BOOMR.window;t.observerEvent=new n.PerformanceObserver(t.onEventTiming),t.observerEvent.observe({type:["event"],buffered:!0}),t.observerFirstInput=new n.PerformanceObserver(t.onFirstInput),t.observerFirstInput.observe({type:["first-input"],buffered:!0});}catch(n){t.supported=!1;}t.initialized=!0;}return this},is_complete:function(){return !0},is_enabled:function(){return t.initialized&&this.is_supported()},is_supported:function(){if(null!==t.supported)return t.supported;var n=BOOMR.window,e=BOOMR.getPerformance();return t.supported=e&&void 0!==n.PerformanceEventTiming&&"function"==typeof n.PerformanceObserver,t.supported&&BOOMR.info("This user agent supports EventTiming","et"),t.supported},stop:function(){t.observerEvent&&(t.observerEvent.disconnect(),t.observerEvent=null),t.observerFirstInput&&(t.observerFirstInput.disconnect(),t.observerFirstInput=null);},metrics:{count:function(){return t.entries.length},averageDuration:function(){if(0===t.entries.length)return 0;for(var n=0,e=0;e<t.entries.length;e++)n+=t.entries[e].duration;return n/t.entries.length},firstInputDelay:function(){return t.firstInputDelay},timeToFirstInteraction:function(){return t.timeToFirstInteraction}}};}}();},n.prototype.uninstall=function(){var n=this.BOOMR,t=n.plugins;n.disable(),Object.keys(t).forEach((function(n){t[n].disable&&t[n].disable();})),n.orig_XMLHttpRequest&&n.orig_XMLHttpRequest!==window.XMLHttpRequest&&(window.XMLHttpRequest=n.orig_XMLHttpRequest);},n.prototype.addUserTiming=function(n){var t=this.BOOMR;t.plugins.UserTiming&&t.plugins.UserTiming.addUserTiming?t.plugins.UserTiming.addUserTiming(n):void 0;},n}();function p(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return !0;default:return n instanceof Error}}function B(n){return "[object ErrorEvent]"===Object.prototype.toString.call(n)}function m(n){return void 0===n}function g(n){return "function"==typeof n}function y(n){return "[object String]"===Object.prototype.toString.call(n)}function b(n){return "[object Number]"===Object.prototype.toString.call(n)}function w(n){return "[object Array]"===Object.prototype.toString.call(n)}function _(n){return "[object Object]"===Object.prototype.toString.call(n)}function x(n){if(!_(n))return !1;for(var t in n)if(n.hasOwnProperty(t))return !1;return !0}var S={};function k(){return "undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:S}
/**
     * TraceKit - Cross brower stack traces
     *
     * This was originally forked from github.com/occ/TraceKit, but has since been
     * largely modified and is now maintained as part of Sentry JS SDK.
     *
     * NOTE: Last merge with upstream repository
     * Jul 11,2018 - #f03357c
     *
     * https://github.com/csnover/TraceKit
     * @license MIT
     * @namespace TraceKit
     */var T=k(),E={wrap:function(){return function(){}},report:!1,collectWindowErrors:!1,computeStackTrace:!1,remoteFetching:!1,linesOfContext:!1,extendToAsynchronousCallbacks:!1},L=[].slice,I=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function A(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function C(){return "undefined"==typeof document||null==document.location?"":document.location.href}E.wrap=function(n){return function(){try{return n.apply(this,arguments)}catch(n){throw E.report(n),n}}},E.report=function(){var n,t,r,i,o=[],a=null,u=null;function c(n,t,e,r,i,a){var u=null;if(!t||E.collectWindowErrors){for(var c in o)if(A(o,c))try{o[c](n,t,e,r,i,a);}catch(n){u=n;}if(u)throw u}}function s(t,r,i,o,a){var s=null;if(a=B(a)?a.error:a,t=B(t)?t.message:t,u)E.computeStackTrace.augmentStackTraceWithInitialElement(u,r,i,t),O();else if(a&&p(a))(s=E.computeStackTrace(a)).mechanism="onerror",c(s,!0,a,r,i,o);else {var f,l={url:r,line:i,column:o},d=t;if("[object String]"==={}.toString.call(t)){var h=t.match(I);h&&(f=h[1],d=h[2]);}l.func=E.computeStackTrace.guessFunctionName(l.url,l.line),l.context=E.computeStackTrace.gatherContext(l.url,l.line),c(s={name:f,message:d,mode:"onerror",mechanism:"onerror",stack:[e(e({},l),{url:l.url||C()})]},!0,null,r,i,o);}return !!n&&n.apply(this,arguments)}function f(n){var t=n&&(n.detail?n.detail.reason:n.reason)||n,e=E.computeStackTrace(t);e.mechanism="onunhandledrejection",c(e,!0,t);}function O(){var n=u,t=a;u=null,a=null,c(n,!1,t);}function l(n){if(u){if(a===n)return;O();}var t=E.computeStackTrace(n);throw u=t,a=n,setTimeout((function(){a===n&&O();}),t.incomplete?2e3:0),n}return l.subscribe=function(n){o.push(n);},l.unsubscribe=function(e){for(var a=o.length-1;a>=0;--a)o[a]===e&&o.splice(a,1);0===o.length&&(t&&(T.onerror=n,t=!1),i&&(T.onunhandledrejection=r,i=!1));},l.installGlobalHandler=function(){!0!==t&&(n=T.onerror,T.onerror=s,t=!0);},l.installGlobalUnhandledRejectionHandler=function(){!0!==i&&(r=T.onunhandledrejection,T.onunhandledrejection=f,i=!0);},l}(),E.computeStackTrace=function(){var n={};function t(t){if("string"!=typeof t)return [];if(!A(n,t)){var e="",r="";try{r=T.document.domain;}catch(n){}var i=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(t);i&&i[2]===r&&(e=function(n){if(!E.remoteFetching)return "";try{var t=function(){try{return new T.XMLHttpRequest}catch(n){return new T.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",n,!1),t.send(""),t.responseText}catch(n){return ""}}(t)),n[t]=e?e.split("\n"):[];}return n[t]}function e(n,e){var r,i=/function ([^(]*)\(([^)]*)\)/,o=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",u=t(n);if(!u.length)return "?";for(var c=0;c<10;++c)if(!m(a=u[e-c]+a)){if(r=o.exec(a))return r[1];if(r=i.exec(a))return r[1]}return "?"}function r(n,e){var r=t(n);if(!r.length)return null;var i=[],o=Math.floor(E.linesOfContext/2),a=o+E.linesOfContext%2,u=Math.max(0,e-o-1),c=Math.min(r.length,e+a-1);e-=1;for(var s=u;s<c;++s)m(r[s])||i.push(r[s]);return i.length>0?i:null}function i(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function o(n){return i(n).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function a(n,e){for(var r,i,o=0,a=e.length;o<a;++o)if((r=t(e[o])).length&&(r=r.join("\n"),i=n.exec(r)))return {url:e[o],line:r.substring(0,i.index).split("\n").length,column:i.index-r.lastIndexOf("\n",i.index)-1};return null}function u(n,e,r){var o,a=t(e),u=new RegExp("\\b"+i(n)+"\\b");return r-=1,a&&a.length>r&&(o=u.exec(a[r]))?o.index:null}function c(n){if(!m(T&&T.document)){for(var t,e,r,u,c=[C()],s=T.document.getElementsByTagName("script"),f=""+n,O=0;O<s.length;++O){var l=s[O];l.src&&c.push(l.src);}if(r=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(f)){var d=r[1]?"\\s+"+r[1]:"",h=r[2].split(",").join("\\s*,\\s*");t=i(r[3]).replace(/;$/,";?"),e=new RegExp("function"+d+"\\s*\\(\\s*"+h+"\\s*\\)\\s*{\\s*"+t+"\\s*}");}else e=new RegExp(i(f).replace(/\s+/g,"\\s+"));if(u=a(e,c))return u;if(r=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(f)){var v=r[1];if(t=o(r[2]),u=a(e=new RegExp("on"+v+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),c[0]))return u;if(u=a(e=new RegExp(t),c))return u}return null}}function s(n){if(!n.stack)return null;for(var t,i,o,a=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,O=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=n.stack.split("\n"),d=[],h=/^(.*) is undefined$/.exec(n.message),v=0,M=l.length;v<M;++v){if(i=a.exec(l[v])){var R=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(t=O.exec(i[2]))&&(i[2]=t[1]),o={url:R?null:i[2],func:i[1]||"?",args:R?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null};}else if(i=s.exec(l[v]))o={url:i[2],func:i[1]||"?",args:[],line:+i[3],column:i[4]?+i[4]:null};else {if(!(i=c.exec(l[v])))continue;i[3]&&i[3].indexOf(" > eval")>-1&&(t=f.exec(i[3]))?i[3]=t[1]:0!==v||i[5]||m(n.columnNumber)||(d[0].column=n.columnNumber+1),o={url:i[3],func:i[1]||"?",args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null};}if(!o.func&&o.line&&(o.func=e(o.url,o.line)),E.remoteFetching&&o.url&&"blob:"===o.url.substr(0,5)){var p=new XMLHttpRequest;if(p.open("GET",o.url,!1),p.send(""),200===p.status){var B=p.responseText||"",g=(B=B.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(g){var y=g[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+y.slice(1)),o.url=y.slice(0,-4);}}}o.context=o.line?r(o.url,o.line):null,d.push(o);}return d.length?(d[0]&&d[0].line&&!d[0].column&&h&&(d[0].column=u(h[1],d[0].url,d[0].line)),{mode:"stack",name:n.name,message:n.message,stack:d}):null}function f(n,t,i,o){var a={url:t,line:i};if(a.url&&a.line){n.incomplete=!1,a.func||(a.func=e(a.url,a.line)),a.context||(a.context=r(a.url,a.line));var c=/ '([^']+)' /.exec(o);if(c&&(a.column=u(c[1],a.url,a.line)),n.stack.length>0&&n.stack[0].url===a.url){if(n.stack[0].line===a.line)return !1;if(!n.stack[0].line&&n.stack[0].func===a.func)return n.stack[0].line=a.line,n.stack[0].context=a.context,!1}return n.stack.unshift(a),n.partial=!0,!0}return n.incomplete=!0,!1}function O(n,t){for(var r,i,o,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],d={},h=!1,v=O.caller;v&&!h;v=v.caller)if(v!==l&&v!==E.report){if(i={url:null,func:"?",args:[],line:null,column:null},v.name?i.func=v.name:(r=a.exec(v.toString()))&&(i.func=r[1]),void 0===i.func)try{i.func=r.input.substring(0,r.input.indexOf("{"));}catch(n){}if(o=c(v)){i.url=o.url,i.line=o.line,"?"===i.func&&(i.func=e(i.url,i.line));var M=/ '([^']+)' /.exec(n.message||n.description);M&&(i.column=u(M[1],o.url,o.line));}d[""+v]?h=!0:d[""+v]=!0,s.push(i);}t&&s.splice(0,t);var R={mode:"callers",name:n.name,message:n.message,stack:s};return f(R,n.sourceURL||n.fileName,n.line||n.lineNumber,n.message||n.description),R}function l(n,i){var u=null;i=null==i?0:+i;try{if(u=function(n){var t=n.stacktrace;if(t){for(var i,o=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,a=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,u=t.split("\n"),c=[],s=0;s<u.length;s+=2){var f=null;if((i=o.exec(u[s]))?f={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=a.exec(u[s]))&&(f={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),f){if(!f.func&&f.line&&(f.func=e(f.url,f.line)),f.line)try{f.context=r(f.url,f.line);}catch(n){}f.context||(f.context=[u[s+1]]),c.push(f);}}return c.length?{mode:"stacktrace",name:n.name,message:n.message,stack:c}:null}}(n))return u}catch(n){}try{if(u=s(n))return u}catch(n){}try{if(u=function(n){var i=n.message.split("\n");if(i.length<4)return null;var u,c=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,f=/^\s*Line (\d+) of function script\s*$/i,O=[],l=T&&T.document&&T.document.getElementsByTagName("script"),d=[];for(var h in l)A(l,h)&&!l[h].src&&d.push(l[h]);for(var v=2;v<i.length;v+=2){var M=null;if(u=c.exec(i[v]))M={url:u[2],func:u[3],args:[],line:+u[1],column:null};else if(u=s.exec(i[v])){M={url:u[3],func:u[4],args:[],line:+u[1],column:null};var R=+u[1],p=d[u[2]-1];if(p){var B=t(M.url);if(B){var m=(B=B.join("\n")).indexOf(p.innerText);m>=0&&(M.line=R+B.substring(0,m).split("\n").length);}}}else if(u=f.exec(i[v])){var g=C().replace(/#.*$/,""),y=a(new RegExp(o(i[v+1])),[g]);M={url:g,func:"",args:[],line:y?y.line:u[1],column:null};}if(M){M.func||(M.func=e(M.url,M.line));var b=r(M.url,M.line),w=b?b[Math.floor(b.length/2)]:null;b&&w.replace(/^\s*/,"")===i[v+1].replace(/^\s*/,"")?M.context=b:M.context=[i[v+1]],O.push(M);}}return O.length?{mode:"multiline",name:n.name,message:i[0],stack:O}:null}(n))return u}catch(n){}try{if(u=O(n,i+1))return u}catch(n){}return {original:n,name:n.name,message:n.message,mode:"failed"}}return l.augmentStackTraceWithInitialElement=f,l.computeStackTraceFromStackProp=s,l.guessFunctionName=e,l.gatherContext=r,l.ofCaller=function(n){n=1+(null==n?0:+n);try{throw new Error}catch(t){return l(t,n+1)}},l.getSource=t,l}(),E.extendToAsynchronousCallbacks=function(){var n=function(n){var t=T[n];T[n]=function(){var n=L.call(arguments),e=n[0];return "function"==typeof e&&(n[0]=E.wrap(e)),t.apply?t.apply(this,n):t(n[0],n[1])};};n("setTimeout"),n("setInterval");},E.remoteFetching=!1,E.collectWindowErrors=!0,E.linesOfContext=11;var F=E.report.subscribe,j=E.report.unsubscribe,P=E.report.installGlobalHandler,N=E.report.installGlobalUnhandledRejectionHandler,H=E.computeStackTrace;function U(n,t){var e=(65535&n)+(65535&t);return (n>>16)+(t>>16)+(e>>16)<<16|65535&e}function D(n,t,e,r,i,o){return U((a=U(U(t,n),U(r,o)))<<(u=i)|a>>>32-u,e);var a,u;}function X(n,t,e,r,i,o,a){return D(t&e|~t&r,n,t,i,o,a)}function z(n,t,e,r,i,o,a){return D(t&r|e&~r,n,t,i,o,a)}function W(n,t,e,r,i,o,a){return D(t^e^r,n,t,i,o,a)}function $(n,t,e,r,i,o,a){return D(e^(t|~r),n,t,i,o,a)}function q(n,t){var e,r,i,o,a;n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var u=1732584193,c=-271733879,s=-1732584194,f=271733878;for(e=0;e<n.length;e+=16)r=u,i=c,o=s,a=f,u=X(u,c,s,f,n[e],7,-680876936),f=X(f,u,c,s,n[e+1],12,-389564586),s=X(s,f,u,c,n[e+2],17,606105819),c=X(c,s,f,u,n[e+3],22,-1044525330),u=X(u,c,s,f,n[e+4],7,-176418897),f=X(f,u,c,s,n[e+5],12,1200080426),s=X(s,f,u,c,n[e+6],17,-1473231341),c=X(c,s,f,u,n[e+7],22,-45705983),u=X(u,c,s,f,n[e+8],7,1770035416),f=X(f,u,c,s,n[e+9],12,-1958414417),s=X(s,f,u,c,n[e+10],17,-42063),c=X(c,s,f,u,n[e+11],22,-1990404162),u=X(u,c,s,f,n[e+12],7,1804603682),f=X(f,u,c,s,n[e+13],12,-40341101),s=X(s,f,u,c,n[e+14],17,-1502002290),u=z(u,c=X(c,s,f,u,n[e+15],22,1236535329),s,f,n[e+1],5,-165796510),f=z(f,u,c,s,n[e+6],9,-1069501632),s=z(s,f,u,c,n[e+11],14,643717713),c=z(c,s,f,u,n[e],20,-373897302),u=z(u,c,s,f,n[e+5],5,-701558691),f=z(f,u,c,s,n[e+10],9,38016083),s=z(s,f,u,c,n[e+15],14,-660478335),c=z(c,s,f,u,n[e+4],20,-405537848),u=z(u,c,s,f,n[e+9],5,568446438),f=z(f,u,c,s,n[e+14],9,-1019803690),s=z(s,f,u,c,n[e+3],14,-187363961),c=z(c,s,f,u,n[e+8],20,1163531501),u=z(u,c,s,f,n[e+13],5,-1444681467),f=z(f,u,c,s,n[e+2],9,-51403784),s=z(s,f,u,c,n[e+7],14,1735328473),u=W(u,c=z(c,s,f,u,n[e+12],20,-1926607734),s,f,n[e+5],4,-378558),f=W(f,u,c,s,n[e+8],11,-2022574463),s=W(s,f,u,c,n[e+11],16,1839030562),c=W(c,s,f,u,n[e+14],23,-35309556),u=W(u,c,s,f,n[e+1],4,-1530992060),f=W(f,u,c,s,n[e+4],11,1272893353),s=W(s,f,u,c,n[e+7],16,-155497632),c=W(c,s,f,u,n[e+10],23,-1094730640),u=W(u,c,s,f,n[e+13],4,681279174),f=W(f,u,c,s,n[e],11,-358537222),s=W(s,f,u,c,n[e+3],16,-722521979),c=W(c,s,f,u,n[e+6],23,76029189),u=W(u,c,s,f,n[e+9],4,-640364487),f=W(f,u,c,s,n[e+12],11,-421815835),s=W(s,f,u,c,n[e+15],16,530742520),u=$(u,c=W(c,s,f,u,n[e+2],23,-995338651),s,f,n[e],6,-198630844),f=$(f,u,c,s,n[e+7],10,1126891415),s=$(s,f,u,c,n[e+14],15,-1416354905),c=$(c,s,f,u,n[e+5],21,-57434055),u=$(u,c,s,f,n[e+12],6,1700485571),f=$(f,u,c,s,n[e+3],10,-1894986606),s=$(s,f,u,c,n[e+10],15,-1051523),c=$(c,s,f,u,n[e+1],21,-2054922799),u=$(u,c,s,f,n[e+8],6,1873313359),f=$(f,u,c,s,n[e+15],10,-30611744),s=$(s,f,u,c,n[e+6],15,-1560198380),c=$(c,s,f,u,n[e+13],21,1309151649),u=$(u,c,s,f,n[e+4],6,-145523070),f=$(f,u,c,s,n[e+11],10,-1120210379),s=$(s,f,u,c,n[e+2],15,718787259),c=$(c,s,f,u,n[e+9],21,-343485551),u=U(u,r),c=U(c,i),s=U(s,o),f=U(f,a);return [u,c,s,f]}function G(n){var t,e="",r=32*n.length;for(t=0;t<r;t+=8)e+=String.fromCharCode(n[t>>5]>>>t%32&255);return e}function J(n){var t,e=[];for(e[(n.length>>2)-1]=void 0,t=0;t<e.length;t+=1)e[t]=0;var r=8*n.length;for(t=0;t<r;t+=8)e[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return e}function V(n){var t,e,r="";for(e=0;e<n.length;e+=1)t=n.charCodeAt(e),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function K(n){return unescape(encodeURIComponent(n))}function Q(n){return function(n){return G(q(J(n),8*n.length))}(K(n))}function Z(n,t){return function(n,t){var e,r,i=J(n),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=q(i,8*n.length)),e=0;e<16;e+=1)o[e]=909522486^i[e],a[e]=1549556828^i[e];return r=q(o.concat(J(t)),512+8*t.length),G(q(a.concat(r),640))}(K(n),K(t))}function Y(n,t,e){return t?e?Z(t,n):V(Z(t,n)):e?Q(n):V(Q(n))}function nn(n){return (n||"").replace(/#.*$/,"").replace(/\?.*$/,"")}function tn(n){window.addEventListener("error",(function(t){var e;if(t&&t.target&&t.target!==window){var r=t.target,i=null!==(e=null==r?void 0:r.tagName)&&void 0!==e?e:"unknown tagname";if(-1!==["SCRIPT","LINK","IMG"].indexOf(i)){var o=r.src||r.href,a=window.location.href,u=function(n){for(var t=n.path||[],e="",r=0;r<t.length;r++){var i=t[r];i!==window?(e+=i.nodeName,e+=i.id?"#"+i.id:"",e+=i.className?"."+i.className.split(" ").join("."):"",r<t.length&&(e+=" > ")):e+="Window";}return e}(t),c={type:i,asset:nn(o)===nn(a)?"空资源":o,integrity:r.integrity,element:r&&r.outerHTML&&r.outerHTML.replace(/"/g,""),path:u.replace(/"/g,""),page:window.location.href.slice(0,255)};n&&n(c);}}}),!0);}function en(){if(!("fetch"in k()))return !1;try{return new Headers,new Request(""),new Response,!0}catch(n){return !1}}function rn(){if(!en())return !1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(n){return !1}}function on(n,t){for(var e=0;e<n.length;++e)if(n[e]===t)return e;return -1}function an(n,t,e,r){return JSON.stringify(n,function(n,t){var e=[],r=[];null==t&&(t=function(n,t){return e[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,on(e,t)).join(".")+"]"});return function(i,o){if(e.length>0){var a=on(e,this);~a?e.splice(a+1):e.push(this),~a?r.splice(a,1/0,i):r.push(i),~on(e,o)&&(o=t.call(this,i,o));}else e.push(o);return null==n?o instanceof Error?function(n){var t={stack:n.stack,message:n.message,name:n.name};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}(o):o:n.call(this,i,o)}}(t,r),e)}function un(n,t){return Reflect.has(n,t)}function cn(n,t){if(Array.isArray(n))for(var e=n.length,r=0;r<e;r++)t.call(null,r,n[r]);else for(var i in n)un(n,i)&&t.call(null,i,n[i]);}function sn(n){var t={};for(var e in n)if(n.hasOwnProperty(e)){var r=n[e];t[e]=g(r)?r():r;}return t}function fn(n,t){if(void 0===t&&(t=40),b(n)||y(n))return n.toString();if(!w(n))return "";if(0===(n=n.filter((function(n){return y(n)}))).length)return "[object has no keys]";if(t=b(t)?t:40,n[0].length>=t)return n[0];for(var e=n.length;e>0;e--){var r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:r+"…"}return ""}function On(n,t,e){if(void 0===t&&(t=3),void 0===e&&(e=51200),!_(n))return n+"";var r,i,o=function n(t,e){return 0===e?ln(t):_(t)?Object.keys(t).reduce((function(r,i){return r[i]=n(t[i],e-1),r}),{}):Array.isArray(t)?t.map((function(t){return n(t,e-1)})):ln(t)}(n,t);return r=an(o),i=JSON.stringify(r),~-encodeURI(i).split(/%..|./).length>e?On(n,t-1):o}function ln(n){if(y(n)){return dn(n,40)}return b(n)||(t=n,"[object Boolean]"===Object.prototype.toString.call(t))||m(n)?n+"":_(n)?"[Object]":w(n)?"[Array]":g(n)?n.name?"[Function: "+n.name+"]":"[Function]":n;var t;}function dn(n,t){return 0===t||n.length<=t?n:n.substr(0,t)+"…"}function hn(n){var t={protocol:"",host:"",path:"",relative:""};if("string"!=typeof n)return t;var e=n.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(e&&e.length){var r=e[6]||"",i=e[8]||"";return {protocol:e[2]||"",host:e[4]||"",path:e[5]||"",relative:(e[5]||"")+r+i}}return t}function vn(n){var t,e,i,o;if(!n||!n.tagName)return "";var a=[n.tagName.toLowerCase()];n.id&&a.push("#"+n.id);var u=n.className?n.className.split(/\s+/):[];try{for(var c=r(u),s=c.next();!s.done;s=c.next()){var f=s.value;a.push("."+f);}}catch(n){t={error:n};}finally{try{s&&!s.done&&(e=c.return)&&e.call(c);}finally{if(t)throw t.error}}try{for(var O=r(["type","name","title","alt"]),l=O.next();!l.done;l=O.next()){var d=l.value,h=n.getAttribute(d);h&&a.push("["+d+"="+h+"]");}}catch(n){i={error:n};}finally{try{l&&!l.done&&(o=O.return)&&o.call(O);}finally{if(i)throw i.error}}return a.join("")}function Mn(n,t){return n.mechanism===t.mechanism&&n.type===t.type&&n.value===t.value&&n.url===t.url&&(!!(0===n.stacktrace.length&&0===t.stacktrace.length)||function(n,t){if(pn(n)&&pn(t)){var e=n.length;if(e!==t.length)return !1;for(var r=0;r<e;r++){var i=n[r],o=t[r];if(u=o,(a=i).filename!==u.filename||a.lineno!==u.lineno||a.colno!==u.colno||a.function!==u.function)return !1}return !0}var a,u;return !1}(n.stacktrace,t.stacktrace))}function Rn(n){var t=n.exception,e=[];return e.push("token="+t.token),e.push("type="+t.type),e.push("mechanism="+t.mechanism),e.push("value="+t.value),e.push("url="+t.url),t.stacktrace&&t.stacktrace.forEach((function(n){e.push("filename="+n.filename||""),e.push("lineno="+n.lineno||""),e.push("colno="+n.colno||"");})),e.join("***")}function pn(n){return n&&Array.isArray(n)&&n.length>0}function Bn(n){for(var t=[],e=n.length,r=0;r<e;r++){var i=n[r];y(i)?t.push(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):i&&i.source&&t.push(i.source);}return new RegExp(t.join("|"),"i")}function mn(n,t){return !!y(t)&&n.some((function(n){if(!n)return !1;if(y(n))return -1!==t.indexOf(n);if(e=n,"[object RegExp]"===Object.prototype.toString.call(e))try{return n.test(t)}catch(t){return console.error(n+"正则书写有误"),!1}var e;return console.error(n+"忽略匹配项类型应该是String、RegExp"),!1}))}function gn(n){return Y(n.method+"***"+function(n){if(!y(n))return "";var t=n.split("?");if(t[1])return t[1]=t[1].replace(/\d+/g,"*").replace(/[\u4e00-\u9fa5]+/gi,"*"),t.join("?");return n}(n.url))}function yn(n,t){if(void 0===n&&(n=""),void 0===t&&(t=""),(""===n||"text"===n)&&y(t)&&t.length)try{return JSON.parse(t)}catch(n){return t}return "json"===n?JSON.parse(JSON.stringify(t)):""}function bn(n){return (y(n)?n:JSON.stringify(n)).slice(0,256)}function wn(n,t,e){var i,o,a=[];if(n.stack&&n.stack.length){try{for(var u=r(n.stack),c=u.next();!c.done;c=u.next()){var s=_n(c.value,n.url||"",t.includePaths);a.push(s);}}catch(n){i={error:n};}finally{try{c&&!c.done&&(o=u.return)&&o.call(u);}finally{if(i)throw i.error}}if(t&&t.trimHeadFrames)for(var f=0;f<t.trimHeadFrames&&f<a.length;f++)a[f].in_app=!1;}return a=(a=a.filter((function(n){return !function(n){var t=n.filename||"",e=-1!==t.indexOf("weirwood-sdk"),r=/captureException$/.test(t);return e||r}(n)}))).slice(0,e)}function _n(n,t,e){var r={filename:n.url||t,lineno:n.line,colno:n.column,function:n.func||"?"};if(e&&e.length>0){var i=Bn(e).test(r.filename),o=/(Weirwood|Tracekit)/.test(r.function),a=/weirwood\-sdk/.test(r.filename);r.in_app=i,(o||a)&&(r.in_app=!1);}else r.in_app=!1;return r}function xn(n,t,e,r){if(null!=n){var i=n[t];return n[t]=e(i),n[t].__raven__=!0,n[t].__orig__=i,i.__raven_wrapper__=n[t],r&&r.push([n,t,i]),n[t]}}function Sn(n,t,e){if(void 0===n&&(n={}),m(t)&&!g(n))return n;if(g(n)&&(t=n,n=void 0),!g(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(n){return t}function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=[],a=r.length,u=!n||n&&!1!==n.deep;for(e&&g(e)&&e.apply(this,r);a--;)o[a]=u?Sn(n,r[a]):r[a];try{return t.apply(this,o)}catch(n){throw n}}for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r.prototype=t.prototype,t.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=t,r}function kn(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0];return g(r)&&(t[0]=Sn({mechanism:{type:"instrument",data:{function:(null==n?void 0:n.name)||"<anonymous>"}}},r)),n.apply?n.apply(this,t):n(t[0],t[1])}}var Tn,En;function Ln(n,t){return function(e){if(Tn=void 0,En!==e){var r;En=e;try{r=function(n){for(var t,e=[],r=" > ".length,i=0,o=0;n&&i++<5;){var a="html"===(t=vn(n)),u=i>1&&o+e.length*r+t.length>=80;if(a||u)break;e.push(t),o+=t.length,n=n.parentNode;}return e.reverse().join(" > ")}(e.target);}catch(n){r="<unknown>";}if(r){var i={category:"ui."+t,message:r,name:t};"input"===t&&"password"!==r.type&&(i.data=e.target.value||""),n.captureBehavior(i);}}}}function In(n){return function(t){var e;try{e=t.target;}catch(n){return}var r=e&&e.tagName;r&&("INPUT"===r||"TEXTAREA"===r||e.isContentEditable)&&(Tn||Ln(n,"input")(t),clearTimeout(Tn),Tn=setTimeout((function(){Tn=void 0;}),1e3));}}var An,Cn=k(),Fn=[301,302,304],jn=function(){function n(t){this.name=n.id,this.options=e({beacon:!0,console:!0,dom:!0,fetch:!0,history:!0,weirwood:!0,xhr:!0},t);}return n.prototype.setupOnce=function(n){var t,e;this.client=n;var i=Object.keys(this.options);try{for(var o=r(i),a=o.next();!a.done;a=o.next()){var u=a.value,c="instrument"+u[0].toUpperCase()+u.slice(1);this.options[u]&&this[c]&&"function"==typeof this[c]&&this[c].call(this);}}catch(n){t={error:n};}finally{try{a&&!a.done&&(e=o.return)&&e.call(o);}finally{if(t)throw t.error}}},n.prototype.instrumentDom=function(){if("document"in k()){var n=Cn.document;n.addEventListener("click",Ln.call(this,this.client,"click"),!1),n.addEventListener("keypress",In.call(this,this.client),!1);}},n.prototype.instrumentXhr=function(){var n=this.client,t=n.options,r=t.collectAutoAPIException,i=t.isApiException;if("XMLHttpRequest"in Cn){var o=XMLHttpRequest.prototype,a=n.B||"";xn(o,"open",(function(n){return function(t,e){return y(e)&&-1===e.indexOf(a)&&(this.__raven_xhr={method:t,url:e,status_code:null}),n.apply(this,arguments)}}),n.m),xn(o,"abort",(function(n){return function(){var t=this;return t.__raven_xhr&&(t.__raven_xhr.abortedFlag=!0),n.apply(this,arguments)}}),n.m),xn(o,"send",(function(t){return function(){var o=this,a=arguments;function c(){if(o.__raven_xhr&&4===o.readyState){try{o.__raven_xhr.status_code=o.status;}catch(n){}var t=yn(o.responseType,o.response);if(n.captureBehavior({type:"http",category:"xhr",data:e(e({},o.__raven_xhr),{response:bn(t),params:bn(a&&a[0]?a[0]:"")})}),r&&(!o.__raven_xhr||!o.__raven_xhr.abortedFlag)){var u=!1,c=o.status>=200&&o.status<=299,s=-1!==Fn.indexOf(o.status);if(c||s||(u=!0),c&&i&&g(i)){var f={method:o.__raven_xhr.method,url:o.responseURL,status:o.status,responseType:o.responseType,response:t};u=!!i(f);}if(u){var O="";g(o.getAllResponseHeaders)&&(O=o.getAllResponseHeaders().trim().replace(/[\r\n]+/g,"***")),n.captureAPIException({url:o.responseURL||o.__raven_xhr.url,method:o.__raven_xhr.method,params:a&&a[0]?a[0]:"",status:o.status,response:(y(t)?t:JSON.stringify(t)).slice(0,8192),responseHeaders:O,user:"",extra:"AUTO_XHR"});}}}}for(var s=["onload","onerror","onprogress"],f=0;f<s.length;f++)u(s[f],o);return "onreadystatechange"in o&&g(o.onreadystatechange)?xn(o,"onreadystatechange",(function(n){return Sn({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:n&&n.name||"<anonymous>"}}},n,c)})):o.onreadystatechange=c,t.apply(this,arguments)}}),n.m);}function u(n,t){n in t&&g(t[n])&&xn(t,n,(function(t){return Sn({mechanism:{data:{function:n,handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}},t)}));}},n.prototype.instrumentFetch=function(){if(en()){var n=k(),t=this.client,i=t.options,o=i.collectAutoAPIException,a=i.isApiException,u=t.B;xn(Cn,"fetch",(function(i){return function(){for(var c=new Array(arguments.length),s=0;s<c.length;++s)c[s]=arguments[s];var f,O=c[0],l="GET";if("string"==typeof O?f=O:"Request"in n&&O instanceof n.Request?(f=O.url,(null==O?void 0:O.method)&&(l=O.method)):f=""+O,-1!==f.indexOf(u))return i.apply(this,c);c[1]&&c[1].method&&(l=c[1].method);var d={method:l,url:f,status_code:null};return i.apply(this,c).then((function(n){var i,u;d.status_code=n.status;var s="";c[1]&&c[1].body&&(s=c[1].body);var f=g(n.clone)?n.clone():null,O={type:"http",category:"fetch",data:e(e({},d),{params:bn(s),response:""})};if(f?f.text().then((function(n){var e;try{e=JSON.parse(n);}catch(t){e=n;}O.data.response=bn(e),t.captureBehavior(O);})):t.captureBehavior(O),!o)return n;var l=!1,h=g(n.clone)?n.clone():null,v=Fn.includes(n.status);n.ok||v||(l=!0);var M={method:d.method,url:d.url,status:n.status,response:""},R=[];try{for(var p=r(n.headers.entries()),B=p.next();!B.done;B=p.next()){var m=B.value;R.push(m[0]+": "+m[1]);}}catch(n){i={error:n};}finally{try{B&&!B.done&&(u=p.return)&&u.call(p);}finally{if(i)throw i.error}}var y=e(e({},M),{params:s,responseHeaders:R.join("***"),user:"",extra:"AUTO_FETCH"});return h?h.text().then((function(r){var i;try{i=JSON.parse(r);}catch(n){i=r;}n.ok&&g(a)&&(l=!!a(e(e({},M),{response:i}))),l&&t.captureAPIException(e(e({},y),{response:r.slice(0,8192)}));})).catch((function(n){console.error(n);})):(n.ok&&g(a)&&(l=!!a(M)),l&&t.captureAPIException(y)),n})).catch((function(n){throw t.captureBehavior({type:"http",category:"fetch",data:d,level:"error"}),n}))}}),t.m);}},n.prototype.instrumentHistory=function(){var n=this.client;if(function(){var n=k(),t=n.chrome,e=t&&t.app&&t.app.runtime,r="history"in n&&!!n.history.pushState&&!!n.history.replaceState;return !e&&r}()){var t=function(t,e){var r=hn(Cn.location.href),i=hn(e),o=hn(t);o.path||(o=r),An=e,r.protocol===i.protocol&&r.host===i.host&&(e=i.relative),r.protocol===o.protocol&&r.host===o.host&&(t=o.relative),n.captureBehavior({category:"navigation",data:{from:t,to:e}});},e=Cn.onpopstate;Cn.onpopstate=function(n){var r=Cn.location.href;if(t(An,r),e)return e.apply(Cn,n)},xn(Cn.history,"pushState",r),xn(Cn.history,"replaceState",r);}function r(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length>2?e[2]:void 0;return i&&t(An,String(i)),n.apply(this,e)}}},n.prototype.instrumentConsole=function(){},n.prototype.instrumentBeacon=function(){},n.id="behaviors",n}(),Pn=k(),Nn=function(){function n(t){this.name=n.id,this.options=e({active:!0},t);}return n.prototype.setupOnce=function(n){this.client=n,this.options.active&&xn(Pn,"setTimeout",kn,this.client.m);},n.id="trycatch",n}(),Hn=k(),Un=function(){function n(){this.name=n.id;}return n.prototype.setupOnce=function(n){this.client=n,this.client.captureUserAgent(this.getUserAgent());},n.prototype.getUserAgent=function(){return "navigator"in Hn&&"document"in Hn?{url:Hn.location.href,headers:{"User-Agent":Hn.navigator.userAgent,Referrer:Hn.document.referrer}}:{}},n.id="UserAgent",n}(),Dn={collectWindowErrors:!0,collectUnhandledRejections:!0,collectResourceLoadErrors:!1,collectAutoAPIException:!0,sampleRate:1,maxUrlLength:250,maxMessageLength:0,allowDuplicates:!1,stackTraceLimit:50,behaviorLimit:10,plugins:[],ignoreErrors:[],ignoreKeys:[],whitelistUrls:[],apiWhitelistUrls:[],resourceWhitelistUrls:[],ignoreUrls:[],ignoreJsUrls:[],ignoreApiUrls:[],ignoreApiStatus:[],ignoreResourceUrls:[],maxMessagePerMinute:10,endpoint:"https://fclog.baidu.com/log/weirwood?type=error"},Xn="https://dmpstatic.cdn.bcebos.com/weirwood",zn=function(){function n(n){this.options=Dn,this.g={env:{},user:{},session_id:""},this.B="fclog.baidu.com/log",this._={},this.S=Date.now(),this.k=[],this.T=null,this.L=null,this.I=0,this.A=Date.now(),this.C=!1,this.F=null,this.j={method:"POST",credentials:"include",referrerPolicy:rn()?"origin":""},this.m=[],this.P=null,n&&this.config(n);}return n.prototype.init=function(n){return this.config(n)},n.prototype.config=function(n){this.options=e(e({},this.options),n),this.options.sendWindow=this.options.sendWindow||k(),this.g.session_id=this.options.uuid4();var t=this.options,r=t.token,i=t.buildid;if(!r||!i)throw new Error("error: token and buildid must be provided");return this.setFilters(),this.install(),this},n.prototype.install=function(){var n=this;return this.C?(console.error("error: Weirwood Error SDK has been installed and configured"),!1):(this.options.collectWindowErrors&&P(),this.options.maxMessagePerMinute>=60&&(this.options.maxMessagePerMinute=60),this.options.collectUnhandledRejections&&N(),this.F=this.N().bind(this),F(this.F),this.options.collectResourceLoadErrors&&tn((function(t){var e;if(window.performance&&window.performance.getEntriesByName){var r=window.performance.getEntriesByName(t.asset);r.length>0&&(e=r[0],["name","serverTiming"].forEach((function(n){delete e[n];})));}var i={mechanism:t.type,name:"ResourceError",message:t.asset,stack:[],mode:"onerror",timing:e,page:t.page,element:t.element,elementPath:t.path.slice(0,255)};n.H(i,{trimHeadFrames:0,mechanism:i.mechanism||"generic",includePaths:n.options.includePaths});})),this.C=!0,this.installPlugins(),this)},n.prototype.installPlugins=function(){var n,t;this.options.plugins=o([new jn(this.options.behaviorOptions),new Nn(this.options.tryCatchOptions),new Un],this.options.plugins||[]);try{for(var e=r(this.options.plugins),i=e.next();!i.done;i=e.next()){i.value.setupOnce(this);}}catch(t){n={error:t};}finally{try{i&&!i.done&&(t=e.return)&&t.call(e);}finally{if(n)throw n.error}}},n.prototype.setFilters=function(){var n=this.options;n.ignoreErrors&&(n.ignoreErrors=o([/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],n.ignoreErrors||[])),n.ignoreJsUrls=o([Xn],n.ignoreJsUrls||[]);},n.prototype.N=function(){var n=this;return function(t,e,r,i,o,a){if(r&&(r.stack||r.stacktrace)&&(t.originalStack=((r.stack||r.stacktrace)+"").slice(0,1e4)),t.stack&&!t.stack.length&&i&&(t.stack[0]={url:i,line:o,column:a}),!t.name&&!t.message&&"onunhandledrejection"===t.mechanism){var u=k();t.name="unhandledrejection",t.url=t.url||u.location.href,t.message=r;}n.H(t,{trimHeadFrames:0,mechanism:t.mechanism||"generic",includePaths:n.options.includePaths});}},n.prototype.H=function(n,t){var e=wn(n,t,this.options.stackTraceLimit);this.U(n,e,t);},n.prototype.U=function(n,t,r){var i=this.options,o=i.ignoreErrors,a=void 0===o?[]:o,u=i.ignoreKeys,c=void 0===u?[]:u,s=i.whitelistUrls,f=void 0===s?[]:s,O=i.resourceWhitelistUrls,l=void 0===O?[]:O,d=i.ignoreUrls,h=void 0===d?[]:d,v=i.ignoreJsUrls,M=void 0===v?[]:v,R=i.ignoreResourceUrls,p=void 0===R?[]:R,B=n.name,m=n.message,g=n.url,y=void 0===g?"":g,b=n.page,w=void 0===b?window.location.href:b,_=n.lineno,x=void 0===_?0:_,S=n.originalStack,k=void 0===S?"":S;if(!(a.length&&mn(a,m)||h.length&&mn(h,w))){var T=function(n,t){return n&&n.length&&n[0].filename||t}(t,y);if("ResourceError"===B){if(p.length&&mn(p,m))return;if(l.length&&!mn(l,m))return}else {if(c.length&&mn(c,B))return;if(M.length&&mn(M,T))return;if(f.length&&!mn(f,T))return}if(t&&t.length>0){var E=t[0].filename||"",L=-1!==E.indexOf("@baidu/weirwood-error"),I=-1!==E.indexOf(Xn);if(L||I)return}if(-1===T.indexOf(Xn)){var A=function(n,t,e){return n&&n.length?n.reverse():t?[{filename:t,lineno:e||0,in_app:!0}]:[]}(t,y,x),C=e(e({},r),{exception:{type:B,value:m,originalStack:k,stacktrace:A,url:"ResourceError"===B?m:T,page:n.page,element:n.element,timing:n.timing,elementPath:n.elementPath}}),F=C.exception;null==F.type&&""===F.value&&(F.value="Unrecoverable error caught"),!C.exception.mechanism&&C.mechanism&&(C.exception.mechanism=C.mechanism,delete C.mechanism),this.D(C);}}},n.prototype.mergeGlobalContext=function(n){var t,i,o,a=k();n.env=e(e(e({},this.g.env),n.env),{network:null===(o=a.navigator.connection)||void 0===o?void 0:o.effectiveType,windowHeight:(a.document.documentElement||a.document.body).clientHeight,windowWidth:(a.document.documentElement||a.document.body).clientWidth,documentTitle:a.document.title});try{for(var u=r(Object.keys(this._)),c=u.next();!c.done;c=u.next()){var s=c.value;n.env[s]=this._[s];}}catch(n){t={error:n};}finally{try{c&&!c.done&&(i=u.return)&&i.call(u);}finally{if(t)throw t.error}}n.env["session:duration"]=Date.now()-this.S,this.g.user&&(n.user=this.g.user),this.g.session_id&&(n.session_id=this.g.session_id);},n.prototype.D=function(n){var t={request:this.P};if(m(n.trimHeadFrames)||delete n.trimHeadFrames,n=e(e({},t),n),this.mergeGlobalContext(n),this.k&&this.k.length>0){var r=[].slice.call(this.k,0);this.options.behaviorDataCallback&&(r=this.options.behaviorDataCallback(r)),n.behaviors=r;}var i=this.options;if(i.token&&(n.token=i.token),i.buildid&&(n.buildid=i.buildid),n=this.X(n),Object.keys(n).forEach((function(t){(null==n[t]||""===n[t]||x(n[t]))&&delete n[t];})),g(i.dataCallback)&&(n=i.dataCallback(n)),n&&!x(n)){var o=Date.now()-this.A<6e4,a=this.I>this.options.maxMessagePerMinute;if(o){if(a)return}else this.A=Date.now(),this.I=1;"number"==typeof i.sampleRate?Math.random()<i.sampleRate&&(this.W(n),this.I+=1):(this.W(n),this.I+=1);}},n.prototype.isSetup=function(){return this.C},n.prototype.$=function(n){var t,e,i=this.options.maxUrlLength||0,o=this.options.maxMessageLength||0;if(n.exception&&(n.exception.value=dn(n.exception.value,o)),n.request){var a=k();n.request.url=dn(a.location.href,i);var u=n.request.headers.Referrer;n.request.headers.Referrer=dn(u,i);}if(n.behaviors&&n.behaviors.length){var c=["url","to","from"],s=function(n){var t=n.data||{},e=function(n){t.hasOwnProperty(n)&&c.forEach((function(e){n===e&&(t[n]=dn(t[n],i));}));};for(var r in t)e(r);};try{for(var f=r(n.behaviors),O=f.next();!O.done;O=f.next()){s(O.value);}}catch(n){t={error:n};}finally{try{O&&!O.done&&(e=f.return)&&e.call(f);}finally{if(t)throw t.error}}}return n},n.prototype.W=function(n,t){var e=this,r=this.options;if(n=this.$(n),this.options.allowDuplicates||!this.q(n)){var i,o=r.issueGroupby;o&&g(o)&&(i=o(n.exception)),i&&y(i)?(n.fingerprint=i.substr(0,255),n.event_id=Y(n.fingerprint)):n.event_id=Y(Rn(n)),n.data_id=Y(function(n){var t=Rn(n),e=[],r=n.request,i=n.env,o=n.behaviors;if(!r)return JSON.stringify(n);var a=r.headers,u=r.url;return e.push("Referrer="+a.Referrer),e.push("ua="+a["User-Agent"]),e.push("url="+u),cn(i,(function(n,t){"session:duration"!==n&&e.push(n+"="+t);})),cn(o,(function(n){e.push("behavior.category="+n.category),e.push("behavior.name="+n.name),e.push("behavior.message="+n.message);})),t+e.join("***")}(n)),n.version=this.options.version||"",n.sdkTimestamp=Date.now(),this.T=n;var a={weirwood_version:this.options.version||""};(r.transport||this.G).call(this,{url:this.options.endpoint,auth:a,data:n,options:r,onSuccess:function(){e.J(),t&&t();},onError:function(n){n.request&&e.V(n.request),n=n||new Error("Raven send failed (no additional details provided)"),t&&t(n);}});}},n.prototype.G=function(n){var t,i,o=this,a=n.url,u=null,c={};n.options.headers&&(u=sn(n.options.headers)),n.options.fetchParameters&&(c=sn(n.options.fetchParameters));var s=this.options.sendWindow;if(en()){c.body=an(n.data);var f=e(e({},this.j),c);if(u){var O=new Headers;try{for(var l=r(Object.keys(u)),d=l.next();!d.done;d=l.next()){var h=d.value;O.append(h,u[h]);}}catch(n){t={error:n};}finally{try{d&&!d.done&&(i=l.return)&&i.call(l);}finally{if(t)throw t.error}}O.append("Content-Type","text/plain"),f.headers=O;}return s.fetch(a,f).then((function(t){if(t.ok)n.onSuccess&&n.onSuccess(),o.J();else {var e=new Error("Weirwood error SDK error code: "+t.status);e.request=t,n.onError&&n.onError(e);}})).catch((function(){n.onError&&n.onError(new Error("Weirwood error SDK error code: network unavailable")),o.J();}))}var v=s.XMLHttpRequest&&new s.XMLHttpRequest;v&&(("withCredentials"in v||"undefined"!=typeof XDomainRequest)&&("withCredentials"in v?v.onreadystatechange=function(){if(4===v.readyState){if(200===v.status)n.onSuccess&&n.onSuccess();else if(n.onError){o.J();var t=new Error("Weirwood error SDK error code: "+v.status);t.request=v,n.onError(t);}}else o.J();}:(v=new XDomainRequest,a=a.replace(/^https?:/,""),n.onSuccess&&(v.onload=n.onSuccess),n.onError&&(v.onerror=function(){var t=new Error("Weirwood error SDK error code: XDomainRequest");t.request=v,n.onError(t);})),v.open("POST",a),u&&cn(u,(function(n,t){v.setRequestHeader(n,t);})),v.send(an(n.data))));},n.prototype.X=function(n){var t=this.options.sanitizeKeys||[];return t.length?function(n,t){if(!Array.isArray(t)||Array.isArray(t)&&0===t.length)return n;var e,r=Bn(t);try{e=JSON.parse(an(n));}catch(t){return n}return function n(t){return Array.isArray(t)?t.map((function(t){return n(t)})):_(t)?Object.keys(t).reduce((function(e,i){return r.test(i)?e[i]="********":e[i]=n(t[i]),e}),{}):t}(e)}(n,t):n},n.prototype.captureUserAgent=function(n){this.P=n;},n.prototype.captureException=function(n,t){if(t||(t={trimHeadFrames:0,includePaths:[],mechanism:"generic",message:""}),p(n))n=n;else if(B(n))n=n.error;else {if(!_(n)){if(o=n,"[object DOMException]"===Object.prototype.toString.call(o)){var r=n.name||"DOMException",i=n.message?r+": "+n.message:r;return this.captureMessage(i,t)}return this.captureMessage(n,e(e({},t),{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}t=this.K(t,n),n=new Error(t.message);}var o;try{t=e({trimHeadFrames:0,mechanism:"generic",includePaths:this.options.includePaths||[]},t);var a=H(n);this.H(a,t);}catch(t){if(n!==t)throw t}return this},n.prototype.q=function(n){var t=this.T;return Mn(n.exception,t?t.exception:{})},n.prototype.J=function(){this.S=Date.now(),this._={};},n.prototype.V=function(n){},n.prototype.captureMessage=function(n,t){var r;void 0===t&&(t={});var i=this.options,o=i.ignoreErrors||[],a=i.ignoreKeys||[],u=i.whitelistUrls||[],c=i.ignoreUrls||[],s=i.ignoreJsUrls||[];if(!o.length||!mn(o,n)){var f;try{throw new Error(n)}catch(n){f=n;}var O=H(f),l=Array.isArray(O.stack)&&O.stack[1];-1!==(null===(r=null==l?void 0:l.func)||void 0===r?void 0:r.indexOf("captureException"))&&(l=O.stack[2]);var d=l&&l.url||"";if((!c.length||!mn(c,window.location.href))&&(!a.length||!mn(a,f.name))&&(!s.length||!mn(s,d))&&(!u.length||mn(u,d))){(t=e(e({},t),{trimHeadFrames:0,includePaths:i.includePaths})).trimHeadFrames+=1;var h=wn(O,t),v={exception:{mechanism:"manual",type:f.name,value:f.message,stacktrace:h.slice(1).reverse(),url:d}};return this.D(v),this}}},n.prototype.captureAPIException=function(n){var t=this,r=k(),i=this.options,o=i.ignoreUrls,a=void 0===o?[]:o,u=i.ignoreApiUrls,c=void 0===u?[]:u,s=i.ignoreApiStatus,f=void 0===s?[]:s,O=i.buildid,l=i.token,d=i.version,h=i.apiWhitelistUrls;if(n.url&&n.method&&!m(n.status)){if((!a.length||!mn(a,r.location.href))&&(!c.length||!mn(c,n.url))&&(!h.length||mn(h,n.url))&&(!f.length||-1===f.indexOf(Number(n.status)))){var v=e(e({},n),{type:"APIError"}),M={request:{headers:{"User-Agent":r.navigator.userAgent},url:r.location.href},exception:v,buildid:O,token:l,version:d||""},R=this.options;if(g(R.dataCallback)&&(M=R.dataCallback(M)),M&&!x(M)){var p;this.mergeGlobalContext(M);var B=this.options.issueGroupby;if(B&&g(B)&&(p=B(M.exception)),p&&y(p)?(M.fingerprint=p.substr(0,255),M.event_id=Y(M.fingerprint)):M.event_id=gn(n),M.data_id=Y(an(M)),this.L!==M.data_id){this.L=M.data_id;var b=function(){var n;((null===(n=t.options.globalOptions)||void 0===n?void 0:n.transport)||t.G).call(t,{url:t.options.endpoint,data:M,options:{},onSuccess:function(){},onError:function(){}});};"number"==typeof R.sampleRate?Math.random()<R.sampleRate&&b():b();}}}}else console.error("API异常参数至少需要包含 method、url、status 参数。");},n.prototype.captureEvent=function(){},n.prototype.afterLoad=function(){var n=k().RavenConfig;n&&this.init(n);},n.prototype.K=function(n,t){var r=Object.keys(t).sort(),i=e(e({},n),{message:"Non-Error exception captured with keys: "+fn(r),fingerprint:[Y(r.join(""))],env:n&&n.env||{}});return i.env.__serialized__=On(t),i},n.prototype.captureBehavior=function(n){var t,r=e(e({},n),{timestamp:Date.now()/1e3});if(g(this.options.breadcrumbCallback)){var i=this.options.breadcrumbCallback(r);if("object"!=typeof(t=i)||null===t||x(i)){if(!1===i)return this}else r=i;}return this.k.push(r),this.k.length>(this.options.behaviorLimit||10)&&this.k.shift(),this},n.prototype.setContext=function(n,t){for(var e in void 0===t&&(t={persist:!0}),n)Reflect.has(n,e)&&(t.persist?this.g.env[e]=n[e]:this._[e]=n[e]);},n.prototype.clearContext=function(){this.g.env={},this._={};},n.prototype.Z=function(){for(var n;this.m.length;){var t=(n=this.m.shift())[0],e=n[1],r=n[2];t[e]=r;}},n.prototype.noConflict=function(){},n.prototype.uninstall=function(){this.dispose();},n.prototype.dispose=function(){j(this.F),this.Z(),this.F=null,this.C=!1;},n}(),Wn={};function $n(){return "undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Wn}function qn(){var n=window.crypto||window.msCrypto;if(void 0!==n&&n.getRandomValues){var t=new Uint16Array(8);n.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var e=function(n){for(var t=n.toString(16);t.length<4;)t="0"+t;return t};return e(t[0])+e(t[1])+e(t[2])+e(t[3])+e(t[4])+e(t[5])+e(t[6])+e(t[7])}return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(n){var t=16*Math.random()|0;return ("x"===n?t:3&t|8).toString(16)}))}var Gn=function(){function n(n){this.version="1.3.12",this.lastRouteTime=0,n&&this.init(n);}return n.prototype.init=function(n){var t=this.getSendWindow();if(!n.perf||n.perf&&!n.perf.disable){var r=e(e(e({},n.perf),n.common),{version:this.version,sendWindow:t});this.perf=new R(r);}if(!n.error||n.error&&!n.error.disable){var i=e(e(e({},n.error),n.common),{version:this.version,sendWindow:t,uuid4:qn});this.error=new zn(i);}this.routeChange(window.document.URL),function(n){var t,e,r=window.history;"function"==typeof r.pushState&&(r.pushState=(t=r.pushState,function(e,r,i){return n(i),t.apply(this,arguments)})),"function"==typeof r.replaceState&&(r.replaceState=(e=r.replaceState,function(t,r,i){var o=window.document.URL;return i!==o&&n(i),e.apply(this,arguments)})),window.addEventListener("hashchange",(function(t){var e=(t||{}).newURL;n(e);})),window.addEventListener("popstate",(function(t){var e=window.document.URL;n(e);}));}(this.routeChange.bind(this));},n.prototype.routeChange=function(n){var t=(new Date).getTime();if(t-this.lastRouteTime>100){this.lastRouteTime=t;var e=qn()+"-"+t;this.error&&this.error.setContext({pageId:e});}},n.prototype.getSendWindow=function(){var n=$n();if(["fetch","ajax","sendBeacon"].some((function(n){return !((t=window[n])&&t.toString&&!t.hasOwnProperty("toString")&&/\[native code\]/.test(String(t)));var t;}))&&document.body){var t=document.createElement("iframe");t.style.setProperty("display","none","important"),document.body.appendChild(t),n=t?t.contentWindow:n;}return n},n.prototype.afterLoad=function(){},n}();return n.Client=Gn,n.init=function(n){var t=$n();if(t.__Weirwood)return t.__Weirwood;var e=new Gn(n);return e.afterLoad(),t.__Weirwood=e,e},n}({});
