"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[34],{7034:(e,a,t)=>{t.r(a),t.d(a,{checkEmailButtons:()=>s,showCustomErrorMsg:()=>p});t(4812),t(9826),t(1539),t(1058),t(4916),t(4723),t(6647),t(3710),t(9714),t(5306),t(7042),t(6699),t(3650),t(3210),t(4765),t(2564);var r=t(9755),n=t.n(r),o=t(1464);function s(){n()(".row-main, .row-payment, .row-status").each((function(e,a){var t=(a=n()(a)).children().length;t>=3?a.parent().find(".add-mail-row").hide():a.parent().find(".add-mail-row").show();var r=a.parent().find(".mail-fallback");r.length&&(t>0?r.hide():(r.show(),a.parent().children(".add-mail-row").hide())),t>1||!1===a.find("input").prop("required")?a.find(".email-delete").prop("disabled",!1):a.find(".email-delete").prop("disabled",!0)}))}function i(e){var a=n()("#sign_up_name_company"),t=n()(".organizationFormGroupField");e.parsley().reset(),t.removeClass("hide"),a.prop("required",!0),n()("#sign_up_name_firstName, #sign_up_name_surname").prop("required",!1),n()("#sign_up_name_firstName").labels().toggleClass("required"),n()("#sign_up_name_surname").labels().toggleClass("required"),n()("#sign_up_name_company").labels().toggleClass("required")}function l(e){e.length>0&&e.parsley({validationThreshold:1,successClass:"parsley-success",errorsContainer:function(e){return n()(e.$element).next(".login-error-container")},errorsWrapper:"<div></div>",errorTemplate:'<p class="invalid-message"><i class="fa fa-close"></i></p>'})}function c(e){e.length>0&&e.parsley({errorsContainer:function(e){return e.$element.parent("div").parent(".email-field")},errorsWrapper:"<div></div>",errorTemplate:'<p class="invalid-message"></p>'})}function d(e){var a,t,r=!1,o=0;return e.length<8?(n()("#icon-pw-length").removeClass("fa fa-check-circle").addClass("fa fa-check-circle-o"),n()("#p-pw-length").removeClass("password-ok").addClass("password-invalid"),a=!1):e.length>=8&&(n()("#icon-pw-length").removeClass("fa fa-check-circle-o").addClass("fa fa-check-circle"),n()("#p-pw-length").removeClass("password-invalid").addClass("password-ok"),a=!0,o=33.33),e.search(/[^A-Za-z]/)>-1?(n()("#icon-pw-number").removeClass("fa fa-check-circle-o").addClass("fa fa-check-circle"),n()("#p-pw-number").removeClass("password-invalid").addClass("password-ok"),r=!0,o+=33.34):-1==e.search(/[^A-Za-z]/)&&(n()("#icon-pw-number").removeClass("fa fa-check-circle").addClass("fa fa-check-circle-o"),n()("#p-pw-number").removeClass("password-ok").addClass("password-invalid"),r=!1),e.match(/[a-z]/)&&e.match(/[A-Z]/)?(n()("#icon-pw-cc").removeClass("fa fa-check-circle-o").addClass("fa fa-check-circle"),n()("#p-pw-cc").removeClass("password-invalid").addClass("password-ok"),t=!0,o+=33.33):(n()("#icon-pw-cc").removeClass("fa fa-check-circle").addClass("fa fa-check-circle-o"),n()("#p-pw-cc").removeClass("password-ok").addClass("password-invalid"),t=!1),n()(".progress-bar").css({width:o+"%"}),a&&t&&r?(n()(".progress-bar").addClass("progress-bar-success"),!0):(n()(".progress-bar").removeClass("progress-bar-success"),!1)}function p(e,a){var t='<p class="invalid-message custom-error-msg">'+e+"</p>";n()(t).insertAfter(a.children().last())}function u(){n()("#recovery-key").toggleClass("hide"),n()("#2-factor").toggleClass("hide"),n()("#container-recovery").toggleClass("hide")}function f(e){if(n()(".custom-error-msg").remove(),e.responseJSON){var a=e.responseJSON;if(a.errors)for(var t in a.errors){var r=n()("#"+t);p(a.errors[t],r.parent()),r.one("keydown",(function(){n()(".custom-error-msg").remove()})),r.is("input")&&r.val("").focus()}if(a.messages)for(var s in a.messages)(0,o.callNotification)(a.messages[s].type,a.messages[s].message)}}function m(e,a){var t=a.val(),r=a.data("span"),o=r.text();""===t&&r.data("required")||(n().ajax({url:r.data("url"),type:"POST",data:{_csrf_token:r.data("csrf"),value:t},dataType:"json",error:function(e){f(e),r.text(o)}}),r.text(t)),e.removeClass("form-group"),a.next().remove(),a.remove(),e.append(r)}function h(e){var a=n()(e);a.prop("required")?(a.parent().find("label").addClass("required"),a.closest("div.form-group").removeClass("hide")):a.closest("div.form-group").addClass("hide")}n()(document).ready((function(){var e,a=n()(".form-parsley"),t=n()("#password_change_new_password_password, #sign_up_password_password, #password_reset_password_password"),r=n()("#input-cc-expire"),o=n()("#form-email"),v=n()(".add-mail-row"),g=n()(".form-signup");n()("main").on("click",".email-delete",(function(e){!function(e){var a=n()(e.target);a.closest(".email-field").remove(),s()}(e)})),v.click((function(){!function(e){var a=n()("."+n()(e).data("target"));if(a.children().length<=2){var t=n()("#template-new-row").html();n()(t).removeAttr("style"),n()(t).appendTo(a)}s(),n()("#form-email").parsley().reset(),c(n()("#form-email"))}(this)})),t.keyup((function(){d(n()(this).val())})),r.bind("keyup","keydown",(function(e){!function(e,a){if(8!==e.which){if(2===a.val().length){var t=a.val();t+="/",a.val(t)}}}(e,r)})),n()(".dropdown-menu").click((function(){n()(this).prev().dropdown("toggle")})),n()(".dropdown-menu > li > .user-detail").click((function(e){e.stopPropagation()})),window.Parsley.addValidator("phone",{requirementType:"string",validateString:function(e){return null!=e.toString().match(/^\+[0-9]{5,49}$/)}}),window.Parsley.addValidator("iban",{requirementType:"string",validateString:function(e){return a={AD:24,AE:23,AT:20,AZ:28,BA:20,BE:16,BG:22,BH:22,BR:29,CH:21,CR:21,CY:28,CZ:24,DE:22,DK:18,DO:28,EE:20,ES:24,FI:18,FO:18,FR:27,GB:22,GI:23,GL:18,GR:27,GT:28,HR:21,HU:28,IE:22,IL:23,IS:26,IT:27,JO:30,KW:30,KZ:20,LB:28,LI:21,LT:20,LU:20,LV:21,MC:27,MD:24,ME:22,MK:19,MR:27,MT:31,MU:30,NL:18,NO:15,PK:24,PL:28,PS:29,PT:25,QA:29,RO:24,RS:22,SA:24,SE:24,SI:19,SK:24,SM:27,TN:24,TR:26},t=String(e).toUpperCase().replace(/[^A-Z0-9]/g,""),!(!(r=t.match(/^([A-Z]{2})(\d{2})([A-Z\d]+)$/))||t.length!==a[r[1]])&&1===function(e){for(var a,t=e.slice(0,2),r=2;r<e.length;r+=7)a=String(t)+e.substring(r,r+7),t=parseInt(a,10)%97;return t}((r[3]+r[1]+r[2]).replace(/[A-Z]/g,(function(e){return e.charCodeAt(0)-55})));var a,t,r}}),window.Parsley.addValidator("zipcode",{validateString:function(e){return"US"===n()("select[name*=country]").val()?null!=e.toString().match(/^\d{5}$/):null!=e.toString().match(/^[A-Z 0-9-]+$/)}}),window.Parsley.addValidator("condition",{requirementType:"string",validateString:function(e){return d(e)}}),window.Parsley.addValidator("sepa",{priority:1,requirementType:"string",validateString:function(e){return["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GI","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MC","MT","NL","NO","PL","PT","RO","SE","SI","SK","SM"].includes(e.toUpperCase().trim().substr(0,2))}}),l(a),c(o),e=t,n()('[data-toggle="#input-password"]').tooltip(),e.tooltip().off("mouseover mouseout"),e.tooltip({items:"input",position:{my:"right top-15",at:"left-10 center",of:e},content:n()("#tooltip-template")}),function(e){if(n()(window).width()<=1200){e.tooltip("destroy");var a=n()("#tooltip-template");a.show(),a.insertAfter(e.parent()),a.removeClass("tooltip-custom").addClass("tooltip-custom-mobile")}}(t),l(g);var w=n()("#sign_up_name_type_1"),y=n()("#sign_up_name_type_0");w.change((function(){i(g)})),y.change((function(){var e,a,t;e=g,a=n()("#sign_up_name_company"),t=n()(".organizationFormGroupField"),e.parsley().reset(),t.addClass("hide"),a.prop("required",!1),t.val(""),n()("#sign_up_name_firstName, #sign_up_name_surname").prop("required",!0),n()("#sign_up_name_firstName").labels().toggleClass("required"),n()("#sign_up_name_surname").labels().toggleClass("required"),n()("#sign_up_name_company").labels().toggleClass("required")})),w.prop("checked")&&""!=n()("#sign_up_name_company").val()&&i(g),n()("#show-recovery, #hide-recovery").click((function(){u()})),n()(".tooltip-button").click((function(e){e.preventDefault()}));var C=n()(".av-scrollbar"),b=n()(window).height(),k=n()(".idp-background").find(".inner-content").innerHeight(),_=C.height(),x=n()(".av-scrollbar > span"),T=_-x.height();n()(window).resize((function(){C.css({top:"calc(~'50vh - 100px + 64px')"}),b=n()(window).height(),k=n()(".idp-background").find(".inner-content").innerHeight(),T=_-x.height()})),n()(window).scroll((function(){var e=n()(window).scrollTop()/(k-b)*T;parseInt(e)>=T?(e=T,x.addClass("end")):x.removeClass("end"),e<=0&&(e=0),x.animate({top:e},1)})),n()('[data-toggle="tooltip"]').tooltip(),n()(".btn-payment-invoice").click((function(){var e;e=this,n()(e).hasClass("open")?n()(e).removeClass("open"):n()(e).addClass("open")})),n()(".payment-button-invoice").click((function(){!function(e){n()(".payment-button-invoice").removeClass("active");var a=n()(e).data("target");n()(".invoice-payment-container").addClass("hidden"),n()(a).removeClass("hidden"),n()(e).addClass("active")}(this)})),n()(".tooltip-invoice").tooltip({tooltipClass:"tooltip-invoice",position:{my:"right-10",at:"left center"}}),n()(".payment-button-credit-card").click((function(){var e,a;e=this,a=n()(e).data("target"),""===n()(a).html().trim()&&n().ajax({url:n()(e).data("url"),type:"GET",dataType:"html",success:function(e){n()(a).html(e)},error:function(){location.reload(!0)}})}));var S=n()(".btn-new-auth"),E=n()(".collapse-2fa");S.click((function(){var e,a,t,r;e=this,a=S,t=E,r=n()(n()(e).data("target")),n()(e).hasClass("auth-active")?(a.removeClass("auth-not-active"),n()(e).removeClass("auth-active"),r.addClass("hidden")):(a.removeClass("auth-active").addClass("auth-not-active"),t.addClass("hidden"),n()(e).removeClass("auth-not-active").addClass("auth-active"),r.removeClass("hidden"),r.find(":input:visible:first").focus())})),n()("button[data-toggle='modal'][data-target='#modal-password-prompt']").click((function(){!function(e){var a="",t=n()("#modal-password-prompt").find(".btn-submit"),r=n()(".container-2fa-confirm");a=n()(e).data("btn-text")?n()(e).data("btn-text"):n()(e).text();t.text(a),n()(e).data("checkbox")?r.removeClass("hidden"):r.addClass("hidden"),t.data("check",n()(e).data("check"))}(this)})),n()("#collapse-auth-methods").click((function(){!function(e){var a=n()(e).find(".btn-auth-text");n()("#container-add-auth").collapse("toggle"),n()(e).toggleClass("open");var t=a.html();a.html(a.data("text")),a.data("text",t)}(this)})),n()("#btn-validate-password").click((function(e){e.preventDefault(),function(e){n()(".custom-error-msg").remove();var a=n()("#validate_password");a.parsley().validate();var t=n()("#modal-password-prompt").find("input[type=checkbox]");if(t.length&&!n()(".container-2fa-confirm").hasClass("hidden")&&!t.prop("checked"))return p(t.data("parsley-error-message"),t.parent().parent()),!1;if(!a.parsley().isValid())return!1;n().ajax({url:n()(e).data("check"),type:"POST",data:a.serializeArray(),dataType:"json",success:function(e){location.href=e.redirect},error:function(e){f(e)}})}(this)})),n()("[data-totp-url]").one("click",(function(){var e;e=this,n().ajax({url:n()(e).data("totp-url"),type:"GET",dataType:"json",success:function(e){n()("#totp-qr-code").attr("src","data:image/png;base64,"+e.qrcode),n()("#totp-secret").text(e.secret),n()("#totp_id").val(e.id)},error:function(e){f(e)}})})),n()(".btn-add-auth").on("click",(function(e){e.preventDefault(),function(e){var a=n()(e).closest("form");if(a.parsley().validate(),!a.parsley().isValid())return!1;n().ajax({url:n()(e).data("url"),type:"POST",data:a.serializeArray(),dataType:"json",success:function(e){location.href=e.redirect},error:function(e){f(e)}})}(this)})),n()("#modal-password-prompt").on("shown.bs.modal",(function(){n()("#validate_current_password_password").val("").focus()})),n()(".inplace-editor").parent().click((function(){!function(e){var a=n()(e);if(!a.hasClass("form-group")){a.addClass("form-group");var t=a.find(".inplace-editor"),r=t.text(),o=n()("<input class='input-edit-descr' type='text' value='"+r+"'/>");o.data("span",t),o.attr("placeholder",t.data("placeholder"));var s=n()("<button class='btn btn-xs btn-green'><i class='fa fa-check'></i></button>");t.remove(),a.append(o),a.append(s),o.focus().select(),o.blur((function(){m(a,n()(this))})),o.keypress((function(e){13==e.which&&m(a,n()(this))})),s.click((function(e){e.stopPropagation(),m(a,o)}))}}(this)})),n()("[data-parent-field]").each((function(e,a){var t,r,o,s=n()(a);t=s.data("parent-field"),r="#"+s.attr("id"),o=n()(t),h(r),o.change((function(){var e=n()(this).closest("form"),a={};a[o.attr("name")]=o.val(),n().ajax({url:e.attr("action"),type:e.attr("method"),data:a,success:function(e){n()(r).replaceWith(n()(e).find(r)),h(r)}})}))}))})),t.g.onClickPaymentButton=function(){var e=n()(this),a=n()(e.data("target")),t=e.data("event");n()(".payment-button").removeClass("payment-active"),e.addClass("payment-active"),n()(".payment-info").addClass("hidden"),a.removeClass("hidden").show(),t&&n()(window).trigger(t)},t.g.checkEmailButtons=s,t.g.showCustomErrorMsg=p,t.g.disableInputFields=function(){n()(".form-group").css({border:"2px solid red"}),n()(".form-group input").prop("disabled",!0)},t.g.enableInputFields=function(){n()(".custom-error-msg").remove(),n()(".form-group").css({border:"2px solid #dbdbdb"}),n()(".form-group input").prop("disabled",!1)},t.g.toggleRecoveryKey=u,t.g.printRecoveryKey=function(e){sessionStorage.setItem("recovery_key",n()("#recovery_key").text()),window.open(e,"","location=0,status=0,toolbar=0,scrollbars=1,width=600,height=500"),setTimeout((function(){sessionStorage.setItem("recovery_key","")}),1e4)},t.g.copyToClipboard=function(e){var a=n()("<input>");n()("body").append(a),a.val(n()("#"+e).text()).select(),document.execCommand("copy"),a.remove()}},1464:(e,a,t)=>{t.r(a),t.d(a,{callNotification:()=>o});t(9554),t(1539),t(4747);var r=t(9755),n=t.n(r);function o(e,a){var t,r=n()("#custom-notify-template"),o=5e3;switch(e){case"error":t="fa fa-times";break;case"warning":t="fa fa-exclamation-triangle";break;case"success":t="fa fa-check-circle";break;case"info":t="fa fa-info-circle",o=0;break;default:t="fa fa-envelope"}n().notify({message:a,icon:t},{delay:o,type:e,template:r.html()})}t.g.initNotify=function(e){n().notifyDefaults({delay:0,offset:{y:80,x:20},animate:{enter:"animated fadeInRight",exit:"animated fadeOutRight"},z_index:10}),null!=e&&e.forEach((function(e){o(e.type,e.message)}))}}}]);