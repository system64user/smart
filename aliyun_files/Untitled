!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TraceSdk=t():e.TraceSdk=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";(function(e){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return a}));var o=/^\s*at .*? ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::\d+)?(?::\d+)?\)?\s*$/i,i=/^\s*.*?(?:\(.*?\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::\d+)?(?::\d+)?\s*$/i,u=/^\s*at (?:(?:\[object object\])?.+ )?\(?((?:file|ms-appx|https?|blob):.*?):\d+(?::\d+)?\)?\s*$/i;function a(e){for(var t=(e&&e.stack||"").split("\n"),n=["","",""],r={},a=0;a<t.length;a++){var c=o,f=(t[a]||"").match(c);if(null===f&&(c=i,f=(t[a]||"").match(c)),null===f&&(c=u,f=(t[a]||"").match(c)),null!==f){var s=f[1],l=r[s];void 0===l&&(r[s]="#"+a+"#",l=r[s]),t[a]=t[a].replace(s,l)}}if(t.length>0){t.shift();var d="";for(a=0;d.length+(t[a]||"").length<4096&&a<t.length;)d+=t[a]+"\n",a++;n[1]=d;for(var p="";p.length+(t[a]||"").length<4096&&a<t.length;)p+=t[a]+"\n",a++;n[2]=p}var y="";for(s in r)r.hasOwnProperty(s)&&(y+=s+"@"+r[s]+";");return y=y.replace(/;$/,""),n[0]=y,n}void 0===e||r(e)}).call(this,n(1))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var c,f=[],s=!1,l=-1;function d(){s&&c&&(s=!1,c.length?f=c.concat(f):l=-1,f.length&&p())}function p(){if(!s){var e=a(d);s=!0;for(var t=f.length;t;){for(c=f,f=[];++l<t;)c&&c[l].run();l=-1,t=f.length}c=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new y(e,t)),1!==f.length||s||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"shadowMerge",(function(){return s})),n.d(t,"getRandomNum",(function(){return l})),n.d(t,"uuid",(function(){return d})),n.d(t,"ignoreFirstSpecialChara",(function(){return p})),n.d(t,"checkWin",(function(){return y})),n.d(t,"getUrl",(function(){return m})),n.d(t,"getOriginUrl",(function(){return g})),n.d(t,"getUrlHash",(function(){return h})),n.d(t,"getUrlQuery",(function(){return v})),n.d(t,"getSpmAB",(function(){return b})),n.d(t,"toQueryParams",(function(){return S})),n.d(t,"queryToObj",(function(){return w})),n.d(t,"on",(function(){return x})),n.d(t,"getSendInfo",(function(){return j})),n.d(t,"getXPath",(function(){return P})),n.d(t,"getWin",(function(){return T})),n.d(t,"getPageMetaConfig",(function(){return E})),n.d(t,"genRandomIp",(function(){return A})),n.d(t,"genTraceId",(function(){return O})),n.d(t,"checkSample",(function(){return _})),n.d(t,"processError",(function(){return C}));var r="/arms.1.1",o="/arms.1.2",i=("https://gm.mmstat.com".concat(r),"https://gm.mmstat.com".concat(o),n(0));function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e){var t=e.message.match(/Uncaught (\w+):/);return t&&t[1]?t[1]:e.error_type?e.error_type:e.name?e.name:""}function c(e){var t=e.message,n=void 0===t?"":t,r=e.lineno,o=e.colno,u=e.stack,c=e.error,f=Object(i.a)(c&&c.stack||u)||["","",""];return{msg:n||e.msg||"",lineno:r,colno:o,file:e.filename||e.file||"",stack:c&&c.stack||u,stack1:f[0],stack2:f[1],stack3:f[2],errType:e.errType||a(e)||"",errCode:e.errCode||e.error_code}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};function l(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=[],r=0;r<e;r++){var o=Math.floor(Math.random()*t);n[r]=o.toString(t)}return n.join("")}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var p=function(e){return"string"==typeof e?e.replace(/^\?|#/,""):""},y=function(){return!("object"!==("undefined"==typeof window?"undefined":f(window))||!window.document)},m=function(){return y()?window.location.href.split("?")[0]:""},g=function(){return y()?window.location.href:""},h=function(){return y()?p(window.location.hash):""},v=function(){return y()?p(window.location.search):""},b=function(){if(!y())return{a:"",b:""};var e=window.goldlog,t=(null==e?void 0:e.spm_ab)||(null==e?void 0:e.spmAb)||[];return{a:t[0]||"",b:t[1]||""}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];for(var r in e){var o=e[r],i="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t?encodeURIComponent(o):String(o).slice(0,512)));n.push(i)}return n.join("&")},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n={};return e.split(t).forEach((function(e){var t=e.split("="),r=t[0];n[r]=t[1]})),n};function x(e,t,n,r,o){return e.addEventListener?(o=o||!1,e.addEventListener(t,(function i(u){r&&e.removeEventListener(t,i,o),n.call(this,u)}),o)):e.attachEvent&&e.attachEvent("on"+t,(function o(i){r&&e.detachEvent("on"+t,o),n.call(this,i)})),this}function j(e,t){var n="perf"===e?o:r;return{APLUS_LOGKEY:n,APLUS_URL:"https://".concat(t&&"string"==typeof t?t:"gm.mmstat.com").concat(n)}}var k,P=function e(t,n){var r=t.id?"#"+t.id:"",o=t.className&&t.className.split?"."+t.className.split(" ").join("."):"",i=t.tagName.toLowerCase();return t.parentNode&&t.parentNode.tagName&&n-1!=0?e(t.parentNode,n-1)+" > "+i.toLowerCase()+r+o:i+r+o},T=function(){return"object"===("undefined"==typeof window?"undefined":f(window))&&window.document?window:void 0},E=function(){var e=y();try{if(e){var t=window.document.querySelector('meta[name="page-tag"]');if(t){var n=t.getAttribute("content")||"";return w(n,",")}}return{}}catch(e){return{}}},A=function(){for(var e=[],t=0;t<4;t++){var n=Math.floor(256*Math.random());e[t]=(n>15?"":"0")+n.toString(16)}return e.join("")},O=(k=1e3,function(){var e=A(),t=Date.now(),n=k,r=l(1),o=l(4);return k=k+1>1e4?1e3:k+1,e+t+n+r+o}),_=function(e){return e>Math.random()},C=function(e){var t={};return t="undefined"!=typeof PromiseRejectionEvent&&e instanceof PromiseRejectionEvent?function(e){if(e)try{var t="",n=0,r=0,o="",i="";"string"==typeof e?t=e:"object"===u(e.reason)?t=e.reason.message:"string"==typeof e.message&&(t=e.message);var a=e.reason;if("object"===u(a)){if("number"==typeof a.column?(r=a.column,n=a.line):a.stack&&(f=a.stack.match(/at\s+.+:(\d+):(\d+)/))&&(n=f[1],r=f[2]),a.sourceURL)o=a.sourceURL;else if(a.stack){var f;(f=a.stack.match(/at\s+(.+):\d+:\d+/))&&(o=f[1])}a.stack&&(i=a.stack)}return c({message:t,filename:o,lineno:n,colno:r,stack:i,error_type:e.constructor.name})}catch(e){}}(e)||{}:function(e,t,n,r,o){try{return c("string"==typeof e?{message:e,filename:t,lineno:n,colno:r,error:o}:e)}catch(e){}}(e)||{},t};t.default={shadowMerge:s,getRandomNum:l,uuid:d,ignoreFirstSpecialChara:p,checkWin:y,getUrl:m,getOriginUrl:g,getUrlHash:h,getUrlQuery:v,getSpmAB:b,toQueryParams:S,queryToObj:w,on:x,getSendInfo:j,getXPath:P,getWin:T,getPageMetaConfig:E,genRandomIp:A,genTraceId:O,checkSample:_,processError:C}}]).default},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";(function(e){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return a}));var o=/^\s*at .*? ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::\d+)?(?::\d+)?\)?\s*$/i,i=/^\s*.*?(?:\(.*?\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::\d+)?(?::\d+)?\s*$/i,u=/^\s*at (?:(?:\[object object\])?.+ )?\(?((?:file|ms-appx|https?|blob):.*?):\d+(?::\d+)?\)?\s*$/i;function a(e){for(var t=(e&&e.stack||"").split("\n"),n=["","",""],r={},a=0;a<t.length;a++){var c=o,f=(t[a]||"").match(c);if(null===f&&(c=i,f=(t[a]||"").match(c)),null===f&&(c=u,f=(t[a]||"").match(c)),null!==f){var s=f[1],l=r[s];void 0===l&&(r[s]="#"+a+"#",l=r[s]),t[a]=t[a].replace(s,l)}}if(t.length>0){t.shift();var d="";for(a=0;d.length+(t[a]||"").length<4096&&a<t.length;)d+=t[a]+"\n",a++;n[1]=d;for(var p="";p.length+(t[a]||"").length<4096&&a<t.length;)p+=t[a]+"\n",a++;n[2]=p}var y="";for(s in r)r.hasOwnProperty(s)&&(y+=s+"@"+r[s]+";");return y=y.replace(/;$/,""),n[0]=y,n}void 0===e||r(e)}).call(this,n(1))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var c,f=[],s=!1,l=-1;function d(){s&&c&&(s=!1,c.length?f=c.concat(f):l=-1,f.length&&p())}function p(){if(!s){var e=a(d);s=!0;for(var t=f.length;t;){for(c=f,f=[];++l<t;)c&&c[l].run();l=-1,t=f.length}c=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new y(e,t)),1!==f.length||s||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"shadowMerge",(function(){return s})),n.d(t,"getRandomNum",(function(){return l})),n.d(t,"uuid",(function(){return d})),n.d(t,"ignoreFirstSpecialChara",(function(){return p})),n.d(t,"checkWin",(function(){return y})),n.d(t,"getUrl",(function(){return m})),n.d(t,"getOriginUrl",(function(){return g})),n.d(t,"getUrlHash",(function(){return h})),n.d(t,"getUrlQuery",(function(){return v})),n.d(t,"getSpmAB",(function(){return b})),n.d(t,"toQueryParams",(function(){return S})),n.d(t,"queryToObj",(function(){return w})),n.d(t,"on",(function(){return x})),n.d(t,"getSendInfo",(function(){return j})),n.d(t,"getXPath",(function(){return P})),n.d(t,"getWin",(function(){return T})),n.d(t,"getPageMetaConfig",(function(){return E})),n.d(t,"genRandomIp",(function(){return A})),n.d(t,"genTraceId",(function(){return O})),n.d(t,"checkSample",(function(){return _})),n.d(t,"processError",(function(){return C}));var r="/arms.1.1",o="/arms.1.2",i=("https://gm.mmstat.com".concat(r),"https://gm.mmstat.com".concat(o),n(0));function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e){var t=e.message.match(/Uncaught (\w+):/);return t&&t[1]?t[1]:e.error_type?e.error_type:e.name?e.name:""}function c(e){var t=e.message,n=void 0===t?"":t,r=e.lineno,o=e.colno,u=e.stack,c=e.error,f=Object(i.a)(c&&c.stack||u)||["","",""];return{msg:n||e.msg||"",lineno:r,colno:o,file:e.filename||e.file||"",stack:c&&c.stack||u,stack1:f[0],stack2:f[1],stack3:f[2],errType:e.errType||a(e)||"",errCode:e.errCode||e.error_code}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};function l(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=[],r=0;r<e;r++){var o=Math.floor(Math.random()*t);n[r]=o.toString(t)}return n.join("")}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var p=function(e){return"string"==typeof e?e.replace(/^\?|#/,""):""},y=function(){return!("object"!==("undefined"==typeof window?"undefined":f(window))||!window.document)},m=function(){return y()?window.location.href.split("?")[0]:""},g=function(){return y()?window.location.href:""},h=function(){return y()?p(window.location.hash):""},v=function(){return y()?p(window.location.search):""},b=function(){if(!y())return{a:"",b:""};var e=window.goldlog,t=(null==e?void 0:e.spm_ab)||(null==e?void 0:e.spmAb)||[];return{a:t[0]||"",b:t[1]||""}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];for(var r in e){var o=e[r],i="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t?encodeURIComponent(o):String(o).slice(0,512)));n.push(i)}return n.join("&")},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n={};return e.split(t).forEach((function(e){var t=e.split("="),r=t[0];n[r]=t[1]})),n};function x(e,t,n,r,o){return e.addEventListener?(o=o||!1,e.addEventListener(t,(function i(u){r&&e.removeEventListener(t,i,o),n.call(this,u)}),o)):e.attachEvent&&e.attachEvent("on"+t,(function o(i){r&&e.detachEvent("on"+t,o),n.call(this,i)})),this}function j(e,t){var n="perf"===e?o:r;return{APLUS_LOGKEY:n,APLUS_URL:"https://".concat(t&&"string"==typeof t?t:"gm.mmstat.com").concat(n)}}var k,P=function e(t,n){var r=t.id?"#"+t.id:"",o=t.className&&t.className.split?"."+t.className.split(" ").join("."):"",i=t.tagName.toLowerCase();return t.parentNode&&t.parentNode.tagName&&n-1!=0?e(t.parentNode,n-1)+" > "+i.toLowerCase()+r+o:i+r+o},T=function(){return"object"===("undefined"==typeof window?"undefined":f(window))&&window.document?window:void 0},E=function(){var e=y();try{if(e){var t=window.document.querySelector('meta[name="page-tag"]');if(t){var n=t.getAttribute("content")||"";return w(n,",")}}return{}}catch(e){return{}}},A=function(){for(var e=[],t=0;t<4;t++){var n=Math.floor(256*Math.random());e[t]=(n>15?"":"0")+n.toString(16)}return e.join("")},O=(k=1e3,function(){var e=A(),t=Date.now(),n=k,r=l(1),o=l(4);return k=k+1>1e4?1e3:k+1,e+t+n+r+o}),_=function(e){return e>Math.random()},C=function(e){var t={};return t="undefined"!=typeof PromiseRejectionEvent&&e instanceof PromiseRejectionEvent?function(e){if(e)try{var t="",n=0,r=0,o="",i="";"string"==typeof e?t=e:"object"===u(e.reason)?t=e.reason.message:"string"==typeof e.message&&(t=e.message);var a=e.reason;if("object"===u(a)){if("number"==typeof a.column?(r=a.column,n=a.line):a.stack&&(f=a.stack.match(/at\s+.+:(\d+):(\d+)/))&&(n=f[1],r=f[2]),a.sourceURL)o=a.sourceURL;else if(a.stack){var f;(f=a.stack.match(/at\s+(.+):\d+:\d+/))&&(o=f[1])}a.stack&&(i=a.stack)}return c({message:t,filename:o,lineno:n,colno:r,stack:i,error_type:e.constructor.name})}catch(e){}}(e)||{}:function(e,t,n,r,o){try{return c("string"==typeof e?{message:e,filename:t,lineno:n,colno:r,error:o}:e)}catch(e){}}(e)||{},t};t.default={shadowMerge:s,getRandomNum:l,uuid:d,ignoreFirstSpecialChara:p,checkWin:y,getUrl:m,getOriginUrl:g,getUrlHash:h,getUrlQuery:v,getSpmAB:b,toQueryParams:S,queryToObj:w,on:x,getSendInfo:j,getXPath:P,getWin:T,getPageMetaConfig:E,genRandomIp:A,genTraceId:O,checkSample:_,processError:C}}]).default},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"logMap",(function(){return r}));var r={perf:{fp:"p1",fcp:"p2",lcp:"p3",startTime:"p4",unloadEventStart:"p5",unloadEventEnd:"p6",redirectStart:"p7",redirectEnd:"p8",fetchStart:"p9",domainLookupStart:"p10",domainLookupEnd:"p11",connectStart:"p12",secureConnectionStart:"p13",connectEnd:"p14",requestStart:"p15",responseStart:"p16",responseEnd:"p17",domInteractive:"p18",domContentLoadedEventStart:"p19",domContentLoadedEventEnd:"p20",domComplete:"p21",loadEventStart:"p22",loadEventEnd:"p23"},error:{file:"p1",lineno:"p2",colno:"p3",stack:"p4",errType:"p5",errCode:"p6",stack1:"p7",stack2:"p8",stack3:"p9"},api:{api:"p1",success:"p2",httpCode:"p3",code:"p4",time:"p5",traceId:"p6",params:"p7",response:"p8",header:"p9",requestType:"p10",method:"p11"},event:{id:"p1",eventType:"p2",xpath:"p3",success:"p4",time:"p5"},form:{formKey:"p1",feature:"p2",errors:"p3",status:"p4",fieldId:"p5",fieldLabel:"p6",url:"p7",submitCount:"p8",totalTime:"p9",pureTime:"p10",leaveTime:"p11",leaveCount:"p12",idleTime:"p13",idleCount:"p14",uuid:"p15",comps:"p16"},speed:{t1:"p1",t2:"p2",t3:"p3",t4:"p4",t5:"p5",t6:"p6",t7:"p7",t8:"p8",t9:"p9",t10:"p10"},calc:{method:"p1",key:"p2",value:"p3"}};t.default=r}]).default},function(e,t,n){
/**
 * @preserve
 * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
 *
 * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
 * @see http://github.com/homebrewing/brauhaus-diff
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 */
!function(){var t;function n(e,r){var o=this instanceof n?this:t;if(o.reset(r),"string"==typeof e&&e.length>0&&o.hash(e),o!==this)return o}n.prototype.hash=function(e){var t,n,r,o,i;switch(i=e.length,this.len+=i,n=this.k1,r=0,this.rem){case 0:n^=i>r?65535&e.charCodeAt(r++):0;case 1:n^=i>r?(65535&e.charCodeAt(r++))<<8:0;case 2:n^=i>r?(65535&e.charCodeAt(r++))<<16:0;case 3:n^=i>r?(255&e.charCodeAt(r))<<24:0,n^=i>r?(65280&e.charCodeAt(r++))>>8:0}if(this.rem=i+this.rem&3,(i-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=n=13715*(n=(n=11601*n+3432906752*(65535&n)&4294967295)<<15|n>>>17)+461832192*(65535&n)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(r>=i);)n=65535&e.charCodeAt(r++)^(65535&e.charCodeAt(r++))<<8^(65535&e.charCodeAt(r++))<<16,n^=(255&(o=e.charCodeAt(r++)))<<24^(65280&o)>>8;switch(n=0,this.rem){case 3:n^=(65535&e.charCodeAt(r+2))<<16;case 2:n^=(65535&e.charCodeAt(r+1))<<8;case 1:n^=65535&e.charCodeAt(r)}this.h1=t}return this.k1=n,this},n.prototype.result=function(){var e,t;return e=this.k1,t=this.h1,e>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},n.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new n,e.exports=n}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n(0);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return"[object Array]"==={}.toString.call(e)}var c=function(e,t){var n=i(e.split("?"),2),r=n[0],o=n[1],u="?";return!e.includes("?")&&e.includes("http")?e:(e.includes("?")||(r="",o=e,u=""),"".concat(r).concat(u).concat(function(e,t){if(!e)return"";t=t||[];var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r);var o=[];n=n.sort();for(var i=0;i<n.length;++i){for(var u=e[r=n[i]],a=!1,c=0;c<t.length;++c)if(t[c]===r){a=!0;break}a||(u?o.push(encodeURIComponent(r)+"="+encodeURIComponent(String(u).slice(0,512))):o.push(encodeURIComponent(r)))}return o.join("&")}(function(e){var t={};if("string"!=typeof e)return t;if(!(e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"").replace(/^(\?|#|&)/,"")))return t;for(var n=e.split("&"),r=0;r<n.length;++r){var o=n[r].replace(/\+/g," ").split("="),i=o.shift()||"",u=o.length>0?o.join("="):"";i=decodeURIComponent(i),u=decodeURIComponent(u),t[i]?a(t[i])?t[i].push(u):t[i]=[t[i],u]:t[i]=u}return t}(o),t)))},f=n(1),s=n.n(f),l=n(2),d=n.n(l);function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var v=["wrapperHooksFunc","addPlugin","executeHooks","install"],b=(new Date).getTime(),S=function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=[],this.pipe=[],this.setConfig=function(e){i.config=r.shadowMerge(i.config,e)},this.getConfig=function(e){if("string"==typeof e)return i.config[e];if("object"===h(e)){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o]=i.config[o]}}catch(e){r.e(e)}finally{r.f()}return n}return i.config},this.generateRandomId=function(){return d()(r.getUrl()+r.uuid()+(new Date).getTime()).result()},this.generatePvId=function(){var e=i.generateRandomId();return i.setConfig({pvId:e}),e},this.generateSid=function(){var e=i.generateRandomId();return i.setConfig({sid:e}),e},this.generateUid=function(){var e=i.getUidFromCookie()||"";return i.setConfig({uid:e}),e},this.getUidFromCookie=function(){return""},this.before=function(e,t){var n="function"==typeof e?e:i[e];"function"==typeof n?Array.isArray(n.prototype.beforeHooks)?n.prototype.beforeHooks.push(t):n.prototype.beforeHooks=[t]:console.warn("currentFunc不是Core的方法")},this.after=function(e,t){var n="function"==typeof e?e:i[e];"function"==typeof n?Array.isArray(n.prototype.afterHooks)?n.prototype.afterHooks.push(t):n.prototype.afterHooks=[t]:console.warn("currentFunc不是Core的方法")},this.processSendData=function(e){var t={},n=r.getSpmAB(),u=i.config,a=u.pvId,f=u.uid,s=u.env,l=void 0===s?"prod":s,d=u.sid,p=u.version,m=u.grey,g=u.ignoredQueries,v=void 0===g?[]:g;a||(a=i.generatePvId()),d||(d=i.generateSid()),f||(f=i.generateUid()),t.pid=i.config.pid,t.ua="object"===("undefined"==typeof navigator?"undefined":h(navigator))&&navigator?navigator.userAgent:"",t.uid=f,t.username=i.config.username||"",t.spm_a=n.a,t.spm_b=n.b,t.pv_id=a,t.sid=d,t.env=l,t.version=p,t.grey=m,t.delay=parseFloat((((new Date).getTime()-b)/1e3).toFixed(2));var S=function(e,t){var n=r.getWin(),i={};if(n&&"onload"in n){var u=(n.navigator||{}).connection||{};i.url="function"==typeof t.getUrl?t.getUrl():c(r.getUrl(),e),i.origin_url=c(r.getOriginUrl(),e),i.referrer=c(document.referrer,e),i.title=document.title,i.hash=r.getUrlHash(),i.query=c(r.getUrlQuery(),e),i.dpr=n.devicePixelRatio||1,i.sr="object"===("undefined"==typeof screen?"undefined":o(screen))&&"x"+screen.height||"",i.net_type=u.effectiveType||u.type||""}return i}(v,i.config);for(var w in i.config)if(/^c[1-9]0?$/.test(w)){var x=w;t[x]=i.config[x]}t=y(S,t);var j=r.shadowMerge(t,e);for(var k in j)void 0===j[k]&&(j[k]="");return j},this.checkRequiredFields=function(e){var t;return null===(t=i.config.requiredFields)||void 0===t?void 0:t.every((function(t){return void 0!==e[t]}))},this.sendAll=function(){for(var e=i.queue,t=e.length;t>0;){var n=e[--t],r=i.processSendData(n);i.checkRequiredFields(r)&&(e.splice(t,1),i.send(r))}},this.send=function(e){console.warn("[ARMS WARN]没有对应的发送方法")},this.log=function(e){var t=i.config,n=t.sampling,r=void 0===n?1:n,o=t.enableSend,u=void 0===o||o;if("object"!==h(e))return console.warn("data类型需要object");if(!1!==u){var a="number"==typeof e.sampling?e.sampling:1,c=a<1?a:r;Math.random()>c||(e.times=c<1&&c>0?Math.floor(1/c):1,i.queue.push(e),i.sendAll())}},this.transformLogParam=function(e,t){var n=t;n.type=e;var r=s.a[e];for(var o in r){var i=r[o];n[i]=n[o],i!==o&&delete n[o]}return n},this.logError=function(e,t){try{var n=r.processError(e)||{},o=n;"object"===h(t)&&(n=y(n,t));var u=i.transformLogParam("error",o);i.log(u)}catch(e){}},this.logPerf=function(e){try{var t=i.transformLogParam("perf",e);i.log(t)}catch(e){}},this.logPv=function(e){try{e?(!1!==e.changePage&&i.generatePvId(),delete e.changePage):e||i.generatePvId();var t=i.transformLogParam("pv",e||{});i.log(t)}catch(e){}},this.logApi=function(e){try{!e.api&&e.url&&(e.api=e.url);var t=i.transformLogParam("api",e);void 0===t.p2&&(t.p2=e.success),void 0===t.p10&&(t.p10="xhr"),i.log(t)}catch(e){}},this.logEvent=function(e){try{var t=i.transformLogParam("event",e);i.log(t)}catch(e){}},this.logSpeed=function(e){try{var t=i.transformLogParam("speed",e);i.log(t)}catch(e){}},this.logCalc=function(e){try{var t=i.transformLogParam("calc",e);i.log(t)}catch(e){}},this.logForm=function(e){try{var t=i.transformLogParam("form",e);i.log(t)}catch(e){}},this.logCustom=function(e){try{i.log(y({type:"custom"},e))}catch(e){}},this.logBlankScreen=function(e){try{var t=i.transformLogParam("blankScreen",e||{});i.log(t)}catch(e){}},this.addPlugin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.apply(i,[i,t])},this.executeHooks=function(e){if(0!==e.length){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return 0===(arguments.length>2?arguments[2]:void 0)?t.apply(void 0,p(e)):t(e)}),n)}},this.wrapperHooksFunc=function(e){var t=function t(){for(var n=t.prototype.beforeHooks||[],r=t.prototype.afterHooks||[],o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];var c=i.executeHooks.apply(i,[n].concat(u)),f=e.apply(void 0,u.concat([c])),s=i.executeHooks.apply(i,[r].concat(u,[f]));return r?f:s};return t.prototype.beforeHooks=[],t.prototype.afterHooks=[],t},this.sendPipe=function(){var e=i.pipe;if(Array.isArray(e))try{if("string"==typeof e[0]){var t=e.shift(),n=t&&i[t];"function"==typeof n&&n.apply(i,e)}else for(;e.length;){var r=e.shift(),o=r.shift(),u=o&&i[o];"function"==typeof u&&u.apply(i,r)}}catch(e){console.warn("[ARMS WARN]sendPipe错误：",e)}},this.install=function(){for(var e in i){var t=i[e];"function"==typeof t&&-1===v.indexOf(e)&&(i[e]=i.wrapperHooksFunc(t))}for(var n=i.config.plugins||[],r=0;r<n.length;r++){var o=n[r];i.addPlugin(o[0],o[1])}Array.isArray(i.pipe)&&i.pipe.length&&i.sendPipe()};var u=r.getPageMetaConfig(),a=r.shadowMerge({requiredFields:[],sampling:1},u);this.config=r.shadowMerge(a,t),n&&(this.pipe=n)}}]).default},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e,t){if(e&&"object"===("undefined"==typeof window?"undefined":r(window))&&window){var n=t||{},i=n.ignoreErrors,u=n.enableAllRejection,a=void 0!==u&&u,c=function(t){if("object"===r(t)&&t&&(!Array.isArray(i)||!o.ignoreByRule(t.message,t,i)&&!o.ignoreByRule(o.decode(t.message),t,i))){var n=t.type;if("error"===n){var u=t.target||t.srcElement;if(u&&u.tagName&&!t.message&&!t.filename&&!t.lineno&&!t.colno)return;e.logError(t)}else if("unhandledrejection"===n){if(a)return t.message=t.message||t.reason||"",void e.logError(t);o.isType(t.reason,"Error")&&o.checkAutoError(t.reason)&&e.logError(t)}}};return o.on(window,"error",c),o.on(window,"unhandledrejection",c),c}};"object"===("undefined"==typeof window?"undefined":r(window))&&window&&(window.TraceJSErrorPlugin=i),t.default=i},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n=Object.prototype.toString.call(e).substring(8).replace("]","");return t?n===t:n}function i(e,t,n){if("function"!=typeof e)return n;try{return e.apply(this,t)}catch(e){return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.ignoreByRule=t.checkAutoError=t.isType=t.on=t.win=void 0,t.win="object"===("undefined"==typeof window?"undefined":r(window))&&window.document?window:void 0,t.on=function(e,t,n,r,o){return e.addEventListener?(o=o||!1,e.addEventListener(t,(function i(u){r&&e.removeEventListener(t,i,o),n.call(this,u)}),o)):e.attachEvent&&e.attachEvent("on"+t,(function o(i){r&&e.detachEvent("on"+t,o),n.call(this,i)})),this},t.isType=o,t.checkAutoError=function(e){return!(!e||!e.message||/failed[\w\s]+fetch/i.test(e.message))},t.ignoreByRule=function(e,t,n){if(!e||!n)return!1;if(("String"===o(n)||n.source||"Function"===o(n))&&(n=[n]),"Array"!==o(n))return console.warn("[arms] invalid rules of ignore config, (list of) String/RegExp/Funcitons are available"),!1;for(var r,u=[],a=0,c=n.length;a<c;a++)if("String"===o(r=n[a]))u.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"));else if(r&&r.source)u.push(r.source);else if(r&&"Function"===o(r)&&!0===i(r,[e,t],!1))return!0;var f=new RegExp(u.join("|"),"i");return!!(u.length&&f.test&&f.test(e))},t.decode=function(e){try{e=decodeURIComponent(e)}catch(e){}return e}}]).default},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(0),u=("https://gm.mmstat.com".concat("/arms.1.1"),"arms_uid");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var f,s=function(){var e;if("object"===("undefined"==typeof document?"undefined":a(document)))try{if(e=new RegExp("arms_uid=([^;]+)").exec(document.cookie))return e[1]||"";var t=c();return document.cookie="".concat(u,"=").concat(t,"; max-age=").concat(15552e3),t}catch(e){return""}return""},l=function(){var e,t="object"===("undefined"==typeof wx?"undefined":a(wx))&&wx||"object"===("undefined"==typeof my?"undefined":a(my))&&my||"object"===("undefined"==typeof dd?"undefined":a(dd))&&dd;if(t&&"function"==typeof t.getStorageSync)try{var n="object"===("undefined"==typeof wx?"undefined":a(wx))?t.getStorageSync(u):null===(e=t.getStorageSync({key:u}))||void 0===e?void 0:e.data;if(n&&"string"==typeof n)return n;if("function"==typeof t.setStorageSync)return n=c(),"object"===("undefined"==typeof wx?"undefined":a(wx))?t.setStorageSync(u,n):t.setStorageSync({key:u,data:n}),n}catch(e){return""}return""},d=n(2),p=n.n(d);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var m="1.3.0";t.default=function(e,t){var n=i.shadowMerge({useSendBeacon:!0,errorEnable:!0,ignoreErrors:[],enableAllRejection:!1},e),r=n.plugins||[];if(!0===n.errorEnable&&r.push([p.a,{ignoreErrors:n.ignoreErrors,enableAllRejection:n.enableAllRejection}]),n.plugins=r,f)return f;var u=new o.a(n,t);f=u;var a="object"===("undefined"==typeof wx?"undefined":y(wx))&&wx||"object"===("undefined"==typeof my?"undefined":y(my))&&my||"object"===("undefined"==typeof dd?"undefined":y(dd))&&dd,c=1;try{c=function(e){if("function"==typeof e){var t=/[^(]+\(([^)]*)?\)/gm.exec(Function.prototype.toString.call(e));return t&&t[1]?t[1].length:0}return 0}(a.request)}catch(e){console.error(e)}return a&&"function"==typeof a.request&&c&&c>0?(u.getUidFromCookie=l,u.send=function(t){t.sdk_version=m;var n=i.getSendInfo(t.type,e.aplusUrl).APLUS_URL,r=i.toQueryParams(t,!0);a.request({url:n,data:JSON.stringify({gmkey:"OTHER",gokey:r,logtype:"2"}),method:"post",dataType:"base64",header:{"content-type":"application/json"},success:function(e){}})}):n.useSendBeacon&&"object"===("undefined"==typeof navigator?"undefined":y(navigator))&&"function"==typeof navigator.sendBeacon?(u.getUidFromCookie=s,u.send=function(t){t.sdk_version=m;var n=i.getSendInfo(t.type,e.aplusUrl).APLUS_URL,r=i.toQueryParams(t,!0);navigator.sendBeacon(n,JSON.stringify({gmkey:"OTHER",gokey:r,logtype:"2"}))}):"object"===("undefined"==typeof window?"undefined":y(window))&&window&&"object"===("undefined"==typeof document?"undefined":y(document))&&document&&(u.getUidFromCookie=s,u.send=function(t){t.sdk_version=m;var n=i.getSendInfo(t.type,e.aplusUrl).APLUS_URL,r=i.toQueryParams(t,!1);(new Image).src=n+"?"+r}),u}}]).default}));!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TraceResourceErrorPlugin=e():t.TraceResourceErrorPlugin=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";(function(t){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return c}));var o=/^\s*at .*? ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::\d+)?(?::\d+)?\)?\s*$/i,i=/^\s*.*?(?:\(.*?\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::\d+)?(?::\d+)?\s*$/i,u=/^\s*at (?:(?:\[object object\])?.+ )?\(?((?:file|ms-appx|https?|blob):.*?):\d+(?::\d+)?\)?\s*$/i;function c(t){for(var e=(t&&t.stack||"").split("\n"),n=["","",""],r={},c=0;c<e.length;c++){var a=o,f=(e[c]||"").match(a);if(null===f&&(a=i,f=(e[c]||"").match(a)),null===f&&(a=u,f=(e[c]||"").match(a)),null!==f){var l=f[1],s=r[l];void 0===s&&(r[l]="#"+c+"#",s=r[l]),e[c]=e[c].replace(l,s)}}if(e.length>0){e.shift();var d="";for(c=0;d.length+(e[c]||"").length<4096&&c<e.length;)d+=e[c]+"\n",c++;n[1]=d;for(var p="";p.length+(e[c]||"").length<4096&&c<e.length;)p+=e[c]+"\n",c++;n[2]=p}var m="";for(l in r)r.hasOwnProperty(l)&&(m+=l+"@"+r[l]+";");return m=m.replace(/;$/,""),n[0]=m,n}void 0===t||r(t)}).call(this,n(1))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var a,f=[],l=!1,s=-1;function d(){l&&a&&(l=!1,a.length?f=a.concat(f):s=-1,f.length&&p())}function p(){if(!l){var t=c(d);l=!0;for(var e=f.length;e;){for(a=f,f=[];++s<e;)a&&a[s].run();s=-1,e=f.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new m(t,e)),1!==f.length||l||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e),n.d(e,"shadowMerge",(function(){return l})),n.d(e,"getRandomNum",(function(){return s})),n.d(e,"uuid",(function(){return d})),n.d(e,"ignoreFirstSpecialChara",(function(){return p})),n.d(e,"checkWin",(function(){return m})),n.d(e,"getUrl",(function(){return g})),n.d(e,"getOriginUrl",(function(){return y})),n.d(e,"getUrlHash",(function(){return h})),n.d(e,"getUrlQuery",(function(){return v})),n.d(e,"getSpmAB",(function(){return b})),n.d(e,"toQueryParams",(function(){return w})),n.d(e,"queryToObj",(function(){return x})),n.d(e,"on",(function(){return S})),n.d(e,"getSendInfo",(function(){return j})),n.d(e,"getXPath",(function(){return P})),n.d(e,"getWin",(function(){return O})),n.d(e,"getPageMetaConfig",(function(){return k})),n.d(e,"genRandomIp",(function(){return L})),n.d(e,"genTraceId",(function(){return M})),n.d(e,"checkSample",(function(){return _})),n.d(e,"processError",(function(){return E}));var r="/arms.1.1",o="/arms.1.2",i=("https://gm.mmstat.com".concat(r),"https://gm.mmstat.com".concat(o),n(0));function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t){var e=t.message.match(/Uncaught (\w+):/);return e&&e[1]?e[1]:t.error_type?t.error_type:t.name?t.name:""}function a(t){var e=t.message,n=void 0===e?"":e,r=t.lineno,o=t.colno,u=t.stack,a=t.error,f=Object(i.a)(a&&a.stack||u)||["","",""];return{msg:n||t.msg||"",lineno:r,colno:o,file:t.filename||t.file||"",stack:a&&a.stack||u,stack1:f[0],stack2:f[1],stack3:f[2],errType:t.errType||c(t)||"",errCode:t.errCode||t.error_code}}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}var l=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};function s(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=[],r=0;r<t;r++){var o=Math.floor(Math.random()*e);n[r]=o.toString(e)}return n.join("")}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}var p=function(t){return"string"==typeof t?t.replace(/^\?|#/,""):""},m=function(){return!("object"!==("undefined"==typeof window?"undefined":f(window))||!window.document)},g=function(){return m()?window.location.href.split("?")[0]:""},y=function(){return m()?window.location.href:""},h=function(){return m()?p(window.location.hash):""},v=function(){return m()?p(window.location.search):""},b=function(){if(!m())return{a:"",b:""};var t=window.goldlog,e=(null==t?void 0:t.spm_ab)||(null==t?void 0:t.spmAb)||[];return{a:e[0]||"",b:e[1]||""}},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];for(var r in t){var o=t[r],i="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e?encodeURIComponent(o):String(o).slice(0,512)));n.push(i)}return n.join("&")},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n={};return t.split(e).forEach((function(t){var e=t.split("="),r=e[0];n[r]=e[1]})),n};function S(t,e,n,r,o){return t.addEventListener?(o=o||!1,t.addEventListener(e,(function i(u){r&&t.removeEventListener(e,i,o),n.call(this,u)}),o)):t.attachEvent&&t.attachEvent("on"+e,(function o(i){r&&t.detachEvent("on"+e,o),n.call(this,i)})),this}function j(t,e){var n="perf"===t?o:r;return{APLUS_LOGKEY:n,APLUS_URL:"https://".concat(e&&"string"==typeof e?e:"gm.mmstat.com").concat(n)}}var T,P=function t(e,n){var r=e.id?"#"+e.id:"",o=e.className&&e.className.split?"."+e.className.split(" ").join("."):"",i=e.tagName.toLowerCase();return e.parentNode&&e.parentNode.tagName&&n-1!=0?t(e.parentNode,n-1)+" > "+i.toLowerCase()+r+o:i+r+o},O=function(){return"object"===("undefined"==typeof window?"undefined":f(window))&&window.document?window:void 0},k=function(){var t=m();try{if(t){var e=window.document.querySelector('meta[name="page-tag"]');if(e){var n=e.getAttribute("content")||"";return x(n,",")}}return{}}catch(t){return{}}},L=function(){for(var t=[],e=0;e<4;e++){var n=Math.floor(256*Math.random());t[e]=(n>15?"":"0")+n.toString(16)}return t.join("")},M=(T=1e3,function(){var t=L(),e=Date.now(),n=T,r=s(1),o=s(4);return T=T+1>1e4?1e3:T+1,t+e+n+r+o}),_=function(t){return t>Math.random()},E=function(t){var e={};return e="undefined"!=typeof PromiseRejectionEvent&&t instanceof PromiseRejectionEvent?function(t){if(t)try{var e="",n=0,r=0,o="",i="";"string"==typeof t?e=t:"object"===u(t.reason)?e=t.reason.message:"string"==typeof t.message&&(e=t.message);var c=t.reason;if("object"===u(c)){if("number"==typeof c.column?(r=c.column,n=c.line):c.stack&&(f=c.stack.match(/at\s+.+:(\d+):(\d+)/))&&(n=f[1],r=f[2]),c.sourceURL)o=c.sourceURL;else if(c.stack){var f;(f=c.stack.match(/at\s+(.+):\d+:\d+/))&&(o=f[1])}c.stack&&(i=c.stack)}return a({message:e,filename:o,lineno:n,colno:r,stack:i,error_type:t.constructor.name})}catch(t){}}(t)||{}:function(t,e,n,r,o){try{return a("string"==typeof t?{message:t,filename:e,lineno:n,colno:r,error:o}:t)}catch(t){}}(t)||{},e};e.default={shadowMerge:l,getRandomNum:s,uuid:d,ignoreFirstSpecialChara:p,checkWin:m,getUrl:g,getOriginUrl:y,getUrlHash:h,getUrlQuery:v,getSpmAB:b,toQueryParams:w,queryToObj:x,on:S,getSendInfo:j,getXPath:P,getWin:O,getPageMetaConfig:k,genRandomIp:L,genTraceId:M,checkSample:_,processError:E}}]).default},function(t,e,n){"use strict";n.r(e);var r=n(0),o=function(t,e){r.on(window,"error",(function(e){if(!(!e.target.tagName||e.message||e.filename||e.lineno||e.colno)){var n=e.target,o=function(t){var e=t.src||t.href;if(void 0===e){var n="object"===t.tagName.toLowerCase(),r="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"===t.getAttribute("classid")||"application/x-shockwave-flash"===t.getAttribute("type");n&&r&&(e=t.getAttribute("data")||t.getAttribute("codebase")),void 0===e&&(e=t.outerHTML||t.innerHTML)}return e}(e.target),i=n.tagName.toLowerCase();t.log({type:"resource_error",msg:"".concat(o," 资源报错"),p1:i,p2:r.getXPath(n,5)})}}),!1,!0)};window.TraceResourceErrorPlugin=o,e.default=o}]).default}));!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.TracePerfPlugin=n():e.TracePerfPlugin=n()}(this,(function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),a=function(e,n,t){var a=this;this.getNavigationTiming=function(){var e,n,t;if((null===window||void 0===window?void 0:window.PerformanceNavigationTiming)&&(null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.getEntriesByType)){var o=performance.getEntriesByType("navigation");Array.isArray(o)&&(t=o[0])}"object"===i(t)&&t||!(null===(n=null===window||void 0===window?void 0:window.performance)||void 0===n?void 0:n.timing)||(t=window.performance.timing);var a={};return"object"===i(t)&&t&&r.perfKeys.forEach((function(e){a[e]="startTime"===e?"number"==typeof t[e]?t[e]:t.navigationStart:t[e]})),a},this.getPaintTiming=function(){var e;try{if(window.PerformanceNavigationTiming&&(null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.getEntriesByType)){var n=performance.getEntriesByType("paint")||[],t=n.filter((function(e){return"first-paint"===e.name}))[0],o=t&&t.startTime||0,i=n.filter((function(e){return"first-contentful-paint"===e.name}))[0];return{fp:o,fcp:i&&i.startTime||0}}}catch(e){return a.logError&&a.logError(e,{pid:"plat-test-arms-dev"}),{fp:0,fcp:0}}},this.getConnection=function(){var e,n={},t=null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.connection;return"object"===i(t)&&t&&(n={net_type:t.effectiveType||t.type||"",downlink:t.downlink||t.downlinkMax||t.bandwidth||""}),n},this.getCommonTiming=function(){return o({},a.getNavigationTiming(),a.getPaintTiming(),a.getConnection())},this.observeLCP=function(){try{var e;new PerformanceObserver((function(n){var t=n.getEntries(),o=t[t.length-1];e=o.renderTime||o.loadTime,a.lcpTime=e})).observe({type:"largest-contentful-paint",buffered:!0}),addEventListener("visibilitychange",(function n(){e&&document.hidden&&(a.sendTiming(),removeEventListener("visibilitychange",n,!0))}),!0)}catch(e){}},this.sendTiming=function(){if(!0!==a.enableLCP&&!1===a.hasSendPerf&&a.commonTimes)return a.logPerf(a.commonTimes),void(a.hasSendPerf=!0);if("object"===i(a.commonTimes)&&!1===a.hasSendPerf&&"number"==typeof a.lcpTime){var e=o({},a.commonTimes,{lcp:a.lcpTime});a.logPerf(e),a.hasSendPerf=!0}},this.init=function(){var e;e=function(){var e=a.getCommonTiming();a.commonTimes=e,!0!==a.enableLCP&&a.sendTiming()},"complete"===document.readyState?setTimeout(e):window.addEventListener("load",(function(){return setTimeout(e)})),!0===a.enableLCP&&a.observeLCP()},this.hasSendPerf=!1,this.enableLCP=e,this.logPerf=n,this.commonTimes=null,this.lcpTime=null,this.logError=t},c=function(e,n){if(void 0===n&&(n={}),e&&window&&"function"==typeof e.logPerf)try{new a(n.enableLCP,e.logPerf,e.logError).init()}catch(e){console.warn(e)}};window.TracePerfPlugin=c,n.default=c},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.perfKeys=void 0,n.perfKeys=["startTime","unloadEventStart","unloadEventEnd","redirectStart","responseEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","redirectEnd","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"]}]).default}));!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TracePvPlugin=e():t.TracePvPlugin=e()}(this,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),r=function(t,e){if(void 0===e&&(e={}),t&&window){var o,r=e.autoPV,i=void 0===r||r,a=e.enableHash,u=void 0!==a&&a,f=e.enableHistory,c=void 0!==f&&f;i&&(o=function(){t.logPv({changePage:!1})},"complete"===document.readyState?setTimeout(o):window.addEventListener("load",(function(){return setTimeout(o)}))),i&&u&&n.bindHashChange(t),i&&c&&n.hookHistory(t)}};window.TracePvPlugin=r,e.default=r},function(t,e,o){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.hookHistory=e.bindHashChange=e.on=void 0;var r=window;e.on=function(t,e,o,n,r){t.addEventListener?(r=r||!1,t.addEventListener(e,(function i(a){n&&t.removeEventListener(e,i,r),o.call(this,a)}),r)):t.attachEvent&&t.attachEvent("on"+e,(function r(i){n&&t.detachEvent("on"+e,r),o.call(this,i)}))},e.bindHashChange=function(t){if(r){if(t.hasBindHash)return t;e.on(r,"hashchange",(function(){var e=location&&location.hash;e&&t.setConfig({page:e}),e&&t.logPv()})),t.hasBindHash=!0}},e.hookHistory=function(t){if(r&&r.history&&"object"===n(r.history)&&!t.hasHookHistory)try{var e=r.onpopstate;if(r.onpopstate=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];if(t.logPv(),"function"==typeof e)return e.apply(this,o)},r.history&&"function"==typeof r.history.pushState){var o=r.history.pushState;r.history.pushState=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.logPv(),o.apply(this,e)}}if(r.history&&"function"==typeof r.history.replaceState){var i=r.history.replaceState;r.history.replaceState=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.logPv(),i.apply(this,e)}}t.hasHookHistory=!0}catch(t){console.warn("[ARMS]] error in hookHistory",t)}}}]).default}));!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TraceApiPlugin=t():e.TraceApiPlugin=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";(function(e){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return u}));var o=/^\s*at .*? ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::\d+)?(?::\d+)?\)?\s*$/i,i=/^\s*.*?(?:\(.*?\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::\d+)?(?::\d+)?\s*$/i,a=/^\s*at (?:(?:\[object object\])?.+ )?\(?((?:file|ms-appx|https?|blob):.*?):\d+(?::\d+)?\)?\s*$/i;function u(e){for(var t=(e&&e.stack||"").split("\n"),n=["","",""],r={},u=0;u<t.length;u++){var c=o,s=(t[u]||"").match(c);if(null===s&&(c=i,s=(t[u]||"").match(c)),null===s&&(c=a,s=(t[u]||"").match(c)),null!==s){var f=s[1],l=r[f];void 0===l&&(r[f]="#"+u+"#",l=r[f]),t[u]=t[u].replace(f,l)}}if(t.length>0){t.shift();var d="";for(u=0;d.length+(t[u]||"").length<4096&&u<t.length;)d+=t[u]+"\n",u++;n[1]=d;for(var p="";p.length+(t[u]||"").length<4096&&u<t.length;)p+=t[u]+"\n",u++;n[2]=p}var m="";for(f in r)r.hasOwnProperty(f)&&(m+=f+"@"+r[f]+";");return m=m.replace(/;$/,""),n[0]=m,n}void 0===e||r(e)}).call(this,n(1))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"shadowMerge",(function(){return f})),n.d(t,"getRandomNum",(function(){return l})),n.d(t,"uuid",(function(){return d})),n.d(t,"ignoreFirstSpecialChara",(function(){return p})),n.d(t,"checkWin",(function(){return m})),n.d(t,"getUrl",(function(){return y})),n.d(t,"getOriginUrl",(function(){return g})),n.d(t,"getUrlHash",(function(){return v})),n.d(t,"getUrlQuery",(function(){return h})),n.d(t,"getSpmAB",(function(){return b})),n.d(t,"toQueryParams",(function(){return w})),n.d(t,"queryToObj",(function(){return S})),n.d(t,"on",(function(){return x})),n.d(t,"getSendInfo",(function(){return T})),n.d(t,"getXPath",(function(){return j})),n.d(t,"getWin",(function(){return O})),n.d(t,"getPageMetaConfig",(function(){return E})),n.d(t,"genRandomIp",(function(){return C})),n.d(t,"genTraceId",(function(){return I})),n.d(t,"checkSample",(function(){return P})),n.d(t,"processError",(function(){return M}));var r="/arms.1.1",o="/arms.1.2",i=("https://gm.mmstat.com".concat(r),"https://gm.mmstat.com".concat(o),n(0));function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e){var t=e.message.match(/Uncaught (\w+):/);return t&&t[1]?t[1]:e.error_type?e.error_type:e.name?e.name:""}function c(e){var t=e.message,n=void 0===t?"":t,r=e.lineno,o=e.colno,a=e.stack,c=e.error,s=Object(i.a)(c&&c.stack||a)||["","",""];return{msg:n||e.msg||"",lineno:r,colno:o,file:e.filename||e.file||"",stack:c&&c.stack||a,stack1:s[0],stack2:s[1],stack3:s[2],errType:e.errType||u(e)||"",errCode:e.errCode||e.error_code}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var f=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};function l(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=[],r=0;r<e;r++){var o=Math.floor(Math.random()*t);n[r]=o.toString(t)}return n.join("")}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var p=function(e){return"string"==typeof e?e.replace(/^\?|#/,""):""},m=function(){return!("object"!==("undefined"==typeof window?"undefined":s(window))||!window.document)},y=function(){return m()?window.location.href.split("?")[0]:""},g=function(){return m()?window.location.href:""},v=function(){return m()?p(window.location.hash):""},h=function(){return m()?p(window.location.search):""},b=function(){if(!m())return{a:"",b:""};var e=window.goldlog,t=(null==e?void 0:e.spm_ab)||(null==e?void 0:e.spmAb)||[];return{a:t[0]||"",b:t[1]||""}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];for(var r in e){var o=e[r],i="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t?encodeURIComponent(o):String(o).slice(0,512)));n.push(i)}return n.join("&")},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n={};return e.split(t).forEach((function(e){var t=e.split("="),r=t[0];n[r]=t[1]})),n};function x(e,t,n,r,o){return e.addEventListener?(o=o||!1,e.addEventListener(t,(function i(a){r&&e.removeEventListener(t,i,o),n.call(this,a)}),o)):e.attachEvent&&e.attachEvent("on"+t,(function o(i){r&&e.detachEvent("on"+t,o),n.call(this,i)})),this}function T(e,t){var n="perf"===e?o:r;return{APLUS_LOGKEY:n,APLUS_URL:"https://".concat(t&&"string"==typeof t?t:"gm.mmstat.com").concat(n)}}var _,j=function e(t,n){var r=t.id?"#"+t.id:"",o=t.className&&t.className.split?"."+t.className.split(" ").join("."):"",i=t.tagName.toLowerCase();return t.parentNode&&t.parentNode.tagName&&n-1!=0?e(t.parentNode,n-1)+" > "+i.toLowerCase()+r+o:i+r+o},O=function(){return"object"===("undefined"==typeof window?"undefined":s(window))&&window.document?window:void 0},E=function(){var e=m();try{if(e){var t=window.document.querySelector('meta[name="page-tag"]');if(t){var n=t.getAttribute("content")||"";return S(n,",")}}return{}}catch(e){return{}}},C=function(){for(var e=[],t=0;t<4;t++){var n=Math.floor(256*Math.random());e[t]=(n>15?"":"0")+n.toString(16)}return e.join("")},I=(_=1e3,function(){var e=C(),t=Date.now(),n=_,r=l(1),o=l(4);return _=_+1>1e4?1e3:_+1,e+t+n+r+o}),P=function(e){return e>Math.random()},M=function(e){var t={};return t="undefined"!=typeof PromiseRejectionEvent&&e instanceof PromiseRejectionEvent?function(e){if(e)try{var t="",n=0,r=0,o="",i="";"string"==typeof e?t=e:"object"===a(e.reason)?t=e.reason.message:"string"==typeof e.message&&(t=e.message);var u=e.reason;if("object"===a(u)){if("number"==typeof u.column?(r=u.column,n=u.line):u.stack&&(s=u.stack.match(/at\s+.+:(\d+):(\d+)/))&&(n=s[1],r=s[2]),u.sourceURL)o=u.sourceURL;else if(u.stack){var s;(s=u.stack.match(/at\s+(.+):\d+:\d+/))&&(o=s[1])}u.stack&&(i=u.stack)}return c({message:t,filename:o,lineno:n,colno:r,stack:i,error_type:e.constructor.name})}catch(e){}}(e)||{}:function(e,t,n,r,o){try{return c("string"==typeof e?{message:e,filename:t,lineno:n,colno:r,error:o}:e)}catch(e){}}(e)||{},t};t.default={shadowMerge:f,getRandomNum:l,uuid:d,ignoreFirstSpecialChara:p,checkWin:m,getUrl:y,getOriginUrl:g,getUrlHash:v,getUrlQuery:h,getSpmAB:b,toQueryParams:w,queryToObj:S,on:x,getSendInfo:T,getXPath:j,getWin:O,getPageMetaConfig:E,genRandomIp:C,genTraceId:I,checkSample:P,processError:M}}]).default},function(e,t,n){"use strict";n.r(t),n.d(t,"traceApiPlugin",(function(){return l}));var r=n(0),o=n.n(r);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var n,r=t||{},a=r.disableSnapshot,u=r.sampling,c=void 0===u?1:u;window&&window.lib&&(window.lib.mtop&&window.lib.mtop.middlewares?window.lib.mtop.middlewares.push(s):Object.defineProperty(window.lib,"mtop",{set:function(e){var t;(n=e).middlewares?-1===n.middlewares.indexOf(s)&&n.middlewares.push(s):Object.defineProperty(n,"middlewares",{set:function(e){-1===(t=e).indexOf(s)&&t.push(s)},get:function(){return t}})},get:function(){return n}}));function s(n){var r=this.options,u=this.params,s=(new Date).getTime();return n().then((function(){var n,f,l=r.retJson.ret,d=(new Date).getTime()-s;l instanceof Array&&(l=l.join(","));var p,m,y,g,v=-1===l.indexOf("SUCCESS"),h=r.retJson.code||200,b=r.retJson.responseHeaders;if("string"==typeof b){var w=b.match(/(x-eagleeye-id|eagleeye-traceid):\s*([a-z0-9]+)/);w&&(p=w[2]);var S=b.match(/status:\s*(\d+)/);S&&(h=S[1])}if(l){var x=l.split("::");m=x[0],y=x[1]}try{g="function"==typeof(null==t?void 0:t.evaluate)?t.evaluate(l,l,"mtop",r):{}}catch(e){console.error(e)}var T=null===(n=r.postdata)||void 0===n?void 0:n.data,_=JSON.stringify((null===(f=r.retJson)||void 0===f?void 0:f.data)||{}),j={api:u.api,success:!v,msg:y,httpCode:h,code:m,time:d,traceId:p,params:!a||v?T:"",response:!a||v?_:"",requestType:"mtop",sampling:v||"number"!=typeof c?1:c};"object"===i(g)&&null!==g&&o.a.shadowMerge(j,g),e.logApi(j)})).catch((function(e){}))}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var c=[".bmp",".jpg",".png",".gif",".ogg",".mpeg4",".webm"],s=function(e,t,n){if(!e)return!1;var r="";try{r=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(e){r=""}var o=function(e,t){if(!t||!e)return!1;var n="//"+t.split("/")[2];return e===t||e.slice(0,t.length+1)===t+"/"||e===n||e.slice(0,n.length+1)===n+"/"||!/^(\/\/|http:|https:).*/.test(e)}(n,r);return t||o};function f(e){return"string"==typeof e}var l=function(e,t){var n=t||{},r=n.enableApiCors,i=void 0!==r&&r,l=n.enableTraceId,d=void 0!==l&&l,p=n.disableXhr,m=void 0!==p&&p,y=n.disableFetch,g=void 0!==y&&y,v=n.sampling,h=void 0===v?.5:v,b=n.disableMtop,w=void 0===b||b,S=(n.disableSnapshot,n.ignore),x=void 0===S?[]:S,T=o.a.getWin(),_=function(e){return"function"==typeof x?x(e):"function"==typeof x.some&&x.some((function(t){return"string"==typeof t?e.includes(t):"object"===u(t)&&"function"==typeof t.test&&t.test(e)}))};if(!m&&T){var j=T.XMLHttpRequest.prototype,O=j.open,E=j.send;j.open=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this,r=s(d,i,t),a=r?o.a.genTraceId():"";n.__recordInfo__={method:(e||"get").toUpperCase(),url:t,startTime:(new Date).getTime(),traceId:a},O.apply(this,arguments)},j.send=function(n){var r=this,i=r.__recordInfo__||{},a=i.traceId,s=void 0===a?"":a,f=i.url;if(!_(f)){s&&"function"==typeof r.setRequestHeader&&r.setRequestHeader("EagleEye-TraceID",s);var l=this.onreadystatechange,d=function(){var i,a,f;try{if(r.__recordInfo__&&4===r.readyState){var l="GET"===r.__recordInfo__.method,d=(null===(i=r.__recordInfo__)||void 0===i?void 0:i.url)||"";if(!w&&-1!==d.indexOf("api=")&&-1!==d.indexOf("v=")&&-1!==d.indexOf("jsv="))return;var p,m=d.split("?")[0]||"",y=d.split("?")[1],g=(new Date).getTime(),v=r.__recordInfo__.startTime,b=c.some((function(e){return m.includes(e)}));if(0===r.status)return;if(b)return;if("function"==typeof r.getResponseHeader){var S=r.getResponseHeader("Content-Type");if(S&&!/(text)|(json)/.test(S))return}p=l||!n?y:"object"===u(n)?JSON.stringify(n):n;var x=r.status>=200&&r.status<300,T={api:m,httpCode:r.status,success:x,params:p,time:"number"==typeof g&&"number"==typeof v?g-v:void 0,requestType:"xhr",method:l?"GET":"POST",sampling:x&&"number"==typeof h?h:1};if(s&&(T.traceId=s),"function"==typeof t.evaluate){if("[object Blob]"==={}.toString.call(r.response))return;var _;try{var j="string"==typeof r.response?JSON.parse(r.response):r.response;_=t.evaluate(j,r,"xhr",{method:r.__recordInfo__.method,url:d,data:n})}catch(e){}"object"===u(_)&&o.a.shadowMerge(T,_)}else try{var O=JSON.parse(r.response);T.errCode=O.errCode}catch(e){T.msg="response isn't type json"}e.logApi(T)}}catch(t){console.error(t),e.logCustom({pid:"arms-debug",p1:"11",c1:e.getConfig("pid"),c2:(null===(f=null===(a=r.__recordInfo__)||void 0===a?void 0:a.url)||void 0===f?void 0:f.split("?")[0])||""})}};r.onreadystatechange=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"function"==typeof l&&l.apply(r,t),d.apply(r)},this.__recordInfo__.startTime=(new Date).getTime()}E.call(this,n)}}if(!g){var C=null==T?void 0:T.fetch;C&&!(null==C?void 0:C.polyfill)&&(T.fetch=function(n,r){var a,l;try{var p,m,y,g,v=(new Date).getTime();f(n)?(p=n,m=(null==r?void 0:r.headers)||{},y=(null===(a=null==r?void 0:r.method)||void 0===a?void 0:a.toUpperCase())||"GET",g=null==r?void 0:r.mode):(p=n.url||"",m=n.headers||{},y=(null===(l=null==n?void 0:n.method)||void 0===l?void 0:l.toUpperCase())||"GET",g=null==n?void 0:n.mode);var b,w="GET"===y,S=s(d,i,p),x=S?o.a.genTraceId():"",T=p.split("?")[0]||"",j=p.split("?")[1]||"",O=c.some((function(e){return T.includes(e)}));if("HEAD"===y||"no-cors"===g||O||_(p))return C.call(this,n,r);b=w||!r?j:"object"===u(r)?JSON.stringify(r):r;var E={api:T,params:b,requestType:"fetch",method:w?"GET":"POST"};return S&&("function"==typeof m.set?m.set("EagleEye-TraceID",x):m["EagleEye-TraceID"]=x,f(n)&&(r||(r={}),r.headers=m)),C.call(this,n,r).then((function(i){try{var a=i.headers;if(a&&"function"==typeof a.get){var c=a.get("content-type");if(c&&!/(text)|(json)/.test(c))return i}i.clone().text().then((function(a){var c;try{c="function"==typeof(null==t?void 0:t.evaluate)?t.evaluate(a,i,"fetch",{input:n,data:r}):{}}catch(e){console.error(e)}var s=i.status>=200&&i.status<300,f=(new Date).getTime();x&&(E.traceId=x),E.httpCode=i.status,E.success=s,E.headers=JSON.stringify(i.headers),E.time="number"==typeof f&&"number"==typeof v?f-v:void 0,E.sampling=s&&"number"==typeof h?h:1,"object"===u(c)&&null!==c&&o.a.shadowMerge(E,c),e.logApi(E)}))}catch(t){e.logCustom({pid:"arms-debug",p1:"11",c1:e.getConfig("pid"),c2:T})}return i}))}catch(t){console.error(t),e.logCustom({pid:"arms-debug",p1:"11",c1:e.getConfig("pid")})}})}w||a(e,t)};t.default=l}]).default}));