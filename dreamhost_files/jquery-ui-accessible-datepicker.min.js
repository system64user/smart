(function(c,n){var g=c.datepicker._newInst,h=c.datepicker._updateDatepicker,k=c.datepicker._connectDatepicker,l=c.datepicker._showDatepicker,m=c.datepicker._hideDatepicker;c.extend(c.datepicker,{_newInst:function(a,b){var d=this,e=g.call(this,a,b);if(e.inline)e.dpDiv.on("keydown.datepicker",".ui-datepicker-calendar",function(a){if(-1!=c.inArray(a.keyCode,[13,33,34,35,36,37,38,39,40])){a.stopPropagation();a.preventDefault();e._hasfocus=!0;var b;switch(a.keyCode){case c.ui.keyCode.ENTER:(b=c("."+d._dayOverClass,
e.dpDiv).get(0)||c("."+d._currentClass,e.dpDiv).get(0))&&d._selectDay(e.input,e.selectedMonth,e.selectedYear,b);break;case c.ui.keyCode.PAGE_UP:d._adjustDate(e.input,-d._get(e,"stepMonths"),"M");break;case c.ui.keyCode.PAGE_DOWN:d._adjustDate(e.input,d._get(e,"stepMonths"),"M");break;default:return d._cursorKeydown(a,e)}}}).attr("role","region").attr("aria-labelledby",e.id+"-dp-title");else{var f=e.dpDiv.attr("id")||e.id+"-dp-widget";e.dpDiv.attr("id",f).attr("aria-hidden","true").attr("aria-labelledby",
e.id+"-dp-title");c(e.input).attr("aria-haspopup","true").attr("aria-expanded","false").attr("aria-owns",f)}return e},_connectDatepicker:function(a,b){k.call(this,a,b);var d=this;c(a).unbind("keydown.datepicker-extended").bind("keydown.datepicker-extended",function(e){var f=1;switch(e.keyCode){case 109:case 173:case 189:f=-1;case 61:case 107:case 187:if(this.value.length<d._formatDate(b,b.selectedDay,b.selectedMonth,b.selectedYear).length)return!0;d._adjustInstDate(b,f,"D");d._selectDateRC(a,d._formatDate(b,
b.selectedDay,b.selectedMonth,b.selectedYear));return!1;case c.ui.keyCode.UP:case c.ui.keyCode.DOWN:if(c.datepicker._lastInput!==a&&!c.datepicker._isDisabledDatepicker(a))return d._showDatepicker(e),e.stopPropagation(),e.preventDefault(),!1;default:if(!c.datepicker._isDisabledDatepicker(a)&&!e.ctrlKey&&!e.metaKey)return d._cursorKeydown(e,b)}}).click(function(a){d._showDatepicker(a)}).attr("autocomplete","off")},_cursorKeydown:function(a,b){b._keyEvent=!0;var d=b.dpDiv.hasClass("ui-datepicker-rtl");
switch(a.keyCode){case c.ui.keyCode.LEFT:this._adjustDate(b.input,d?1:-1,"D");break;case c.ui.keyCode.RIGHT:this._adjustDate(b.input,d?-1:1,"D");break;case c.ui.keyCode.UP:this._adjustDate(b.input,-7,"D");break;case c.ui.keyCode.DOWN:this._adjustDate(b.input,7,"D")}return!0},_showDatepicker:function(a){a=a.target||a;l.call(this,a);var b=c.datepicker._getInst(a);b&&c.datepicker._datepickerShowing&&(b.dpDiv.attr("aria-hidden","false"),c(a).attr("aria-expanded","true"))},_hideDatepicker:function(a){m.call(this,
a);if((a=this._curInst)&&!c.datepicker._datepickerShowing)a.dpDiv.attr("aria-hidden","true"),c(a.input).attr("aria-expanded","false")},_updateDatepicker:function(a){h.call(this,a);var b=c("."+this._dayOverClass,a.dpDiv).get(0)||c("."+this._currentClass,a.dpDiv).get(0);b&&(b=c(b),b.attr("id",a.id+"-day-"+b.text()));a.dpDiv.find(".ui-datepicker-calendar").attr("tabindex",a.inline?"0":"-1").attr("role","grid").attr("aria-readonly","true").attr("aria-activedescendant",b?b.attr("id"):"").find("td").attr("role",
"gridcell").attr("aria-selected","false").find("a").attr("tabindex","-1");c(".ui-datepicker-current-day",a.dpDiv).attr("aria-selected","true");a.dpDiv.find(".ui-datepicker-title").attr("id",a.id+"-dp-title");a._hasfocus&&(a.dpDiv.find(".ui-datepicker-calendar").focus(),a._hasfocus=!1)},_selectDateRC:function(a,b){var d=c(a),d=this._getInst(d[0]);b=null!=b?b:this._formatDate(d);d.input&&d.input.val(b);this._updateAlternate(d);d.input&&d.input.trigger("change");d.inline&&this._updateDatepicker(d)}})})(jQuery);
