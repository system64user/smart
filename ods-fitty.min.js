function q(){import("data:text/javascript,")}var T=function(i){if(i){var r=function(t){return[].slice.call(t)},s=0,l=1,n=2,c=3,a=[],p=null,d="requestAnimationFrame"in i?function(){i.cancelAnimationFrame(p),p=i.requestAnimationFrame(function(){return m(a.filter(function(t){return t.dirty&&t.active}))})}:function(){},v=function(t){return function(){a.forEach(function(e){return e.dirty=t}),d()}},m=function(t){t.filter(function(o){return!o.styleComputed}).forEach(function(o){o.styleComputed=W(o)}),t.filter(A).forEach(h);var e=t.filter(E);e.forEach(F),e.forEach(function(o){h(o),w(o)}),e.forEach(x)},w=function(t){return t.dirty=s},F=function(t){t.availableWidth=t.element.parentNode.clientWidth,t.currentWidth=t.element.scrollWidth,t.previousFontSize=t.currentFontSize,t.currentFontSize=Math.min(Math.max(t.minSize,t.availableWidth/t.currentWidth*t.previousFontSize),t.maxSize),t.whiteSpace=t.multiLine&&t.currentFontSize===t.minSize?"normal":"nowrap"},E=function(t){return t.dirty!==n||t.dirty===n&&t.element.parentNode.clientWidth!==t.availableWidth},W=function(t){var e=i.getComputedStyle(t.element,null);return t.currentFontSize=parseFloat(e.getPropertyValue("font-size")),t.display=e.getPropertyValue("display"),t.whiteSpace=e.getPropertyValue("white-space"),!0},A=function(t){var e=!1;return!t.preStyleTestCompleted&&(/inline-/.test(t.display)||(e=!0,t.display="inline-block"),t.whiteSpace!=="nowrap"&&(e=!0,t.whiteSpace="nowrap"),t.preStyleTestCompleted=!0,e)},h=function(t){t.element.style.whiteSpace=t.whiteSpace,t.element.style.display=t.display,t.element.style.fontSize=t.currentFontSize+"px"},x=function(t){t.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:t.previousFontSize,newValue:t.currentFontSize,scaleFactor:t.currentFontSize/t.previousFontSize}}))},S=function(t,e){return function(){t.dirty=e,t.active&&d()}},_=function(t){return function(){a=a.filter(function(e){return e.element!==t.element}),t.observeMutations&&t.observer.disconnect(),t.element.style.whiteSpace=t.originalStyle.whiteSpace,t.element.style.display=t.originalStyle.display,t.element.style.fontSize=t.originalStyle.fontSize}},C=function(t){return function(){t.active||(t.active=!0,d())}},M=function(t){return function(){return t.active=!1}},V=function(t){t.observeMutations&&(t.observer=new MutationObserver(S(t,l)),t.observer.observe(t.element,t.observeMutations))},I={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in i&&{subtree:!0,childList:!0,characterData:!0}},b=null,L=function(){i.clearTimeout(b),b=i.setTimeout(v(n),f.observeWindowDelay)},O=["resize","orientationchange"];return Object.defineProperty(f,"observeWindow",{set:function(t){var e="".concat(t?"add":"remove","EventListener");O.forEach(function(o){i[e](o,L)})}}),f.observeWindow=!0,f.observeWindowDelay=100,f.fitAll=v(c),f}function z(t,e){var o=Object.assign({},I,e),P=t.map(function(g){var y=Object.assign({},o,{element:g,active:!0});return function(u){u.originalStyle={whiteSpace:u.element.style.whiteSpace,display:u.element.style.display,fontSize:u.element.style.fontSize},V(u),u.newbie=!0,u.dirty=!0,a.push(u)}(y),{element:g,fit:S(y,c),unfreeze:C(y),freeze:M(y),unsubscribe:_(y)}});return d(),P}function f(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof t=="string"?z(r(document.querySelectorAll(t)),e):z([t],e)[0]}}(typeof window=="undefined"?null:window);(i=>{const r={variables:{alteredIds:[]},methods:{reset:()=>{for(const s of r.variables.alteredIds)s.element.removeAttribute("data-fitty-id"),s.unsubscribe()},initialize:()=>{const s=document.querySelectorAll("[data-ods-fitty]"),l=[];s.forEach((n,c)=>{var a;if((n.closest("div.ods-offer-card")||n.closest(".odss-card")||n.closest("div.ods-offer-card-horizontal")||n.closest("div.ods-banner__price")||n.closest("div.ods-domain-form__highlights")||n.closest("div.odss-banner--price"))&&n.hasAttribute("data-ods-fitty-target")){const p=n.getAttribute("data-ods-fitty-target"),d={minSize:+(n.getAttribute("data-ods-fitty-min-size")||"16"),maxSize:+(n.getAttribute("data-ods-fitty-max-size")||"54")},v=c.toString();(a=n==null?void 0:n.querySelector(`.${p}`))==null||a.setAttribute("data-fitty-id",v);const m=T(`[data-fitty-id="${c}"]`,d)[0];l.push(m)}}),r.variables.alteredIds=l,r.events.updateFitty(),r.events.resize()},handleFitty:()=>{r.variables.alteredIds.forEach(s=>{const l=s.element.closest(".odss-card .tile__centered-text");if(l){const n=l.parentNode,c=window.getComputedStyle(n),a=n.clientWidth-parseFloat(c.getPropertyValue("padding-left"))-parseFloat(c.getPropertyValue("padding-right"));l.style.maxWidth=`${a}px`}})}},events:{resize:()=>{window.addEventListener("resize",r.methods.handleFitty)},updateFitty:()=>{document.addEventListener("fitty-update",r.methods.handleFitty)}},attach:()=>{setTimeout(r.methods.initialize,200)}};i.behaviors.odsFitty=r})(Drupal);export{q as __vite_legacy_guard};
