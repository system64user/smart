(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"6LrE":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("3zK3"),r=i("W5Lo"),n=i("fh86"),c=i("fXoL"),a=i("ofXK");let s=(()=>{class e{constructor(e,t,i,o){this._shoppingCartService=e,this._shoppingCartViewService=t,this._campaignService=i,this._decimalPipe=o,this.DECIMAL_PLACE="1.2-2"}addProductToShoppingBasket(e,t,i){t&&(this._shoppingCartService.clearAllProductsFromShoppingCart(),this._shoppingCartViewService.deleteShoppingCartView()),i&&this._campaignService.clearSelectedCampaign();const o=this._shoppingCartService.getShoppingCartProductInstance(e.promoCode,e.productCode,e.primary,e.saleType,e.parentContractId),r=this._shoppingCartService.addProductToShoppingCart(o);for(const n of e.recommendedProducts)if(n.isAddedToCart){const e=this._shoppingCartService.getShoppingCartProductInstance(n.promoCode,n.productCode,n.primary,n.saleType,n.parentContractId);this._shoppingCartService.addProductToShoppingCart(e)}return r}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(o.d),c.Yb(n.b),c.Yb(r.a),c.Yb(a.g))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac}),e})()},"78Kp":function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var o=i("wxHw"),r=i("nMlR"),n=i("IBUU"),c=i("3zK3"),a=i("/H/C"),s=i("taPy"),d=i("fXoL"),p=i("tyNb"),u=i("dNgK"),l=i("0IaG"),h=i("ofXK"),g=i("50Pb"),b=i("vVA4"),m=i("Fin/");function f(e,t){if(1&e){const e=d.Vb();d.Sb(0),d.Ub(1,"a",20),d.bc("click",(function(t){return d.Dc(e),d.fc(2).onProceedClick(t)})),d.gc(2,"slugify"),d.gc(3,"megabyteSpeedConverter"),d.gc(4,"gigabyteConverter"),d.gc(5,"slugify"),d.Tb(),d.Rb()}if(2&e){const e=d.fc(2);d.Bb(1),d.pc("id","more-info-",d.hc(2,6,e._friendlyName),""),d.sc("href","/adsl/",d.hc(3,8,e.product.lineSpeed).toLowerCase(),"-",d.hc(4,10,e.product.productCap).toLowerCase(),"-",d.hc(5,12,e.product.infrastructureProvider.toLowerCase()),"/",e.product.productCode.toLowerCase(),"",d.Gc),d.nc("innerHTML",e._proceedFriendlyName,d.Ec)}}function _(e,t){if(1&e){const e=d.Vb();d.Ub(0,"a",21),d.bc("click",(function(){return d.Dc(e),d.fc(2).errorMessage()})),d.gc(1,"slugify"),d.Tb()}if(2&e){const e=d.fc(2);d.Gb("z-index-lower",e._isDesktop),d.pc("id","more-info-",d.hc(1,4,e._friendlyName),""),d.nc("innerHTML",e._proceedFriendlyName,d.Ec)}}function C(e,t){if(1&e&&(d.Sb(0),d.Oc(1,f,6,14,"ng-container",1),d.Oc(2,_,2,6,"ng-template",null,19,d.Pc),d.Rb()),2&e){const e=d.zc(3),t=d.fc();d.Bb(1),d.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function v(e,t){if(1&e){const e=d.Vb();d.Ub(0,"a",20),d.bc("click",(function(t){return d.Dc(e),d.fc().onProceedClick(t)})),d.gc(1,"slugify"),d.gc(2,"megabyteSpeedConverter"),d.gc(3,"gigabyteConverter"),d.gc(4,"slugify"),d.Tb()}if(2&e){const e=d.fc();d.pc("id","more-info-",d.hc(1,6,e._friendlyName),""),d.sc("href","/adsl/",d.hc(2,8,e.product.lineSpeed).toLowerCase(),"-",d.hc(3,10,e.product.productCap).toLowerCase(),"-",d.hc(4,12,e.product.infrastructureProvider.toLowerCase()),"/",e.product.productCode.toLowerCase(),"",d.Gc),d.nc("innerHTML",e._proceedFriendlyName,d.Ec)}}function P(e,t){if(1&e){const e=d.Vb();d.Sb(0),d.Ub(1,"div",23),d.Ub(2,"a",24),d.bc("click",(function(t){return d.Dc(e),d.fc(2).onProceedClick(t)})),d.gc(3,"slugify"),d.Qc(4),d.Tb(),d.Tb(),d.Rb()}if(2&e){const e=d.fc(2);d.Bb(2),d.qc("href","/adsl/",d.hc(3,3,e._friendlyName),"/",e.product.productCode.toLowerCase(),"",d.Gc),d.Bb(2),d.Sc(" ",e._friendlyName," ")}}function S(e,t){if(1&e&&(d.Ub(0,"div",23),d.Ub(1,"a"),d.Qc(2),d.Tb(),d.Tb()),2&e){const e=d.fc(2);d.Bb(1),d.Gb("link-color",e.product.isHero),d.Bb(1),d.Sc(" ",e._friendlyName," ")}}function T(e,t){if(1&e&&(d.Sb(0),d.Oc(1,P,5,5,"ng-container",1),d.Oc(2,S,3,3,"ng-template",null,22,d.Pc),d.Rb()),2&e){const e=d.zc(3),t=d.fc();d.Bb(1),d.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function O(e,t){if(1&e){const e=d.Vb();d.Ub(0,"div",23),d.Ub(1,"a",24),d.bc("click",(function(t){return d.Dc(e),d.fc().onProceedClick(t)})),d.gc(2,"slugify"),d.Qc(3),d.Tb(),d.Tb()}if(2&e){const e=d.fc();d.Bb(1),d.qc("href","/adsl/",d.hc(2,3,e._friendlyName),"/",e.product.productCode.toLowerCase(),"",d.Gc),d.Bb(2),d.Sc(" ",e._friendlyName," ")}}function w(e,t){if(1&e&&(d.Ub(0,"div",25),d.Ub(1,"h5"),d.Qc(2,"Speed"),d.Tb(),d.Qc(3),d.gc(4,"megabyteSpeedConverter"),d.Tb()),2&e){const e=d.fc();d.Bb(3),d.Sc("",d.hc(4,1,e.product.lineSpeed)," ")}}function y(e,t){1&e&&(d.Ub(0,"div",26),d.Ub(1,"h5"),d.Qc(2,"Speed"),d.Tb(),d.Qc(3,"DSL line dependent "),d.Tb())}function R(e,t){1&e&&(d.Sb(0),d.Qc(1,"Line Included"),d.Rb())}function U(e,t){1&e&&(d.Sb(0),d.Qc(1,"Line Excluded"),d.Rb())}function I(e,t){if(1&e){const e=d.Vb();d.Sb(0),d.Ub(1,"div",28),d.Ub(2,"button",29),d.bc("mouseover",(function(){d.Dc(e);const t=d.fc(2);return t.displayReadOnlyPopOver("btn-checkout-product-"+t.slugify(t.product.friendlyName),t._arrearsAccountMessage)})),d.Qc(3,"Checkout "),d.Tb(),d.Tb(),d.Rb()}if(2&e){const e=d.fc(2);d.Bb(2),d.Cb("data-content",e._arrearsAccountMessage)}}function E(e,t){if(1&e&&(d.Ub(0,"div",30),d.Pb(1,"button",31),d.Tb()),2&e){const e=d.fc(2);d.Bb(1),d.nc("innerHTML",e._proceedFriendlyName,d.Ec)}}function k(e,t){if(1&e&&(d.Sb(0),d.Oc(1,I,4,1,"ng-container",1),d.Oc(2,E,2,1,"ng-template",null,27,d.Pc),d.Rb()),2&e){const e=d.zc(3),t=d.fc();d.Bb(1),d.nc("ngIf",t._customerAccount.disableSales)("ngIfElse",e)}}function x(e,t){if(1&e&&(d.Ub(0,"div",30),d.Pb(1,"button",31),d.Tb()),2&e){const e=d.fc();d.Bb(1),d.nc("innerHTML",e._proceedFriendlyName,d.Ec)}}let N=(()=>{class e{constructor(e,t,i,r,n,c,a){this._router=e,this._productDataService=t,this._productCardService=i,this._shoppingCartService=r,this._customerAccountService=n,this._snackBar=c,this._matDialog=a,this.relatedProductPrice=0,this.isLoggedIn=!1,this._showLineSpeed=!1,this._lineRentalIncluded=!1,this._showCampaign=!0,this._proceedFriendlyName="Call:<br>"+o.f.salesContactPhone,this._osuExistingCustomerOverdueAccounts=o.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._arrearsAccountMessage=o.f.ALERT_ACCOUNT_IN_ARREARS}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngAfterViewInit(){this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,setTimeout(()=>{jQuery('[data-toggle="popover"]').popover()},3e3)}ngOnInit(){this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._customerAccount=this._customerAccountService.getCustomerAccount(),this._friendlyName=this._productDataService.getProductFriendlyName(this.product,o.e.ADSL),this.product.friendlyName=this._friendlyName,this.product.productCapType===this._productDataService._uncapped&&(this._showLineSpeed=!0),this._lineRentalProduct=this._productDataService.getAdslLineRentalProduct(this.product),this._lineRentalProduct&&(this._lineRentalIncluded=!0,this._showLineSpeed=!0),"Upgrade/Downgrade"===this.campaign.friendlyName&&(this._showCampaign=!1)}onProceedClick(e){e.preventDefault()}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t),console.log("hidepopover")},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}errorMessage(){o.d.logToDevConsole([this._isDesktop]),!0===this._isTablet&&this._matDialog.open(s.a),!0===this._isMobile&&this._matDialog.open(s.a)}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(p.d),d.Ob(n.b),d.Ob(r.a),d.Ob(c.d),d.Ob(a.a),d.Ob(u.a),d.Ob(l.b))},e.\u0275cmp=d.Ib({type:e,selectors:[["adsl-product-card"]],hostBindings:function(e,t){1&e&&d.bc("resize",(function(e){return t.onResize(e)}),!1,d.Cc)},inputs:{campaign:"campaign",product:"product",relatedProductPrice:"relatedProductPrice",isLoggedIn:"isLoggedIn"},decls:41,vars:30,consts:[[1,"card"],[4,"ngIf","ngIfElse"],["regularOsuJourney",""],[1,"card-table","stats"],[1,"card-row"],[1,"card-cell","for-an-extra"],["normalSubmit",""],[1,"card-cell","data"],["class","card-cell inline download-speed",4,"ngIf"],["class","card-cell inline download-speed","style","font-weight: 400;",4,"ngIf"],[1,"card-cell","price"],[1,"per-month"],[1,"card-table","deal-provider-info"],[1,"card-cell","deal"],[1,"free"],[1,"card-cell","provider","line-option"],[3,"ngSwitch"],[4,"ngSwitchCase"],["regularJourney",""],["removeSubmitMethod",""],[1,"more-info",3,"id","href","innerHTML","click"],[1,"more-info",3,"id","innerHTML","click"],["removeSubmit",""],[1,"card-cell","product-name"],[3,"href","click"],[1,"card-cell","inline","download-speed"],[1,"card-cell","inline","download-speed",2,"font-weight","400"],["showActiveButton",""],[1,"card-cell","pt-0"],["type","button","data-container","body","data-toggle","popover","data-trigger","focus","data-placement","top","data-html","true",1,"btn","primary","productButtonFix","isListView",3,"mouseover"],[1,"card-cell","pt-0","float-right"],[1,"btn","primary","productButtonFix","isListView",3,"innerHTML"]],template:function(e,t){if(1&e&&(d.Ub(0,"div",0),d.Oc(1,C,4,2,"ng-container",1),d.Oc(2,v,5,14,"ng-template",null,2,d.Pc),d.Ub(4,"div",3),d.Ub(5,"div",4),d.Ub(6,"div",5),d.Qc(7," For an extra "),d.Ub(8,"span"),d.Qc(9),d.gc(10,"number"),d.Tb(),d.Tb(),d.Oc(11,T,4,2,"ng-container",1),d.Oc(12,O,4,5,"ng-template",null,6,d.Pc),d.Ub(14,"div",7),d.Ub(15,"h5"),d.Qc(16,"Data"),d.Tb(),d.Qc(17),d.gc(18,"gigabyteConverter"),d.Tb(),d.Oc(19,w,5,3,"div",8),d.Oc(20,y,4,0,"div",9),d.Ub(21,"div",10),d.Qc(22),d.gc(23,"number"),d.Ub(24,"span",11),d.Qc(25,"PM"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(26,"div",12),d.Ub(27,"div",13),d.Ub(28,"h5",14),d.Qc(29,"DEAL"),d.Tb(),d.Ub(30,"span"),d.Qc(31),d.Tb(),d.Tb(),d.Ub(32,"div",15),d.Ub(33,"h5"),d.Qc(34,"ADSL"),d.Tb(),d.Ub(35,"span",16),d.Oc(36,R,2,0,"ng-container",17),d.Oc(37,U,2,0,"ng-container",17),d.Tb(),d.Tb(),d.Tb(),d.Oc(38,k,4,2,"ng-container",1),d.Oc(39,x,2,1,"ng-template",null,18,d.Pc),d.Tb()),2&e){const e=d.zc(3),i=d.zc(13),o=d.zc(40);d.Gb("featured",t.product.isHero),d.Cb("product-code",t.product.productCode)("promo-code",t.product.promoCode)("line-rental",t._lineRentalIncluded),d.Bb(1),d.nc("ngIf",t._osuExistingCustomerOverdueAccounts)("ngIfElse",e),d.Bb(5),d.Gb("d-none",0===t.relatedProductPrice),d.Bb(3),d.Sc("R",d.hc(10,24,t.relatedProductPrice),"PM"),d.Bb(2),d.nc("ngIf",t._osuExistingCustomerOverdueAccounts)("ngIfElse",i),d.Bb(6),d.Sc("",d.hc(18,26,t.product.productCap)," "),d.Bb(2),d.nc("ngIf",t._showLineSpeed),d.Bb(1),d.nc("ngIf",!t._showLineSpeed),d.Bb(2),d.Sc(" R",d.hc(23,28,t.product.productRate),""),d.Bb(5),d.Gb("d-none",!t._showCampaign),d.Bb(4),d.Rc(t.campaign.friendlyName),d.Bb(4),d.nc("ngSwitch",t._lineRentalIncluded),d.Bb(1),d.nc("ngSwitchCase",!0),d.Bb(1),d.nc("ngSwitchCase",!1),d.Bb(1),d.nc("ngIf",t._osuExistingCustomerOverdueAccounts)("ngIfElse",o)}},directives:[h.t,h.x,h.y],pipes:[h.g,g.a,b.a,m.a],encapsulation:2}),e})()},BH6e:function(e,t,i){"use strict";i.d(t,"a",(function(){return q}));var o=i("fXoL"),r=i("wxHw"),n=i("bu7n"),c=i("IBUU"),a=i("nMlR"),s=i("Y9WU"),d=i("50Pb"),p=i("Fin/"),u=i("3zK3"),l=i("l8PN"),h=i("/H/C"),g=i("taPy"),b=i("9WlA"),m=i("vVA4"),f=i("Ej31"),_=i("DPk/"),C=i("tyNb"),v=i("0IaG"),P=i("dNgK"),S=i("ofXK"),T=i("gfT6");function O(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"p",6),o.Qc(2),o.gc(3,"slice"),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(o.jc(3,1,e.product.heroTagLine,0,29))}}function w(e,t){1&e&&(o.Ub(0,"p",6),o.Qc(1,"Most popular"),o.Tb())}function y(e,t){if(1&e&&(o.Ub(0,"div",4),o.Oc(1,O,4,5,"ng-container",2),o.Oc(2,w,2,0,"ng-template",null,5,o.Pc),o.Tb()),2&e){const e=o.zc(3),t=o.fc();o.Bb(1),o.nc("ngIf",(null==t.product||null==t.product.heroTagLine?null:t.product.heroTagLine.length)>0)("ngIfElse",e)}}function R(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",20),o.Qc(2),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(e.product.productThrottlingType)}}function U(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function I(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function E(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"div",21),o.Ub(2,"span",22),o.Qc(3),o.gc(4,"spaceSeparator"),o.Ub(5,"span",23),o.Oc(6,U,2,0,"ng-container",10),o.Tb(),o.Tb(),o.Ub(7,"span"),o.Qc(8),o.gc(9,"spaceSeparator"),o.Ub(10,"span",23),o.Oc(11,I,2,0,"ng-container",10),o.Tb(),o.Tb(),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(3),o.Sc(" R",o.hc(4,4,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase()),o.Bb(2),o.Sc(" R",o.hc(9,6,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductDiscountedProductRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase())}}function k(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function x(e,t){if(1&e&&(o.Ub(0,"div",21),o.Ub(1,"span"),o.Qc(2),o.gc(3,"spaceSeparator"),o.Ub(4,"span",23),o.Oc(5,k,2,0,"ng-container",10),o.Tb(),o.Tb(),o.Tb()),2&e){const e=o.fc(2);o.Bb(2),o.Sc(" R",o.hc(3,2,e.product.productRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase())}}function N(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"button",25),o.Qc(2),o.Tb(),o.Rb()),2&e){const e=o.fc(3);o.Bb(2),o.Rc(e._proceedFriendlyName)}}function L(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",26),o.bc("click",(function(){o.Dc(e);const t=o.fc(3);return t.displayReadOnlyPopOver("btn-checkout-product-"+t.slugify(t.product.friendlyName),t._arrearsAccountMessage)})),o.Qc(1,"Checkout "),o.Tb()}if(2&e){const e=o.fc(3);o.Cb("data-content",e._arrearsAccountMessage)}}function M(e,t){if(1&e&&(o.Sb(0),o.Oc(1,N,3,1,"ng-container",2),o.Oc(2,L,2,1,"ng-template",null,24,o.Pc),o.Rb()),2&e){const e=o.zc(3),t=o.fc(2);o.Bb(1),o.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function A(e,t){if(1&e&&(o.Ub(0,"button",27),o.gc(1,"slugify"),o.Qc(2),o.Tb()),2&e){const e=o.fc(2);o.pc("id","more-info-",o.hc(1,2,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function D(e,t){if(1&e){const e=o.Vb();o.Sb(0),o.Ub(1,"div",7),o.bc("click",(function(t){return o.Dc(e),o.fc().onProceedClick(t)})),o.Ub(2,"div",8),o.Qc(3),o.Tb(),o.Ub(4,"div",9),o.Ub(5,"div"),o.Oc(6,R,3,1,"ng-container",10),o.Oc(7,E,12,8,"ng-container",2),o.Oc(8,x,6,4,"ng-template",null,11,o.Pc),o.Tb(),o.Ub(10,"div"),o.Ub(11,"div",9),o.Ub(12,"div",12),o.Ub(13,"div",13),o.Qc(14,"Down"),o.Tb(),o.Ub(15,"span",14),o.Qc(16),o.gc(17,"megabyteSpeedConverter"),o.Tb(),o.Tb(),o.Ub(18,"div",15),o.Ub(19,"div",13),o.Qc(20,"Up"),o.Tb(),o.Ub(21,"span",14),o.Qc(22),o.gc(23,"megabyteSpeedConverter"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(24,"div",9),o.Ub(25,"div"),o.Ub(26,"div",16),o.Pb(27,"img",17),o.Tb(),o.Tb(),o.Ub(28,"div",18),o.Oc(29,M,4,2,"ng-container",2),o.Oc(30,A,3,4,"ng-template",null,19,o.Pc),o.Tb(),o.Tb(),o.Tb(),o.Rb()}if(2&e){const e=o.zc(9),t=o.zc(31),i=o.fc();o.Bb(3),o.Rc(i._friendlyName),o.Bb(3),o.nc("ngIf",i.product&&""!==i.product.productThrottlingType),o.Bb(1),o.nc("ngIf",i._fsEnableProductStrikeThroughs&&i.product&&i.product.hasPreProduct&&i.product.preProduct.preProductRate)("ngIfElse",e),o.Bb(9),o.Rc(o.hc(17,14,i.product.lineSpeed)),o.Bb(6),o.Rc(o.hc(23,16,i.product.lineSpeedUpload)),o.Bb(5),o.oc("src",i._infrastructureProviderImage.imageUrl,o.Gc),o.nc("alt",i.product.infrastructureProvider),o.Bb(1),o.Gb("w-100",i._isMobile)("w-50",i._isTablet),o.Bb(1),o.nc("ngIf",i._osuExistingCustomerOverdueAccounts)("ngIfElse",t)}}function V(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",20),o.Qc(2),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(e.product.productThrottlingType)}}function B(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function F(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function Q(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"div",21),o.Ub(2,"span",22),o.Qc(3),o.gc(4,"spaceSeparator"),o.Ub(5,"span",23),o.Oc(6,B,2,0,"ng-container",10),o.Tb(),o.Tb(),o.Ub(7,"span",43),o.Qc(8),o.gc(9,"spaceSeparator"),o.Ub(10,"span",23),o.Oc(11,F,2,0,"ng-container",10),o.Tb(),o.Tb(),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(3),o.Sc(" R",o.hc(4,4,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase()),o.Bb(2),o.Sc("R",o.hc(9,6,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductDiscountedProductRate)," "),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase())}}function z(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function G(e,t){if(1&e&&(o.Ub(0,"div",21),o.Qc(1),o.gc(2,"spaceSeparator"),o.Ub(3,"span",23),o.Oc(4,z,2,0,"ng-container",10),o.Tb(),o.Tb()),2&e){const e=o.fc(2);o.Bb(1),o.Sc("R",o.hc(2,2,e.product.productRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase())}}function W(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"button",27),o.gc(2,"slugify"),o.Qc(3),o.Tb(),o.Rb()),2&e){const e=o.fc(3);o.Bb(1),o.pc("id","more-info-",o.hc(2,2,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function j(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",26),o.bc("click",(function(){o.Dc(e);const t=o.fc(3);return t.displayReadOnlyPopOver("btn-checkout-product-"+t.slugify(t.product.friendlyName),t._arrearsAccountMessage)})),o.Qc(1,"Checkout "),o.Tb()}if(2&e){const e=o.fc(3);o.Cb("data-content",e._arrearsAccountMessage)}}function H(e,t){if(1&e&&(o.Sb(0),o.Oc(1,W,4,4,"ng-container",2),o.Oc(2,j,2,1,"ng-template",null,24,o.Pc),o.Rb()),2&e){const e=o.zc(3),t=o.fc(2);o.Bb(1),o.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function K(e,t){if(1&e&&(o.Ub(0,"button",27),o.gc(1,"slugify"),o.Qc(2),o.Tb()),2&e){const e=o.fc(2);o.pc("id","more-info-",o.hc(1,2,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function $(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",28),o.bc("click",(function(t){return o.Dc(e),o.fc().onProceedClick(t)})),o.Ub(1,"div",29),o.Ub(2,"div",8),o.Qc(3),o.Tb(),o.Oc(4,V,3,1,"ng-container",10),o.Ub(5,"div",30),o.Ub(6,"span"),o.Qc(7),o.Tb(),o.Tb(),o.Ub(8,"div",31),o.Oc(9,Q,12,8,"ng-container",2),o.Oc(10,G,5,4,"ng-template",null,32,o.Pc),o.Ub(12,"div",33),o.Pb(13,"img",34),o.Tb(),o.Tb(),o.Tb(),o.Ub(14,"div",35),o.Ub(15,"div",36),o.Ub(16,"div",37),o.Ub(17,"div",38),o.Pb(18,"i",39),o.Tb(),o.Ub(19,"div",13),o.Qc(20,"Download"),o.Tb(),o.Ub(21,"span",14),o.Qc(22),o.gc(23,"megabyteSpeedConverter"),o.Tb(),o.Tb(),o.Ub(24,"div",40),o.Ub(25,"div",38),o.Pb(26,"i",41),o.Tb(),o.Ub(27,"div",13),o.Qc(28,"Upload"),o.Tb(),o.Ub(29,"span",14),o.Qc(30),o.gc(31,"megabyteSpeedConverter"),o.Tb(),o.Tb(),o.Tb(),o.Ub(32,"div",42),o.Oc(33,H,4,2,"ng-container",2),o.Oc(34,K,3,4,"ng-template",null,19,o.Pc),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=o.zc(11),t=o.zc(35),i=o.fc();o.Bb(3),o.Rc(i._friendlyName),o.Bb(1),o.nc("ngIf",i.product&&""!==i.product.productThrottlingType),o.Bb(3),o.Rc(i._tagLine),o.Bb(2),o.nc("ngIf",i._fsEnableProductStrikeThroughs&&i.product&&i.product.hasPreProduct&&i.product.preProduct.preProductRate)("ngIfElse",e),o.Bb(4),o.oc("src",i._infrastructureProviderImage?i._infrastructureProviderImage.imageUrl:"",o.Gc),o.nc("alt",i.product.infrastructureProvider),o.Bb(9),o.Rc(o.hc(23,11,i.product.lineSpeed)),o.Bb(8),o.Rc(o.hc(31,13,i.product.lineSpeedUpload)),o.Bb(3),o.nc("ngIf",i._osuExistingCustomerOverdueAccounts)("ngIfElse",t)}}let q=(()=>{class e{constructor(e,t,i,n,c,a,s,d,p,u,l,h,g,b,m,f,_){this._router=e,this._productDataService=t,this._productCardService=i,this._productViewService=n,this._megabyteSpeedConverterPipe=c,this._gigabyteConverterPipe=a,this._shoppingCartService=s,this.dialog=d,this._customerAccountService=p,this._snackBar=u,this._matDialog=l,this.connectivityRecommendationService=h,this._slugifyPipe=g,this._activatedRoute=b,this._browserStorageService=m,this._userDataService=f,this.analyticsService=_,this.canProceed=!0,this.relatedProductPrice=0,this.isLoggedIn=!1,this.checkCoverageClickEvent=new o.o,this._isFibre=!1,this._showCampaign=!0,this._proceedFriendlyName="View more",this._shouldShowHero=!1,this._isBestDeal=!1,this._hasHeroTagLine=!1,this._hasHeroImage=!1,this._fsCoverageDialogEnaled=r.a.APP_CONFIG.F_S.COVERAGE_DIALOG_ENABLED,this._isDesktop=!1,this._isTablet=!1,this._isMobile=!1,this._osuExistingCustomerOverdueAccounts=r.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._arrearsAccountMessage=r.f.ALERT_ACCOUNT_IN_ARREARS,this._fsEnableFibrePreOrderCta=r.a.APP_CONFIG.F_S.ENABLE_FIBRE_PRE_ORDER_CTA,this._fsEnableProductStrikeThroughs=r.a.APP_CONFIG.F_S.ENABLE_PRODUCT_STRIKETHROUGHS}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngAfterViewInit(){setTimeout(()=>{jQuery('[data-toggle="popover"]').popover()},0)}ngOnInit(){this._router.url.toLowerCase().includes("fibre")&&(this._isFibre=!0),this._infrastructureProviderImage=this._productCardService.initFibreInfrastructureProviderImage(),this._customerAccount=this._customerAccountService.getCustomerAccount(),r.d.logToDevConsole([this._customerAccount]),this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._isBestDeal="Unthrottled"===this.product.productThrottlingType&&"Uncapped"===this.product.productCapType&&this.product.infrastructureProvider.toLowerCase().includes("openserve"),this._productViewService._cardViewSubject.subscribe(e=>{this._isListView=!0===e&&e}),this._isListView=this._router.url.includes("fibre"),this._hasHeroImage=!(""===this.product.heroImage&&null===this.product.heroImage||"OPEN-SETUP-SUMMER2019-40MBDWN"!==this.product.promoCode&&"OPEN-SETUP-SUMMER2019-100MBUP"!==this.product.promoCode),this._hasHeroTagLine=!(""===this.product.heroTagLine&&null===this.product.heroTagLine||"OPEN-SETUP-SUMMER2019-40MBDWN"!==this.product.promoCode&&"OPEN-SETUP-SUMMER2019-100MBUP"!==this.product.promoCode),this._userDataService.hasAddressSearchBeenMade()?(this._shouldShowHero=this.product.isHero&&"IncognitoJourneyOnly"!==this.product.heroOption&&"na"!==this.product.heroOption||"AllUserJourneys"===this.product.heroOption&&""!==this.product.heroTagLine,r.d.logToDevConsole(["heroOption",this.product.heroOption])):this._shouldShowHero=this.product.isHero&&"IncognitoJourneyOnly"===this.product.heroOption&&""!==this.product.heroTagLine,this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,r.e.Fibre),this.product.friendlyName=this._friendlyName),this.campaign.friendlyName&&"Upgrade/Downgrade"===this.campaign.friendlyName&&(this._showCampaign=!1),this._tagLine=this.product.promoCodeTagLine?this.product.promoCodeTagLine:this.campaign.friendlyName,this.product.parameters&&(this._infrastructureProviderImage=this._productCardService.getFibreInfrastructureProviderImage(this.product.infrastructureProvider,!1)),this._proceedFriendlyName=this._productCardService.getProductProceedFriendlyName(this.canProceed,this.isLoggedIn),this.product.isPreOrder&&this._fsEnableFibrePreOrderCta&&(this._proceedFriendlyName="Pre-order")}onProceedClick(e){e.preventDefault(),this.analyticsService.pushItemSelectGA4Tracking(this.product),this.analyticsService.generateDataLayerStepOne("Step 1 - View More",this.product),this.analyticsService.pushProductClickGtmEnhancedECommerce(),this.shoppingCart=this._shoppingCartService.getShoppingCart(),this.shoppingCart.promoVoucher&&(this.shoppingCart.promoVoucher="",this._shoppingCartService.setShoppingCart(this.shoppingCart),this._shoppingCartService.saveShoppingCart());let t=r.a.isDevelopment()&&r.a.APP_CONFIG.F_S.USE_FIBRE2_IN_DEV?"/fibre2":"/fibre";if(this._router.url.includes("fibre-internet")&&(t="/fibre-internet"),this._router.url.includes("fibre")&&this._proceedFriendlyName.toLowerCase().includes("check coverage")&&r.d.scrollToElement("#coverage-map-component"),this.product.infrastructureProvider===r.a.PRODUCT_VENDOR_VUMA_REACH.vendor&&r.a.APP_CONFIG.F_S.REDIRECT_FIBRE_CARD_CTA_FOR_VR_WITH_NO_LOCATION_ID&&!localStorage.getItem("locationLookupId"))r.d.logToDevConsole(["FibreProductDetailCombinedComponent.initialisePage() ::: Is Vuma Reach product with NO locationLookupId","Redirecting to /fibre-vuma-reach"],"red","white"),this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this._router.navigate(["/fibre-vuma-reach"]));else if(this.isLoggedIn){this.connectivityRecommendationService.setIsAdslEndingJourney(!!r.e.AdslEnding),this.connectivityRecommendationService.setSelectedProduct(this.product);const e=this._browserStorageService.getSessionStorage("originalProductView");e&&(this._browserStorageService.removeSessionStorage("persistOriginalProductView"),this._browserStorageService.setSessionStorage("persistOriginalProductView",e)),this.product.subcategory.toLowerCase().includes("reach"),this.product.productName.toLowerCase().includes("fibre"),this._router.navigate([`/customer/fibre-details/${this._slugifyPipe.transform(this.product.infrastructureProvider.toLowerCase())}/${this.product.productCode.toLowerCase()}/${this.product.promoCode.toLowerCase()}`])}else this._productCardService.onProceedClick(this.canProceed,""+t,this.campaign,this.product,null,this.isLoggedIn)?this.checkCoverage():e.preventDefault()}checkCoverage(){this._fsCoverageDialogEnaled?this.openDialog():setTimeout(()=>{r.d.scrollToElementBottom("#carouselExampleControls")},600)}openDialog(){this.dialog.open(l.a,{width:this._isDesktop?"950px":"320px"})}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t)},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}displayError(){r.d.logToDevConsole([this._isDesktop]),this._isDesktop||this._matDialog.open(g.a,{})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(C.d),o.Ob(c.b),o.Ob(a.a),o.Ob(n.a),o.Ob(p.a),o.Ob(d.a),o.Ob(u.d),o.Ob(v.b),o.Ob(h.a),o.Ob(P.a),o.Ob(v.b),o.Ob(b.a),o.Ob(m.a),o.Ob(C.a),o.Ob(f.a),o.Ob(_.e),o.Ob(s.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["fibre-product-card"]],hostBindings:function(e,t){1&e&&o.bc("resize",(function(e){return t.onResize(e)}),!1,o.Cc)},inputs:{campaign:"campaign",product:"product",canProceed:"canProceed",relatedProductPrice:"relatedProductPrice",isLoggedIn:"isLoggedIn",index:"index"},outputs:{checkCoverageClickEvent:"checkCoverageClickEvent"},decls:5,vars:4,consts:[["class","heroTextContainer w-100",4,"ngIf"],[1,"card","card-hover","fibre-landingpage-productcard",3,"ngClass"],[4,"ngIf","ngIfElse"],["desktopView",""],[1,"heroTextContainer","w-100"],["defaultTagLine",""],[1,"heroText"],[1,"clickable",3,"click"],[1,"product-card-heading"],[1,"d-flex","w-100","justify-content-between"],[4,"ngIf"],["normalPriceMobile",""],[1,"border-right","p-1"],[1,"up-downspeed-header"],[1,"up-downspeed-info"],[1,"p-1"],[1,"resize-provider-image"],[1,"w-80","provider-image-fix",3,"src","alt"],[1,"d-flex","align-self-end","justify-content-end"],["regularOsuJourney",""],[1,"product-card-info"],[1,"product-card-price"],[1,"d-block","pre-product-rate","text-center"],[1,"per-month"],["overdueAccountButton",""],[1,"btn","button-primary","btn-proceed"],["type","button","data-container","body","data-toggle","popover","data-trigger","focus","data-placement","top","data-html","true",1,"btn","button-primary","btn-proceed","fibre-landingpage-button-checkout",3,"click"],[1,"btn","button-primary","btn-proceed","fibre-landingpage-button-checkout",3,"id"],[1,"row","clickable",3,"click"],[1,"col-md-8"],[1,"product-card-info","product-card-tagline"],[1,"d-flex","w-100","justify-content-between","align-items-center"],["noPreProduct",""],[1,"resize-provider-image","d-flex","align-items-end"],[1,"w-80",3,"src","alt"],[1,"col-md-4"],[1,"d-flex","w-100","h-50","justify-content-between"],[1,"download-speed"],[1,"w-100","text-center"],[1,"fas","fa-arrow-down"],[1,"upload-speed"],[1,"fas","fa-arrow-up"],[1,"h-50","d-flex","align-items-end"],[1,"product-card-price","mb-2"]],template:function(e,t){if(1&e&&(o.Oc(0,y,4,2,"div",0),o.Ub(1,"div",1),o.Oc(2,D,32,18,"ng-container",2),o.Oc(3,$,36,15,"ng-template",null,3,o.Pc),o.Tb()),2&e){const e=o.zc(4);o.nc("ngIf",t._shouldShowHero),o.Bb(1),o.nc("ngClass",t._fsEnableProductStrikeThroughs&&t.product&&t.product.hasPreProduct&&t.product.preProduct.preProductRate?"product-pre-prod-height":""),o.Bb(1),o.nc("ngIf",t._isMobile||t._isTablet)("ngIfElse",e)}},directives:[S.t,S.q],pipes:[S.E,p.a,T.a,m.a],styles:[".card[_ngcontent-%COMP%]{border-radius:0;border:1px solid #a3a5a8;padding:15px}.price[_ngcontent-%COMP%]{padding-bottom:5px}.btn-proceed[_ngcontent-%COMP%]{height:35px;width:100%;padding:0!important;font-weight:700}.resize-provider-image[_ngcontent-%COMP%]{width:104px!important}.product-throttling[_ngcontent-%COMP%]{color:#a3a5a8}@media (max-width:768px){.btn-proceed[_ngcontent-%COMP%]{width:150px}.resize-provider-image[_ngcontent-%COMP%]{width:80px!important}}.clickable[_ngcontent-%COMP%]:hover{cursor:pointer}@media(max-width:768px){.fibre-landingpage-productcard[_ngcontent-%COMP%]{min-height:150px;max-height:150px;height:150px}}@media(max-width:360px){.product-card-price[_ngcontent-%COMP%]{font-size:24px!important}}@media(max-width:320px){.product-card-price[_ngcontent-%COMP%]{font-size:18px!important}}.product-card-tagline[_ngcontent-%COMP%]{min-height:48px;max-height:48px;overflow:hidden}.heroTextContainer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#005e7c,#05b9b5 60%)}.heroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%], .nonHeroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%]{margin-bottom:0!important;text-align:center;color:#fff;font-size:1.8rem;padding:.5rem 0;font-weight:700}.pre-product-rate[_ngcontent-%COMP%]{font-size:2.2rem;color:#a3a5a8;-webkit-text-decoration-color:red;text-decoration-color:red;-webkit-text-decoration:line-through red;text-decoration:line-through red}@media(max-width:1025px){.product-pre-prod-height[_ngcontent-%COMP%]{height:175px;max-height:175px}}@media (min-width:1025px){.product-pre-prod-height[_ngcontent-%COMP%]{max-height:195px;height:195px}}"]}),e})()},"Fa/5":function(e,t,i){"use strict";i.d(t,"a",(function(){return F}));var o=i("fXoL"),r=i("wxHw"),n=i("bu7n"),c=i("IBUU"),a=i("nMlR"),s=i("3zK3"),d=i("/H/C"),p=i("taPy"),u=i("9WlA"),l=i("vVA4"),h=i("Ej31"),g=i("DPk/"),b=i("Y9WU"),m=i("M7tL"),f=i("fh86"),_=i("7RkA"),C=i("G7wR"),v=i("tyNb"),P=i("0IaG"),S=i("dNgK"),T=i("ofXK"),O=i("gfT6");function w(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"p",6),o.Qc(2),o.gc(3,"slice"),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(o.jc(3,1,e.product.heroTagLine,0,29))}}function y(e,t){1&e&&(o.Ub(0,"p",6),o.Qc(1,"Most popular"),o.Tb())}function R(e,t){if(1&e&&(o.Ub(0,"div",4),o.Oc(1,w,4,5,"ng-container",2),o.Oc(2,y,2,0,"ng-template",null,5,o.Pc),o.Tb()),2&e){const e=o.zc(3),t=o.fc();o.Bb(1),o.nc("ngIf",(null==t.product||null==t.product.heroTagLine?null:t.product.heroTagLine.length)>0)("ngIfElse",e)}}function U(e,t){1&e&&(o.Sb(0),o.Qc(1,"PM"),o.Rb())}function I(e,t){1&e&&(o.Sb(0),o.Ub(1,"button",20),o.Qc(2,"BUY NOW"),o.Tb(),o.Rb())}function E(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",21),o.bc("click",(function(t){return o.Dc(e),o.fc(3).onProceedClick(t)})),o.Qc(1,"Buy Now "),o.Tb()}if(2&e){const e=o.fc(3);o.Cb("data-content",e._arrearsAccountMessage)}}function k(e,t){if(1&e&&(o.Sb(0),o.Oc(1,I,3,0,"ng-container",2),o.Oc(2,E,2,1,"ng-template",null,19,o.Pc),o.Rb()),2&e){const e=o.zc(3),t=o.fc(2);o.Bb(1),o.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function x(e,t){if(1&e&&(o.Ub(0,"button",22),o.gc(1,"slugify"),o.Qc(2),o.Tb()),2&e){const e=o.fc(2);o.pc("id","more-info-",o.hc(1,2,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function N(e,t){if(1&e){const e=o.Vb();o.Sb(0),o.Pb(1,"div",7),o.Ub(2,"div",8),o.bc("click",(function(t){return o.Dc(e),o.fc().onProceedClick(t)})),o.Ub(3,"div",9),o.Ub(4,"div",10),o.Qc(5),o.Tb(),o.Ub(6,"div",11),o.Qc(7),o.Tb(),o.Ub(8,"div",12),o.Ub(9,"div"),o.Ub(10,"div",13),o.Qc(11),o.gc(12,"spaceSeparator"),o.Ub(13,"span",14),o.Oc(14,U,2,0,"ng-container",15),o.Tb(),o.Ub(15,"div"),o.Ub(16,"p",16),o.Qc(17),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(18,"div",12),o.Ub(19,"div",17),o.Oc(20,k,4,2,"ng-container",2),o.Oc(21,x,3,4,"ng-template",null,18,o.Pc),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Rb()}if(2&e){const e=o.zc(22),t=o.fc();o.Bb(5),o.Rc(t._friendlyName),o.Bb(2),o.Sc("",t.__chargePeriod," Charges"),o.Bb(4),o.Sc("R",o.hc(12,11,t.product.productRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==t.product.infrastructureProvider.toLowerCase()),o.Bb(3),o.Rc(t.product.summary),o.Bb(2),o.Gb("w-100",t._isMobile)("w-50",t._isTablet),o.Bb(1),o.nc("ngIf",t._osuExistingCustomerOverdueAccounts)("ngIfElse",e)}}function L(e,t){1&e&&(o.Sb(0),o.Qc(1,"PM"),o.Rb())}function M(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"button",22),o.gc(2,"slugify"),o.Qc(3,"BUY NOW"),o.Tb(),o.Rb()),2&e){const e=o.fc(3);o.Bb(1),o.pc("id","more-info-",o.hc(2,1,e._friendlyName),"")}}function A(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",21),o.bc("click",(function(){o.Dc(e);const t=o.fc(3);return t.displayReadOnlyPopOver("btn-checkout-product-"+t.slugify(t.product.friendlyName),t._arrearsAccountMessage)})),o.Qc(1,"Buy Now "),o.Tb()}if(2&e){const e=o.fc(3);o.Cb("data-content",e._arrearsAccountMessage)}}function D(e,t){if(1&e&&(o.Sb(0),o.Oc(1,M,4,3,"ng-container",2),o.Oc(2,A,2,1,"ng-template",null,19,o.Pc),o.Rb()),2&e){const e=o.zc(3),t=o.fc(2);o.Bb(1),o.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function V(e,t){if(1&e&&(o.Ub(0,"button",22),o.gc(1,"slugify"),o.Qc(2),o.Tb()),2&e){const e=o.fc(2);o.pc("id","more-info-",o.hc(1,2,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function B(e,t){if(1&e){const e=o.Vb();o.Pb(0,"div",7),o.Ub(1,"div",23),o.bc("click",(function(t){return o.Dc(e),o.fc().onProceedClick(t)})),o.Ub(2,"div",24),o.Ub(3,"div",10),o.Qc(4),o.Tb(),o.Ub(5,"div",11),o.Qc(6),o.Tb(),o.Ub(7,"div",25),o.Ub(8,"div",26),o.Qc(9),o.gc(10,"spaceSeparator"),o.Ub(11,"span",14),o.Oc(12,L,2,0,"ng-container",15),o.Tb(),o.Tb(),o.Tb(),o.Ub(13,"div"),o.Ub(14,"p",16),o.Qc(15),o.Tb(),o.Tb(),o.Tb(),o.Ub(16,"div",27),o.Ub(17,"div",28),o.Oc(18,D,4,2,"ng-container",2),o.Oc(19,V,3,4,"ng-template",null,18,o.Pc),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=o.zc(20),t=o.fc();o.Bb(4),o.Rc(t._friendlyName),o.Bb(2),o.Sc("",t.__chargePeriod," Charges"),o.Bb(3),o.Sc("R",o.hc(10,7,t.product.productRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==t.product.infrastructureProvider.toLowerCase()),o.Bb(3),o.Rc(t.product.summary),o.Bb(3),o.nc("ngIf",t._osuExistingCustomerOverdueAccounts)("ngIfElse",e)}}let F=(()=>{class e{constructor(e,t,i,n,c,a,s,d,p,u,l,h,g,b,m,f,_,C,v){this._connectivityRecommendationService=e,this._router=t,this._productDataService=i,this._productCardService=n,this._productViewService=c,this._shoppingCartService=a,this.dialog=s,this._customerAccountService=d,this._snackBar=p,this._matDialog=u,this.connectivityRecommendationService=l,this._slugifyPipe=h,this._activatedRoute=g,this._browserStorageService=b,this._userDataService=m,this._analyticsService=f,this._checkoutService=_,this._shoppingCartViewService=C,this._existingCustomerService=v,this.canProceed=!0,this.relatedProductPrice=0,this.checkCoverageClickEvent=new o.o,this._isFibre=!1,this._showCampaign=!0,this._proceedFriendlyName="View more",this._isProductsViewLoading=!1,this._showMonthlyCharges=!1,this._isCartLoading=!1,this._newLineRental=!0,this._shouldShowHero=!1,this._isBestDeal=!1,this._hasHeroTagLine=!1,this._hasHeroImage=!1,this._fsCoverageDialogEnaled=r.a.APP_CONFIG.F_S.COVERAGE_DIALOG_ENABLED,this._isDesktop=!1,this._isTablet=!1,this._isMobile=!1,this._osuExistingCustomerOverdueAccounts=r.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._arrearsAccountMessage=r.f.ALERT_ACCOUNT_IN_ARREARS,this._fsEnableFibrePreOrderCta=r.a.APP_CONFIG.F_S.ENABLE_FIBRE_PRE_ORDER_CTA,this._fsEnableSwitchByVendor=r.a.APP_CONFIG.F_S.ENABLE_SWITCH_BY_VENDOR,this._checkoutClicked=!1,this._promoCode="",this._canSwitch=!1,this._switchPromoCode="",this._productCode="",this._showCheckoutOTPClear=!0,this._isLoggedIn=!1,this._isExistingCustomer=!1,this._showOnceOffCharges=!1,this._isOnceOffChargesViewLoading=!0,this._showLineInstructionToggle=!1,this.fibreLineOptions="New Fibre line",this._backUrlPath=r.a.DASHBOARD_ROUTE,this._alerts=[]}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngAfterViewInit(){setTimeout(()=>{jQuery('[data-toggle="popover"]').popover()},0)}ngOnInit(){if(r.d.logToDevConsole(["___shoppingCartView",this._shoppingCartView]),this._customerAccount=this._customerAccountService.getCustomerAccount(),r.d.logToDevConsole([this._customerAccount]),this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._shoppingCartView){const e=null===this._primaryContact.otpMobileNumber||""===this._primaryContact.otpMobileNumber,t=!this._primaryContact.otpVerified||e;this._showCheckoutOTPClear=!(this._shoppingCartView.requiresOtp&&t)}this._productViewService._cardViewSubject.subscribe(e=>{this._isListView=!0===e&&e}),this._isLoggedIn&&this._isExistingCustomer&&(this._customerAccount=this._customerAccountService.getCustomerAccount(),this._primaryContact=this._existingCustomerService.getPrimaryContact(this._customerAccount),this.shoppingCartView&&(this._showCheckoutOTPClear=!(this.shoppingCartView.requiresOtp&&(!this._primaryContact.otpVerified||null===this._primaryContact.otpMobileNumber||""===this._primaryContact.otpMobileNumber)))),this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,r.e.Fibre),this.product.friendlyName=this._friendlyName),this.campaign.friendlyName&&"Upgrade/Downgrade"===this.campaign.friendlyName&&(this._showCampaign=!1),this._tagLine=this.product.promoCodeTagLine?this.product.promoCodeTagLine:this.campaign.friendlyName,this.product.chargePeriod&&(this.__chargePeriod=this.product.chargePeriod),this.product.parameters&&(this._infrastructureProviderImage=this._productCardService.getFibreInfrastructureProviderImage(this.product.infrastructureProvider,!1)),this._proceedFriendlyName=this._productCardService.getProductProceedFriendlyName(this.canProceed,this.isLoggedIn),this.product.isPreOrder&&this._fsEnableFibrePreOrderCta&&(this._proceedFriendlyName="Pre-order")}cartLoadingDone(e){this._isCartLoadingSuccessful=e;let t=0,i=0,o=0,r=0,n=0,c=0;const a=this._cartLinesMonthlyCharges.find(e=>e.type===f.a.MonthlyTotal),s=this._cartLinesOnceOffCharges.find(e=>e.type===f.a.OnceOffTotal);a&&(t=a.price,i=a.vat,o=a.priceExcludingVat),s&&(r=s.price,n=s.vat,c=s.priceExcludingVat);let d=[],p=!1,u=!1;0===t&&r>0&&(this._showMonthlyChargesSection=!1),e&&(d=[],p=!1,u=!1);const l=this._shoppingCartViewService.getShoppingCartViewInstance(this._cartLinesAnnualCharges,this._cartLinesMonthlyCharges,this._cartLinesOnceOffCharges,0,0,0,t,i,o,r,n,c,e,d,p,u);this._isCartLoading=!1,this.shoppingCartView=l,this.onShoppingCartLoadingDoneEvent(l),this._shoppingCartViewService.saveShoppingCartViewState()}onShoppingCartLoadingDoneEvent(e){e.success&&(e.promoVoucherAdded?(this.shoppingCartProductView.price=e.monthlyChargesTotal,this._isShoppingCartLoadingSuccessful=!1,setTimeout(()=>{this.setShoppingCartView(e)},500)):this.setShoppingCartView(e)),this._isShoppingCartLoadingDone=!0}setShoppingCartView(e){if(this.shoppingCartView=e,this._isShoppingCartLoadingSuccessful=e.success,this._isLoggedIn){const e=this._existingCustomerService.getPrimaryContact(this._customerAccount);!this.shoppingCartView.requiresOtp||e.otpVerified&&null!==e.otpMobileNumber&&""!==e.otpMobileNumber||(this._alerts.push(C.a.getDangerAlert(r.f.ALERT_EC_ORDER_SUMMARY_MISSING_OTP_NUMBER)),r.d.scrollToTop())}}initialiseShoppingCartProductView(){var e,t,i;if(r.d.logToDevConsole(["initialiseShoppingCartProductView()"]),this._product){const n=this._shoppingCartService.getShoppingCartProductView();this._shoppingCartProductView=n||this._shoppingCartService.initialiseShoppingCartProductView();try{this._analyticsService.pushProductViewGtmEnhancedECommerce(this._product)}catch(o){}const a=this._promoCode.toLowerCase().includes("switch")?r.f.ORDER_SUMMARY_TELKOM_INSTRUCTION_TRANSFER:r.f.ORDER_SUMMARY_TELKOM_INSTRUCTION_NEW,d=[{name:r.a.PARAMETER_TELKOM_LINE_INSTRUCTION,value:a}];try{this._shoppingCartProductView.productCode=this._product.productCode,this._shoppingCartProductView.promoCode=this._product.promoCode,this._shoppingCartProductView.price=this._product.productRate,this._shoppingCartProductView.productName=this._product.productName,this._shoppingCartProductView.seoDescription=this._product.seoDescription,this._shoppingCartProductView.seoTitle=this._product.seoTitle,this._shoppingCartProductView.title=this._product.friendlyName?this._product.friendlyName:this._product.productName,this._shoppingCartProductView.parameters=d,this._shoppingCartProductView.saleType=this._connectivityRecommendationService.isNewSelectedProductCheck?s.b.ADD:this._connectivityRecommendationService.IsAdslEndingJourney?s.b.CHANGE:null===(e=this._connectivityRecommendationService.parentContract)||void 0===e?void 0:e.salesType,this._shoppingCartProductView.productType=c.a.FIBRE,this._shoppingCartProductView.parentContractId=this._connectivityRecommendationService.isNewSelectedProductCheck&&!this._router.url.toLowerCase().includes("switch")?0:null===(t=this._connectivityRecommendationService.parentContract)||void 0===t?void 0:t.contractId,this._shoppingCartProductView.orderType=this._newLineRental?s.a.New:this.getOrderType(null===(i=this._connectivityRecommendationService.parentContract)||void 0===i?void 0:i.salesType),r.d.logToDevConsole(["initialiseShoppingCartProductView() ::: SCPV state",this._shoppingCartProductView],"white","blue"),this._shoppingCartService.setShoppingCartProductView(this._shoppingCartProductView),setTimeout(()=>{this.setLineInstructionOption()},150)}catch(o){r.d.logErrorToDevConsole(["initialiseShoppingCartProductView() ::: _shoppingCartProductView INIT FAILED",o])}}}setLineInstructionOption(){const e=this._fsEnableSwitchByVendor.find(e=>e.vendor===this._product.infrastructureProvider&&e.switch_enabled),t="change"===this._shoppingCartProductView.saleType.toLowerCase(),i=this._shoppingCartService.getShoppingCartProductView();r.d.logToDevConsole(["setLineInstructionOption() ::: providerSwitchEnabled",e,"isChange: "+t,"SCPV saleType State",this._shoppingCartProductView.saleType,"storedSCPV",i],"purple","white"),e&&(this._showLineInstructionToggle=!t&&!!e),this.fibreLineOptions=this._promoCode.toLowerCase().includes("switch")?"Transfer existing Fibre line":"New Fibre line"}getOrderType(e){switch(e){case"New":return s.a.New;case"Change":return s.a.Change;case"Upsell":return s.a.Upgrade;case"Downgrade":return s.a.Downgrade}}getRelatedProducts(){const e=this._promoCodeProducts[0].products.filter(e=>e.productRate>this._product.productRate);e&&e.length>0?(this._productViewService.sortProductsByPriceAscending(e),this._relatedProducts=e.slice(0,2)):this._relatedProducts=[]}setProductDetails(){if(this._allProducts){const e=this._allProducts.find(e=>e.productCode===this._productCode);e&&(this._product=e,r.d.logToDevConsole(["******* FIBRE setProductDetails() ********","this._product.promoCodeTagLine:",this._product.promoCodeTagLine,"this._product:",this._product]),this.getRelatedProducts())}this._isProductsViewLoading=!1}getPrimaryProduct(){var e,t,i;const o=new class{};return o.parentContractId=(null===(e=this._connectivityRecommendationService.parentContract)||void 0===e?void 0:e._contractId)||(null===(t=this._connectivityRecommendationService.parentContract)||void 0===t?void 0:t.contractId)||0,o.primary=!0,o.productCode=this._productCode,o.promoCode=this._promoCode,o.saleType=this._connectivityRecommendationService.isNewSelectedProductCheck?s.b.ADD:(null===(i=this._connectivityRecommendationService.parentContract)||void 0===i?void 0:i.salesType)||s.b.UPGRADE,o}processProduct(e,t){var i,o;let r=0,n=0,c=0,a=0,s=0,d=0;const p=null===(i=this._cartLinesMonthlyCharges)||void 0===i?void 0:i.find(e=>e.type===f.a.MonthlyTotal),u=null===(o=this._cartLinesOnceOffCharges)||void 0===o?void 0:o.find(e=>e.type===f.a.OnceOffTotal);p&&(r=p.price,n=p.vat,c=p.priceExcludingVat),u&&(a=u.price,s=u.vat,d=u.priceExcludingVat);let l=[],h=!1,g=!1;e&&(l=e.customerPromoCodeInstructions,h=e.requiresOTPVerification,g=e.promoVoucherApplied&&e.promoVoucherValid),0===r&&a>0&&(this._showMonthlyChargesSection=!1);const b=this._shoppingCartViewService.getShoppingCartViewInstance(this._cartLinesAnnualCharges,this._cartLinesMonthlyCharges,this._cartLinesOnceOffCharges,0,0,0,r,n,c,a,s,d,t,l,h,g);this._isCartLoading=!1,this.shoppingCartView=b,this.onShoppingCartLoadingDoneEvent(b)}onProceedClick(e,t,i,o,n){e.preventDefault(),this.selectedProduct=t,this.shoppingCart=this._shoppingCartService.getShoppingCart(),this._shoppingCartView=this._shoppingCartViewService.getShoppingCartView(),this._shoppingCartViewService.retrieveShoppingCartViewState(),this.shoppingCart.promoVoucher&&(this.shoppingCart.promoVoucher="",this._shoppingCartService.setShoppingCart(this.shoppingCart),this._shoppingCartService.saveShoppingCart()),this._productCardService.onProceedClick(!0,r.a.PORTAL_ROUTE_DSTV_STREAMING,this.campaign,this.product,[],this.isLoggedIn),r.d.logToDevConsole(["processProduct",this.processProduct(n,o)])}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t)},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}displayError(){r.d.logToDevConsole([this._isDesktop]),this._isDesktop||this._matDialog.open(p.a,{})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(u.a),o.Ob(v.d),o.Ob(c.b),o.Ob(a.a),o.Ob(n.a),o.Ob(s.d),o.Ob(P.b),o.Ob(d.a),o.Ob(S.a),o.Ob(P.b),o.Ob(u.a),o.Ob(l.a),o.Ob(v.a),o.Ob(h.a),o.Ob(g.e),o.Ob(b.a),o.Ob(m.a),o.Ob(f.b),o.Ob(_.c))},e.\u0275cmp=o.Ib({type:e,selectors:[["dstv-product-card"]],hostBindings:function(e,t){1&e&&o.bc("resize",(function(e){return t.onResize(e)}),!1,o.Cc)},inputs:{campaign:"campaign",product:"product",canProceed:"canProceed",relatedProductPrice:"relatedProductPrice",shoppingCartView:"shoppingCartView",shoppingCartProductView:"shoppingCartProductView",isLoggedIn:"isLoggedIn",index:"index"},outputs:{checkCoverageClickEvent:"checkCoverageClickEvent"},decls:5,vars:3,consts:[["class","heroTextContainer w-100",4,"ngIf"],[1,"card","card-hover","dstv-landingpage-productcard"],[4,"ngIf","ngIfElse"],["desktopView",""],[1,"heroTextContainer","w-100"],["defaultTagLine",""],[1,"heroText"],[1,"dstv-product-card-gradiant"],[1,"clickable",3,"click"],[1,"col-md-8","dstv-product-card-info"],[1,"product-card-heading"],[1,"dstv-product-card-charge-period"],[1,"d-flex","w-100","justify-content-between"],[1,"product-card-price"],[1,"per-month"],[4,"ngIf"],[1,"dstv-streaming-product-card-summary"],[1,"d-flex","align-self-end","justify-content-end"],["regularOsuJourney",""],["overdueAccountButton",""],[1,"btn","button-primary","btn-proceed","dstv-landingpage-button-checkout"],["type","button","data-container","body","data-toggle","popover","data-trigger","focus","data-placement","top","data-html","true",1,"btn","button-primary","btn-proceed","dstv-landingpage-button-checkout",3,"click"],[1,"btn","button-primary","btn-proceed","dstv-landingpage-button-checkout",3,"id"],[1,"row","clickable",3,"click"],[1,"col-md-8","dstv-product-card-info-desktop"],[1,"d-flex","w-100","justify-content-between","align-items-center"],[1,"dstv-product-card-price","mb-1"],[1,"col-md-4"],[1,"h-50","d-flex","align-items-end","dstv-checkout-button"]],template:function(e,t){if(1&e&&(o.Oc(0,R,4,2,"div",0),o.Ub(1,"div",1),o.Oc(2,N,23,13,"ng-container",2),o.Oc(3,B,21,9,"ng-template",null,3,o.Pc),o.Tb()),2&e){const e=o.zc(4);o.nc("ngIf",t._shouldShowHero),o.Bb(2),o.nc("ngIf",t._isMobile||t._isTablet)("ngIfElse",e)}},directives:[T.t],pipes:[T.E,O.a,l.a],styles:[".card[_ngcontent-%COMP%]{border-radius:0}.dstv-landingpage-button-checkout[_ngcontent-%COMP%]{color:red!important}.dstv-landingpage-productcard[_ngcontent-%COMP%]{height:260px}.dstv-product-card-info-desktop[_ngcontent-%COMP%]{padding:30px;margin-top:-20px}.dstv-checkout-button[_ngcontent-%COMP%]{margin-top:60px}.dstv-product-card-gradiant[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:end;background:#f2f2f2;border-radius:1rem 1rem 0 0;min-height:50px!important}.button-primary[_ngcontent-%COMP%]{background-image:none!important;box-shadow:none!important;color:#143b8f;font-weight:400!important;font-size:16px;text-align:left!important}.price[_ngcontent-%COMP%]{padding-bottom:5px}.btn-proceed[_ngcontent-%COMP%]{height:35px;width:100%;padding:0!important;font-weight:700}.resize-provider-image[_ngcontent-%COMP%]{width:104px!important}.product-throttling[_ngcontent-%COMP%]{color:#a3a5a8}@media (max-width:768px){.btn-proceed[_ngcontent-%COMP%]{width:150px}.resize-provider-image[_ngcontent-%COMP%]{width:80px!important}}.clickable[_ngcontent-%COMP%]:hover{cursor:pointer}@media(max-width:768px){.fibre-landingpage-productcard[_ngcontent-%COMP%]{min-height:150px;max-height:150px;height:150px}}@media(max-width:360px){.product-card-price[_ngcontent-%COMP%]{font-size:24px!important}}@media(max-width:320px){.product-card-price[_ngcontent-%COMP%]{font-size:18px!important}}.product-card-tagline[_ngcontent-%COMP%]{min-height:48px;max-height:48px;overflow:hidden}.heroTextContainer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#005e7c,#05b9b5 60%)}.heroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%], .nonHeroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%]{margin-bottom:0!important;text-align:center;color:#fff;font-size:1.8rem;padding:.5rem 0;font-weight:700}.dstv-streaming-product-card-summary[_ngcontent-%COMP%]{height:64px;overflow:hidden;font-weight:700!important;color:#404041}.dstv-product-card-charge-period[_ngcontent-%COMP%]{font-size:14px}.dstv-product-card-price[_ngcontent-%COMP%]{color:#000;font-size:30px}"]}),e})()},GfZf:function(e,t,i){"use strict";i.d(t,"a",(function(){return Le}));var o=i("ofXK"),r=i("vMG0"),n=i("Wd19"),c=i("BH6e"),a=i("KlFn"),s=i("78Kp"),d=i("fXoL"),p=i("wxHw"),u=i("bu7n");function l(e,t){1&e&&(d.Sb(0),d.Qc(1,"Providers"),d.Rb())}function h(e,t){1&e&&(d.Sb(0),d.Qc(1,"Provider"),d.Rb())}function g(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"h5"),d.Oc(2,l,2,0,"ng-container",2),d.Oc(3,h,2,0,"ng-container",2),d.Tb(),d.Rb()),2&e){const e=d.fc();d.Bb(2),d.nc("ngIf",e._showAllProviderSelection),d.Bb(1),d.nc("ngIf",!e._showAllProviderSelection)}}function b(e,t){if(1&e&&(d.Ub(0,"span",18),d.Qc(1),d.Tb()),2&e){const e=d.fc();d.Bb(1),d.Rc(e._providerSelected.friendlyName)}}function m(e,t){if(1&e){const e=d.Vb();d.Ub(0,"div",19),d.Ub(1,"div"),d.Ub(2,"input",12),d.bc("click",(function(){d.Dc(e);const i=t.$implicit;return d.fc().onProviderSelectionClick(i)})),d.Tb(),d.Ub(3,"label",13),d.Qc(4),d.Tb(),d.Tb(),d.Pb(5,"img",20),d.Pb(6,"label",14),d.Tb()}if(2&e){const e=t.$implicit;d.Bb(2),d.oc("id",e.id),d.Bb(1),d.oc("for",e.id),d.Bb(1),d.Rc(e.friendlyName),d.Bb(1),d.pc("src","assets/img/",e.image,"",d.Gc),d.Bb(1),d.oc("for",e.id)}}const f=function(e){return{"custom-modal is-visible":e}};let _=(()=>{class e{constructor(e){this._productViewService=e,this.saveProviderSelectionEvent=new d.o,this._canProviderToggle=!1,this._showAllProviderSelection=!0,this._showProviderSelectionModal=!1,this._PORTAL_PAGES=p.e,this._isDevelopment=!1}ngOnInit(){p.a.isDevelopment()&&(this._isDevelopment=!0),this._windowWidth=window.innerWidth,this._allProviderSelection=this._productViewService.getInfrastructureProviderAllConfig(),this.providerSelection.length>1?(this._providerSelected=this._allProviderSelection,this._showAllProviderSelection=!0,this._canProviderToggle=!0):1===this.providerSelection.length?(this._providerSelected=this.providerSelection[0],this._showAllProviderSelection=!1):(this._providerSelected=this.temporaryProviderSelected,this._showAllProviderSelection=!1)}ngOnChanges(){this.providerSelection.length>1?(this._windowWidth=window.innerWidth,this._providerSelected=this._allProviderSelection,this._showAllProviderSelection=!0,this._canProviderToggle=!0):1===this.providerSelection.length?(this._providerSelected=this.providerSelection[0],this._showAllProviderSelection=!1,this._canProviderToggle=!1):(this._providerSelected=this.temporaryProviderSelected,this._showAllProviderSelection=!1,this._canProviderToggle=!1)}ngAfterViewInit(){}onProviderToggleClick(e){this.toggleProviderModal()}toggleProviderModal(){this._canProviderToggle&&this._windowWidth>991?(jQuery("#providers-modal").toggleClass("custom-modal is-visible"),jQuery("#providers-modal").hasClass("custom-modal is-visible")||(jQuery(".filter-bottom").removeClass("custom-modal is-visible").addClass("sticky"),jQuery("body").removeClass("custom-modal-open"))):jQuery("body").hasClass("custom-modal-open")&&(jQuery(".filter-bottom").removeClass("custom-modal is-visible").addClass("sticky"),jQuery("body").removeClass("custom-modal-open"))}onProviderSelectionClick(e){this._providerSelected=e,this._isDevelopment&&(console.groupCollapsed("Provider Popup - onProviderSelectionClick()"),console.log("Provider selected:",this._providerSelected),console.groupEnd())}onSaveProviderSelectionClick(e){this.saveProviderSelectionEvent.emit(this._providerSelected),this.toggleProviderModal(),this._isDevelopment&&(console.groupCollapsed("Provider Popup - onSaveProviderSelectionClick()"),console.log("Provider selected:",this._providerSelected),console.groupEnd())}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(u.a))},e.\u0275cmp=d.Ib({type:e,selectors:[["popup-provider"]],inputs:{page:"page",providerSelection:"providerSelection",temporaryProviderSelected:"temporaryProviderSelected"},outputs:{saveProviderSelectionEvent:"saveProviderSelectionEvent"},features:[d.zb],decls:25,vars:14,consts:[[1,"provider-filters"],[1,"provider-filters-toggle"],[4,"ngIf"],["id","filter-provider","type","button",1,"providers-toggle","btn","secondary","small","mr-3","mr-md-0",3,"click"],["id","filter-provider-selected",4,"ngIf"],["id","providers-modal",1,"providers-modal",3,"ngClass"],[1,"custom-modal-overlay","providers-toggle",3,"click"],[1,"providers-container"],[1,"custom-modal-heading"],[1,"icon","icon-32","btn-close","providers-toggle",3,"click"],[1,"custom-modal-body"],[1,"form-check","provider-check","all-providers"],["type","radio","name","providerRadios",1,"form-check-input",3,"id","click"],[1,"form-check-label",3,"for"],[1,"provider-label",3,"for"],["class","form-check provider-check",4,"ngFor","ngForOf"],[1,"custom-modal-footer"],["id","provider-save",1,"btn","primary","providers-toggle",3,"click"],["id","filter-provider-selected"],[1,"form-check","provider-check"],[1,"img-fluid",3,"src"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Oc(2,g,4,2,"ng-container",2),d.Ub(3,"button",3),d.bc("click",(function(e){return t.onProviderToggleClick(e)})),d.Oc(4,b,2,1,"span",4),d.Tb(),d.Tb(),d.Ub(5,"div",5),d.Ub(6,"div",6),d.bc("click",(function(e){return t.onProviderToggleClick(e)})),d.Tb(),d.Ub(7,"div",7),d.Ub(8,"div",8),d.Ub(9,"h3"),d.Qc(10,"Service providers at your address"),d.Tb(),d.Ub(11,"div",9),d.bc("click",(function(e){return t.onProviderToggleClick(e)})),d.Tb(),d.Tb(),d.Ub(12,"div",10),d.Ub(13,"h5"),d.Qc(14,"Providers"),d.Tb(),d.Ub(15,"div",11),d.Ub(16,"div"),d.Ub(17,"input",12),d.bc("click",(function(){return t.onProviderSelectionClick(t._allProviderSelection)})),d.Tb(),d.Ub(18,"label",13),d.Qc(19),d.Tb(),d.Tb(),d.Pb(20,"label",14),d.Tb(),d.Oc(21,m,7,5,"div",15),d.Tb(),d.Ub(22,"div",16),d.Ub(23,"button",17),d.bc("click",(function(e){return t.onSaveProviderSelectionClick(e)})),d.Qc(24,"Save"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Bb(2),d.nc("ngIf",t._providerSelected),d.Bb(1),d.Gb("disabled",!t._showAllProviderSelection),d.Bb(1),d.nc("ngIf",t._providerSelected),d.Bb(1),d.nc("ngClass",d.uc(12,f,t._showProviderSelectionModal)),d.Bb(7),d.Gb("d-none",!t._showAllProviderSelection),d.Bb(5),d.oc("id",t._allProviderSelection.id),d.Bb(1),d.oc("for",t._allProviderSelection.id),d.Bb(1),d.Rc(t._allProviderSelection.friendlyName),d.Bb(1),d.oc("for",t._allProviderSelection.id),d.Bb(1),d.nc("ngForOf",t.providerSelection))},directives:[o.t,o.q,o.s],encapsulation:2}),e})();var C=i("Fa/5"),v=i("nMlR"),P=i("pqLn"),S=i("vVA4"),T=i("Fin/"),O=i("50Pb"),w=i("L87L"),y=i("ZCDz"),R=i("TU8p"),U=i("Wp6s"),I=i("bSwM"),E=i("7EHt"),k=i("NFeN"),x=i("QibW"),N=i("SYyN"),L=i("3Pt+"),M=i("l8PN");let A=(()=>{class e{constructor(){this.arrearsMessage=p.f.ALERT_ACCOUNT_IN_ARREARS}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Ib({type:e,selectors:[["app-overdue-account-snackbar"]],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,t){1&e&&d.Pb(0,"p",0),2&e&&d.nc("innerHTML",t.arrearsMessage,d.Ec)},styles:[""]}),e})();var D=i("ihQd"),V=i("cK8o"),B=i("IBUU"),F=i("taPy"),Q=i("3zK3"),z=i("9WlA"),G=i("Ej31"),W=i("/H/C"),j=i("ej43"),H=i("tyNb"),K=i("0IaG"),$=i("gfT6");function q(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"h3",19),d.Qc(2),d.gc(3,"spaceSeparator"),d.Tb(),d.Rb()),2&e){const e=d.fc();d.Bb(2),d.Sc(" R",d.hc(3,1,e.product.productRate),"pm")}}function Y(e,t){if(1&e&&(d.Ub(0,"span",21),d.Qc(1),d.gc(2,"spaceSeparator"),d.Tb()),2&e){const e=d.fc(2);d.Bb(1),d.Sc("R",d.hc(2,1,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductRate),"pm")}}function X(e,t){if(1&e&&(d.Oc(0,Y,3,3,"span",20),d.Ub(1,"h3",19),d.Qc(2),d.gc(3,"spaceSeparator"),d.Tb()),2&e){const e=d.fc();d.nc("ngIf",null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductRate),d.Bb(2),d.Sc(" R",d.hc(3,2,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductDiscountedProductRate),"pm")}}function J(e,t){if(1&e){const e=d.Vb();d.Sb(0),d.Ub(1,"button",22),d.bc("click",(function(t){return d.Dc(e),d.fc().onProceedClick(t)})),d.Qc(2),d.Ub(3,"span",23),d.Pb(4,"i",24),d.Tb(),d.Tb(),d.Rb()}if(2&e){const e=d.fc();d.Bb(2),d.Sc(" ",e._proceedFriendlyName," ")}}function Z(e,t){if(1&e){const e=d.Vb();d.Ub(0,"button",22),d.bc("click",(function(){return d.Dc(e),d.fc().checkCoverage()})),d.Qc(1),d.Ub(2,"span",23),d.Pb(3,"i",24),d.Tb(),d.Tb()}if(2&e){const e=d.fc();d.Bb(1),d.Sc(" ",e._proceedFriendlyName," ")}}let ee=(()=>{class e{constructor(e,t,i,o,r,n,c,a,s,u,l){this._shoppingCartService=e,this._productCardService=t,this._router=i,this.connectivityRecommendationService=o,this._browserStorageService=r,this._slugifyPipe=n,this._matDialog=c,this._customerAccountService=a,this._productDataService=s,this._megabyteConverter=u,this._authenticationService=l,this.canProceed=!0,this.relatedProductPrice=0,this.isLoggedIn=!1,this.checkCoverageClickEvent=new d.o,this._proceedFriendlyName="Choose package",this._fsCoverageDialogEnaled=p.a.APP_CONFIG.F_S.COVERAGE_DIALOG_ENABLED}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngOnInit(){this.isLoggedIn=this._authenticationService.isExistingCustomerLoggedIn(),this._router.url.includes("fibre")&&(this._isFibre=!0),this._customerAccount=this._customerAccountService.getCustomerAccount(),p.d.logToDevConsole([this._customerAccount]),this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._isBestDeal="Unthrottled"===this.product.productThrottlingType&&"Uncapped"===this.product.productCapType&&this.product.infrastructureProvider.toLowerCase().includes("openserve"),this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,p.e.Fibre),this.product.friendlyName=this._friendlyName),this._proceedFriendlyName=this._productCardService.getProductProceedFriendlyName(this.canProceed,this.isLoggedIn,!0)}onProceedClick(e){var t;e.preventDefault(),this.shoppingCart=this._shoppingCartService.getShoppingCart(),this.shoppingCart.promoVoucher&&(this.shoppingCart.promoVoucher="",this._shoppingCartService.setShoppingCart(this.shoppingCart),this._shoppingCartService.saveShoppingCart());let i=p.a.isDevelopment()&&p.a.APP_CONFIG.F_S.USE_FIBRE2_IN_DEV?"/fibre2":"/fibre";if(this._router.url.includes("fibre-internet")&&(i="/fibre-internet"),this._router.url.includes("fibre")&&(null===(t=this._proceedFriendlyName)||void 0===t?void 0:t.toLowerCase().includes("check coverage"))&&p.d.scrollToElement("#coverage-map-component"),this.product.infrastructureProvider===p.a.PRODUCT_VENDOR_VUMA_REACH.vendor&&p.a.APP_CONFIG.F_S.REDIRECT_FIBRE_CARD_CTA_FOR_VR_WITH_NO_LOCATION_ID&&!localStorage.getItem("locationLookupId"))p.d.logToDevConsole(["FibreProductDetailCombinedComponent.initialisePage() ::: Is Vuma Reach product with NO locationLookupId","Redirecting to /fibre-vuma-reach"],"red","white"),this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this._router.navigate(["/fibre-vuma-reach"]));else if(this.isLoggedIn){this.connectivityRecommendationService.setSelectedProduct(this.product);const e=this._browserStorageService.getSessionStorage("originalProductView");e&&(this._browserStorageService.removeSessionStorage("persistOriginalProductView"),this._browserStorageService.setSessionStorage("persistOriginalProductView",e)),this.product.subcategory.toLowerCase().includes("reach"),this.product.productName.toLowerCase().includes("fibre"),this._router.navigate([`/customer/fibre-details/${this._slugifyPipe.transform(this.product.infrastructureProvider.toLowerCase())}/${this.product.productCode.toLowerCase()}/${this.product.promoCode.toLowerCase()}`])}else this._productCardService.onProceedClick(this.canProceed,""+i,this.campaign,this.product,null,this.isLoggedIn)?this.checkCoverage():e.preventDefault()}checkCoverage(){this._fsCoverageDialogEnaled?this.openDialog():setTimeout(()=>{p.d.scrollToElement("body")},600)}getLineSpeed(e,t){if(!e)return"0";if(isNaN(e))return"0";let i=Math.floor(Math.log(e)/Math.log(1024));return e>=1024e3&&(i=2),"speed"===t?parseFloat((e/Math.pow(1024,i)).toFixed(2)):"mbValue"===t?["Kbps","Mbps","Gbps","Tbps"][i]:void 0}openDialog(){this._matDialog.open(M.a,{width:this._isDesktop?"950px":"320px"})}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t)},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}displayError(){p.d.logToDevConsole([this._isDesktop]),this._isDesktop||this._matDialog.open(F.a,{})}LinkClick(e){e.preventDefault(),this._proceedFriendlyName.includes("Choose package")?this.onProceedClick(e):this.checkCoverage()}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(Q.d),d.Ob(v.a),d.Ob(H.d),d.Ob(z.a),d.Ob(G.a),d.Ob(S.a),d.Ob(K.b),d.Ob(W.a),d.Ob(B.b),d.Ob(T.a),d.Ob(j.c))},e.\u0275cmp=d.Ib({type:e,selectors:[["vuma-reach-product-card"]],hostBindings:function(e,t){1&e&&d.bc("resize",(function(e){return t.onResize(e)}),!1,d.Cc)},inputs:{product:"product",canProceed:"canProceed",relatedProductPrice:"relatedProductPrice",isLoggedIn:"isLoggedIn"},outputs:{checkCoverageClickEvent:"checkCoverageClickEvent"},decls:39,vars:18,consts:[[1,"vuma-reach-fibre-campaign-product-container","fibre-vuma-reach-landingpage-productcard"],[1,"fibre-vuma-reach-landingpage-button-checkout",3,"href","click"],[1,"vuma-reach-fibre-campaign-product-card"],[1,"row"],[1,"col-12"],[4,"ngIf","ngIfElse"],["preProductPricing",""],[1,"col-6","speed-seperator","down-up-speed-blocks-desktop"],[1,"p-0","m-0","vuma-reach-fibre-campaign-product-card-speed-text"],[1,"p-0","m-0","vuma-reach-fibre-campaign-product-card-speed-value"],[1,"col-6","speed-seperator","down-up-speed-blocks-mobile","text-center"],[1,"p-0","m-0","vuma-reach-fibre-campaign-product-card-speed-text","down-margin-fix","mobile-margin-fix-2"],[1,"p-0","m-0","vuma-reach-fibre-campaign-product-card-speed-value","mobile-margin-fix"],[1,"col-6","down-up-speed-blocks-desktop"],[1,"col-6","down-up-speed-blocks-mobile","text-center"],[1,"p-0","m-0","vuma-reach-fibre-campaign-product-card-speed-text","mobile-right-block-fix"],[1,"p-0","m-0","vuma-reach-fibre-campaign-product-card-speed-value","mobile-right-block-fix"],[1,"col-12","mt-1","mb-1"],["searchCoverage",""],[1,"vuma-reach-fibre-campaign-product-card-price-text","product-card-price","m-0"],["class","original-price-text text-center w-100 d-block",4,"ngIf"],[1,"original-price-text","text-center","w-100","d-block"],[1,"btn","button-primary","btn-proceed","d-block","m-0-auto","vuma-reach-btn-proceed","fibre-vuma-reach-landingpage-button-checkout",3,"click"],[1,"check-coverage-icon"],[1,"fas","fa-chevron-right"]],template:function(e,t){if(1&e&&(d.Ub(0,"div",0),d.Ub(1,"a",1),d.bc("click",(function(e){return t.LinkClick(e)})),d.gc(2,"slugify"),d.Ub(3,"div",2),d.Ub(4,"div",3),d.Ub(5,"div",4),d.Oc(6,q,4,3,"ng-container",5),d.Oc(7,X,4,4,"ng-template",null,6,d.Pc),d.Tb(),d.Ub(9,"div",7),d.Ub(10,"p",8),d.Qc(11," Down"),d.Tb(),d.Ub(12,"p",9),d.Qc(13),d.gc(14,"megabyteSpeedConverter"),d.Tb(),d.Tb(),d.Ub(15,"div",10),d.Ub(16,"p",11),d.Qc(17," Down"),d.Tb(),d.Ub(18,"p",12),d.Qc(19),d.Tb(),d.Ub(20,"p",12),d.Qc(21),d.Tb(),d.Tb(),d.Ub(22,"div",13),d.Ub(23,"p",8),d.Qc(24," Up"),d.Tb(),d.Ub(25,"p",9),d.Qc(26),d.gc(27,"megabyteSpeedConverter"),d.Tb(),d.Tb(),d.Ub(28,"div",14),d.Ub(29,"p",15),d.Qc(30," Up"),d.Tb(),d.Ub(31,"p",16),d.Qc(32),d.Tb(),d.Ub(33,"p",16),d.Qc(34),d.Tb(),d.Tb(),d.Ub(35,"div",17),d.Oc(36,J,5,1,"ng-container",5),d.Oc(37,Z,4,1,"ng-template",null,18,d.Pc),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e){const e=d.zc(8),i=d.zc(38);d.Bb(1),d.qc("href","/fibre/",d.hc(2,12,t._friendlyName),"/",t.product.productCode,"",d.Gc),d.Bb(5),d.nc("ngIf",!(null!=t.product&&t.product.hasPreProduct))("ngIfElse",e),d.Bb(7),d.Sc(" ",d.hc(14,14,t.product.lineSpeed),""),d.Bb(6),d.Sc(" ",t.getLineSpeed(t.product.lineSpeed,"speed"),""),d.Bb(2),d.Sc(" ",t.getLineSpeed(t.product.lineSpeed,"mbValue"),""),d.Bb(5),d.Sc(" ",d.hc(27,16,t.product.lineSpeedUpload),""),d.Bb(6),d.Sc(" ",t.getLineSpeed(t.product.lineSpeedUpload,"speed"),""),d.Bb(2),d.Sc(" ",t.getLineSpeed(t.product.lineSpeedUpload,"mbValue"),""),d.Bb(2),d.nc("ngIf",t._proceedFriendlyName.includes("Choose package"))("ngIfElse",i)}},directives:[o.t],pipes:[S.a,T.a,$.a],styles:[".vuma-reach-fibre-packages-container[_ngcontent-%COMP%]{position:relative}.vuma-reach-fibre-packages-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute}.custom-square[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00b4b0;font-size:1rem;position:relative;bottom:.2rem;margin-right:.5rem}@keyframes product-card-entry{0%{transform:scaleY(.1)}to{transform:scaleY(1)}}.vuma-reach-fibre-campaign-product-card[_ngcontent-%COMP%]{border:1px solid #a3a5a8;padding:1rem 2rem;transition:all .3s ease;animation:product-card-entry .4s ease}.vuma-reach-fibre-campaign-product-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px rgba(0,0,0,.2);cursor:pointer}.speed-seperator[_ngcontent-%COMP%]{border-right:1px solid #a3a5a8}.vuma-reach-fibre-campaign-product-card-speed-text[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.vuma-reach-fibre-campaign-product-card-speed-value[_ngcontent-%COMP%]{font-size:18px;color:#404041;font-weight:700}.vuma-reach-fibre-campaign-product-card-price-text[_ngcontent-%COMP%]{font-weight:700;text-align:center}.check-coverage-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.m-0-auto[_ngcontent-%COMP%]{margin:0 auto}.vuma-reach-hero-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:0;border-top:125px solid #00b4b0;border-right:125px solid rgba(0,0,0,0)}.vuma-reach-hero-text[_ngcontent-%COMP%]{top:.9rem;left:1.5rem;color:#eee;font-weight:800;font-size:18px;width:5rem;-ms-transform:rotate(317deg);transform:rotate(317deg)}.vuma-reach-main-heading-image[_ngcontent-%COMP%]{top:-1rem;height:7rem}.vuma-reach-btn-proceed[_ngcontent-%COMP%]{font-weight:700!important;padding:1.1rem 1.5rem!important}.mobile-price[_ngcontent-%COMP%]{display:none}.vuma-reach-btn-proceed[_ngcontent-%COMP%]{font-size:1.3rem!important}@media(min-width:992px){.vuma-reach-fibre-campaign-product-card[_ngcontent-%COMP%]:first-child{margin-bottom:2rem}}@media (max-width:991px){.vuma-reach-fibre-campaign-product-card[_ngcontent-%COMP%]:first-child{margin-bottom:1rem!important}}@media(min-width:992px){.down-margin-fix[_ngcontent-%COMP%]{margin-left:.8rem!important}}@media (max-width:425px){.vuma-reach-fibre-campaign-product-card[_ngcontent-%COMP%]{padding:.5rem!important}.down-up-speed-blocks-mobile[_ngcontent-%COMP%]{padding:0!important}.vuma-reach-fibre-campaign-product-card-speed-value[_ngcontent-%COMP%]{font-size:13px!important}.mobile-margin-fix[_ngcontent-%COMP%]{margin-left:.8rem!important}.mobile-margin-fix-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.mobile-right-block-fix[_ngcontent-%COMP%]{margin-left:-1.5rem!important}.vuma-reach-btn-proceed[_ngcontent-%COMP%]{padding-left:5px!important;padding-right:5px!important;font-size:1.15rem!important}.mobile-price[_ngcontent-%COMP%]{display:block!important}.desktop-price[_ngcontent-%COMP%]{display:none!important}}@media(max-width:342px){.vuma-reach-btn-proceed[_ngcontent-%COMP%]{font-size:1rem!important;padding:.5rem!important}}.vuma-reach-fibre-campaign-product-card-speed-text[_ngcontent-%COMP%], .vuma-reach-fibre-campaign-product-card-speed-value[_ngcontent-%COMP%]{text-align:center}@media (max-width:1024px){.vuma-reach-fibre-campaign-product-card-speed-value[_ngcontent-%COMP%]{font-size:13px}.vuma-reach-fibre-campaign-product-card-speed-text[_ngcontent-%COMP%]{font-size:16px}.down-up-speed-blocks-desktop[_ngcontent-%COMP%]{padding:7px!important}}@media (max-width:1199px){.vuma-reach-fibre-campaign-product-card-speed-value[_ngcontent-%COMP%]{font-size:15px}}.fibre-vuma-reach-landingpage-button-checkout[_ngcontent-%COMP%]{text-decoration:none!important}.original-price-text[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:700;color:#a3a5a8;-webkit-text-decoration:line-through red;text-decoration:line-through red}"]}),e})();var te=i("tAX1"),ie=i("qzjK"),oe=i("v1uQ"),re=i("O89p"),ne=i("cH1L"),ce=i("bTqV"),ae=i("vxfF"),se=i("kmnG"),de=i("d3UM"),pe=i("FKr1"),ue=i("jaxi"),le=i("dNgK"),he=i("ihCf"),ge=i("qFsG"),be=i("1jcm"),me=i("f0Cb"),fe=i("iadO"),_e=i("wZkO"),Ce=i("oPIn"),ve=i("5bXp"),Pe=i("w6ie"),Se=i("+6XI"),Te=i("NLDY"),Oe=i("ab2+"),we=i("Dlr0"),ye=i("zBcD"),Re=i("2B9w"),Ue=i("70sR"),Ie=i("nfW4"),Ee=i("Kk0a"),ke=i("RdOw"),xe=i("iyjT"),Ne=i("5WpS");let Le=(()=>{class e{}return e.\u0275mod=d.Mb({type:e,bootstrap:[n.a,_,c.a,a.a,s.a,w.a,M.a,V.a,te.a,ie.a]}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},providers:[u.a,v.a,S.a,O.a,T.a],imports:[[o.c,r.a,P.a,U.j,I.b,E.b,N.a,x.c,R.b,L.o,L.E,k.b]]}),e})();d.Hc(n.a,[o.q,o.r,o.s,o.t,o.A,o.w,o.x,o.y,o.z,o.u,o.v,oe.a,re.a,U.a,U.f,U.n,U.d,U.m,U.l,U.b,U.e,U.k,U.i,U.h,U.g,U.o,U.c,ne.b,I.a,I.c,E.a,E.c,E.d,E.g,E.h,E.f,E.e,ce.b,ce.a,ae.a,se.b,se.c,se.f,se.g,se.h,se.i,se.j,de.a,de.c,pe.p,pe.o,ue.b,ue.a,K.e,K.d,K.i,K.f,K.c,le.b,he.b,he.c,ge.b,ge.d,be.c,be.a,me.a,fe.a,fe.b,fe.f,fe.g,fe.h,fe.j,fe.k,fe.m,fe.p,fe.n,fe.c,fe.d,fe.o,fe.l,fe.e,_e.c,_e.d,_e.a,_e.f,_e.e,_e.b,Ce.a,x.b,x.a,R.a,L.K,L.z,L.J,L.d,L.A,L.D,L.a,L.G,L.H,L.C,L.u,L.v,L.F,L.q,L.p,L.B,L.b,L.e,L.x,L.y,L.w,L.j,L.m,L.k,L.n,L.g,k.a,n.a,_,c.a,C.a,a.a,s.a,w.a,y.a,M.a,A,D.a,V.a,ee,te.a,ie.a],[o.b,o.G,o.p,o.k,o.E,o.g,o.C,o.F,o.d,o.f,o.i,o.j,o.l,ve.a,O.a,Pe.a,T.a,Se.a,Te.a,Oe.a,we.a,S.a,ye.a,Re.a,Ue.a,Ie.a,Ee.a,ke.a,$.a,xe.a,Ne.a])},KlFn:function(e,t,i){"use strict";i.d(t,"a",(function(){return te}));var o=i("fXoL"),r=i("wxHw"),n=i("nMlR"),c=i("IBUU"),a=i("bu7n"),s=i("/H/C"),d=i("taPy"),p=i("9WlA"),u=i("vVA4"),l=i("DPk/"),h=i("50Pb"),g=i("Y9WU"),b=i("tyNb"),m=i("dNgK"),f=i("0IaG"),_=i("ofXK"),C=i("gfT6");function v(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"p",7),o.Qc(2),o.gc(3,"slice"),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(o.jc(3,1,e.product.heroTagLine,0,29))}}function P(e,t){1&e&&(o.Ub(0,"p",7),o.Qc(1,"Most popular"),o.Tb())}function S(e,t){if(1&e&&(o.Ub(0,"div",5),o.Oc(1,v,4,5,"ng-container",3),o.Oc(2,P,2,0,"ng-template",null,6,o.Pc),o.Tb()),2&e){const e=o.zc(3),t=o.fc();o.Bb(1),o.nc("ngIf",(null==t.product||null==t.product.heroTagLine?null:t.product.heroTagLine.length)>0)("ngIfElse",e)}}function T(e,t){if(1&e&&(o.Ub(0,"div"),o.Ub(1,"p",7),o.Qc(2,"\xa0"),o.Tb(),o.Tb()),2&e){const e=o.fc();o.Eb("nonHeroTextContainer nonHeroTextContainer-",e.index," d-none")}}function O(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function w(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function y(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"div",20),o.Ub(2,"span",21),o.Qc(3),o.gc(4,"spaceSeparator"),o.Ub(5,"span",22),o.Oc(6,O,2,0,"ng-container",23),o.Tb(),o.Tb(),o.Ub(7,"span",24),o.Qc(8),o.gc(9,"spaceSeparator"),o.Ub(10,"span",22),o.Oc(11,w,2,0,"ng-container",23),o.Tb(),o.Tb(),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(3),o.Sc(" R",o.hc(4,4,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase()),o.Bb(2),o.Sc("R",o.hc(9,6,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductDiscountedProductRate)," "),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase())}}function R(e,t){if(1&e&&(o.Ub(0,"div",20),o.Qc(1),o.gc(2,"spaceSeparator"),o.Ub(3,"span",22),o.Qc(4,"pm"),o.Tb(),o.Tb()),2&e){const e=o.fc(2);o.Bb(1),o.Sc("R",o.hc(2,1,e.product.productRate),"")}}function U(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",25),o.Qc(2),o.gc(3,"gigabyteConverter"),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(o.hc(3,1,2*e.product.productCap))}}function I(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",25),o.Qc(2),o.gc(3,"gigabyteConverter"),o.Tb(),o.Rb()),2&e){const e=o.fc(3);o.Bb(2),o.Rc(o.hc(3,1,e.lteWrongValueFix))}}function E(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",25),o.Qc(2),o.gc(3,"gigabyteConverter"),o.Tb(),o.Rb()),2&e){const e=o.fc(4);o.Bb(2),o.Rc(o.hc(3,1,e.teraByteValueCalculatedString))}}function k(e,t){if(1&e&&(o.Ub(0,"span",25),o.Qc(1),o.gc(2,"gigabyteConverter"),o.Tb()),2&e){const e=o.fc(4);o.Bb(1),o.Rc(o.hc(2,1,2*e.product.productCap))}}function x(e,t){if(1&e&&(o.Oc(0,E,4,3,"ng-container",3),o.Oc(1,k,3,3,"ng-template",null,27,o.Pc)),2&e){const e=o.zc(2),t=o.fc(3);o.nc("ngIf",0===t.nighttimeCapGbValue)("ngIfElse",e)}}function N(e,t){if(1&e&&(o.Oc(0,I,4,3,"ng-container",3),o.Oc(1,x,3,2,"ng-template",null,26,o.Pc)),2&e){const e=o.zc(2),t=o.fc(2);o.nc("ngIf",t.lteWrongValueFix)("ngIfElse",e)}}function L(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"button",29),o.Qc(2),o.Tb(),o.Rb()),2&e){const e=o.fc(3);o.Bb(2),o.Rc(e._proceedFriendlyName)}}function M(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",30),o.bc("click",(function(){o.Dc(e);const t=o.fc(3);return t.displayReadOnlyPopOver("btn-checkout-product-"+t.slugify(t.product.friendlyName),t._arrearsAccountMessage)})),o.Qc(1,"Checkout "),o.Tb()}if(2&e){const e=o.fc(3);o.Cb("data-content",e._arrearsAccountMessage)}}function A(e,t){if(1&e&&(o.Sb(0),o.Oc(1,L,3,1,"ng-container",3),o.Oc(2,M,2,1,"ng-template",null,28,o.Pc),o.Rb()),2&e){const e=o.zc(3),t=o.fc(2);o.Bb(1),o.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function D(e,t){if(1&e&&(o.Ub(0,"button",31),o.gc(1,"slugify"),o.Qc(2),o.Tb()),2&e){const e=o.fc(2);o.pc("id","more-info-",o.hc(1,2,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function V(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"div",8),o.Ub(2,"div",9),o.Qc(3),o.Tb(),o.Ub(4,"div",10),o.Ub(5,"div"),o.Ub(6,"span",11),o.Qc(7),o.Tb(),o.Oc(8,y,12,8,"ng-container",3),o.Oc(9,R,5,3,"ng-template",null,12,o.Pc),o.Tb(),o.Ub(11,"div"),o.Ub(12,"div",10),o.Ub(13,"div",13),o.Ub(14,"div",14),o.Qc(15,"Data"),o.Tb(),o.Oc(16,U,4,3,"ng-container",3),o.Oc(17,N,3,2,"ng-template",null,15,o.Pc),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(19,"div",10),o.Ub(20,"div"),o.Ub(21,"div",16),o.Pb(22,"img",17),o.Tb(),o.Tb(),o.Ub(23,"div",18),o.Oc(24,A,4,2,"ng-container",3),o.Oc(25,D,3,4,"ng-template",null,19,o.Pc),o.Tb(),o.Tb(),o.Tb(),o.Rb()),2&e){const e=o.zc(10),t=o.zc(18),i=o.zc(26),r=o.fc();o.Bb(3),o.Sc("",r._friendlyName," "),o.Bb(4),o.Rc(r._tagLine),o.Bb(1),o.nc("ngIf",r._fsEnableProductStrikeThroughs&&r.product&&r.product.hasPreProduct&&r.product.preProduct.preProductRate)("ngIfElse",e),o.Bb(8),o.nc("ngIf",r.isUncapped)("ngIfElse",t),o.Bb(6),o.pc("src","/media/images/providers/",r._infrastructureProviderImage,"",o.Gc),o.nc("alt",r.product.infrastructureProvider),o.Bb(1),o.Gb("w-100",r._isMobile)("w-50",r._isTablet),o.Bb(1),o.nc("ngIf",r._osuExistingCustomerOverdueAccounts)("ngIfElse",i)}}function B(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",11),o.Qc(2),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(e.product.productThrottlingType)}}function F(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function Q(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function z(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"div",20),o.Ub(2,"span",21),o.Qc(3),o.gc(4,"spaceSeparator"),o.Ub(5,"span",22),o.Oc(6,F,2,0,"ng-container",23),o.Tb(),o.Tb(),o.Ub(7,"span",24),o.Qc(8),o.gc(9,"spaceSeparator"),o.Ub(10,"span",22),o.Oc(11,Q,2,0,"ng-container",23),o.Tb(),o.Tb(),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(3),o.Sc(" R",o.hc(4,4,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase()),o.Bb(2),o.Sc("R",o.hc(9,6,null==e.product||null==e.product.preProduct?null:e.product.preProduct.preProductDiscountedProductRate)," "),o.Bb(3),o.nc("ngIf","mitchells fibre"!==e.product.infrastructureProvider.toLowerCase())}}function G(e,t){if(1&e&&(o.Ub(0,"div",20),o.Qc(1),o.gc(2,"spaceSeparator"),o.Ub(3,"span",22),o.Qc(4,"pm"),o.Tb(),o.Tb()),2&e){const e=o.fc(2);o.Bb(1),o.Sc("R",o.hc(2,1,e.product.productRate),"")}}function W(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",25),o.Qc(2),o.gc(3,"gigabyteConverter"),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(o.hc(3,1,2*e.product.productCap))}}function j(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",25),o.Qc(2),o.gc(3,"gigabyteConverter"),o.Tb(),o.Rb()),2&e){const e=o.fc(3);o.Bb(2),o.Rc(o.hc(3,1,e.lteWrongValueFix))}}function H(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"span",25),o.Qc(2),o.gc(3,"gigabyteConverter"),o.Tb(),o.Rb()),2&e){const e=o.fc(4);o.Bb(2),o.Rc(o.hc(3,1,e.teraByteValueCalculatedString))}}function K(e,t){if(1&e&&(o.Ub(0,"span",25),o.Qc(1),o.gc(2,"gigabyteConverter"),o.Tb()),2&e){const e=o.fc(4);o.Bb(1),o.Rc(o.hc(2,1,2*e.product.productCap))}}function $(e,t){if(1&e&&(o.Oc(0,H,4,3,"ng-container",3),o.Oc(1,K,3,3,"ng-template",null,27,o.Pc)),2&e){const e=o.zc(2),t=o.fc(3);o.nc("ngIf",0===t.nighttimeCapGbValue)("ngIfElse",e)}}function q(e,t){if(1&e&&(o.Oc(0,j,4,3,"ng-container",3),o.Oc(1,$,3,2,"ng-template",null,43,o.Pc)),2&e){const e=o.zc(2),t=o.fc(2);o.nc("ngIf",t.lteWrongValueFix)("ngIfElse",e)}}function Y(e,t){if(1&e){const e=o.Vb();o.Sb(0),o.Ub(1,"a",44),o.bc("click",(function(t){return o.Dc(e),o.fc(3).onProceedClick(t),t.stopPropagation()})),o.gc(2,"slugify"),o.Qc(3),o.Tb(),o.Rb()}if(2&e){const e=o.fc(3);o.Bb(1),o.qc("href","/lte/",o.hc(2,3,e._friendlyName),"/",e.product.productCode,"",o.Gc),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function X(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",30),o.bc("click",(function(){o.Dc(e);const t=o.fc(3);return t.displayReadOnlyPopOver("btn-checkout-product-"+t.slugify(t.product.friendlyName),t._arrearsAccountMessage)})),o.Qc(1,"Checkout "),o.Tb()}if(2&e){const e=o.fc(3);o.Cb("data-content",e._arrearsAccountMessage)}}function J(e,t){if(1&e&&(o.Sb(0),o.Oc(1,Y,4,5,"ng-container",3),o.Oc(2,X,2,1,"ng-template",null,28,o.Pc),o.Rb()),2&e){const e=o.zc(3),t=o.fc(2);o.Bb(1),o.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function Z(e,t){if(1&e){const e=o.Vb();o.Ub(0,"a",45),o.bc("click",(function(t){return o.Dc(e),o.fc(2).onProceedClick(t),t.stopPropagation()})),o.gc(1,"slugify"),o.Qc(2),o.Tb()}if(2&e){const e=o.fc(2);o.qc("href","/lte/",o.hc(1,3,e._friendlyName),"/",e.product.productCode,"",o.Gc),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function ee(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",32),o.Ub(1,"div",33),o.bc("click",(function(t){return o.Dc(e),o.fc().onProceedClick(t),t.stopPropagation()})),o.Ub(2,"div",9),o.Qc(3),o.Tb(),o.Oc(4,B,3,1,"ng-container",23),o.Ub(5,"div",11),o.Ub(6,"span"),o.Qc(7),o.Tb(),o.Tb(),o.Ub(8,"div",34),o.Oc(9,z,12,8,"ng-container",3),o.Oc(10,G,5,3,"ng-template",null,35,o.Pc),o.Ub(12,"div",36),o.Pb(13,"img",37),o.Tb(),o.Tb(),o.Tb(),o.Ub(14,"div",38),o.bc("click",(function(t){return o.Dc(e),o.fc().onProceedClick(t),t.stopPropagation()})),o.Ub(15,"div",39),o.Ub(16,"div",40),o.Ub(17,"div",14),o.Qc(18,"Data"),o.Tb(),o.Oc(19,W,4,3,"ng-container",3),o.Oc(20,q,3,2,"ng-template",null,41,o.Pc),o.Tb(),o.Tb(),o.Ub(22,"div",42),o.Oc(23,J,4,2,"ng-container",3),o.Oc(24,Z,3,5,"ng-template",null,19,o.Pc),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=o.zc(11),t=o.zc(21),i=o.zc(25),r=o.fc();o.Bb(3),o.Rc(r._friendlyName),o.Bb(1),o.nc("ngIf",""!==r.product.productThrottlingType),o.Bb(3),o.Rc(r._tagLine),o.Bb(2),o.nc("ngIf",r._fsEnableProductStrikeThroughs&&r.product&&r.product.hasPreProduct&&r.product.preProduct.preProductRate)("ngIfElse",e),o.Bb(4),o.pc("src","/media/images/providers/",r._infrastructureProviderImage,"",o.Gc),o.nc("alt",r.product.infrastructureProvider),o.Bb(6),o.nc("ngIf",r.isUncapped)("ngIfElse",t),o.Bb(4),o.nc("ngIf",r._osuExistingCustomerOverdueAccounts)("ngIfElse",i)}}let te=(()=>{class e{constructor(e,t,i,n,c,a,s,d,p,u,l,h,g){this._router=e,this._productDataService=t,this._productCardService=i,this._productViewService=n,this._customerAccountService=c,this._snackBar=a,this._matDialog=s,this.connectivityRecommendationService=d,this._slugifyPipe=p,this._activatedRoute=u,this._userDataService=l,this._gigaByteConverterPipe=h,this.analyticsService=g,this.canProceed=!0,this.relatedProductPrice=0,this.isLoggedIn=!1,this.checkCoverageClickEvent=new o.o,this._shouldShowHero=!1,this._showCampaign=!0,this._proceedFriendlyName="VIEW MORE",this._osuExistingCustomerOverdueAccounts=r.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._arrearsAccountMessage=r.f.ALERT_ACCOUNT_IN_ARREARS,this.lteGigValueFix=0,this.hasTeraByteValue=!1,this.teraByteValueCalculatedString="",this._fsEnableProductStrikeThroughs=r.a.APP_CONFIG.F_S.ENABLE_PRODUCT_STRIKETHROUGHS}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngAfterViewInit(){setTimeout(()=>{jQuery('[data-toggle="popover"]').popover()},2e3)}ngOnInit(){var e,t,i,o,n,c,a,s,d,p,u,l,h,g,b,m;this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._customerAccount=this._customerAccountService.getCustomerAccount(),this._productViewService._cardViewSubject.subscribe(e=>{this._isListView=!0===e&&e}),this._isListView=this._router.url.includes("internet"),this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,r.e.LTE),this.product.friendlyName=this._friendlyName),this.campaign&&"Upgrade/Downgrade"===this.campaign.friendlyName&&(this._showCampaign=!1),this._tagLine=this.product.promoCodeTagLine?this.product.promoCodeTagLine:this.campaign.friendlyName,this.product.parameters&&(this._infrastructureProviderImage=this._productCardService.getInfrastructureProviderImage(this.product.infrastructureProvider,!1)),this._proceedFriendlyName=this._productCardService.getProductProceedFriendlyName(this.canProceed,this.isLoggedIn),this._shouldShowHero=this._userDataService.hasAddressSearchBeenMade()?this.product.isHero&&("IncognitoJourneyOnly"===this.product.heroOption||"AllUserJourneys"===this.product.heroOption):this.product.isHero&&"IncognitoJourneyOnly"!==this.product.heroOption,this.isUncapped=(null===(o=null===(i=null===(t=null===(e=this.product)||void 0===e?void 0:e.parameters)||void 0===t?void 0:t.find(e=>"isCapped"===e.name))||void 0===i?void 0:i.value)||void 0===o?void 0:o.includes("Uncapped"))||!1,this.isUncapped||(this.standardCapParam=null===(c=null===(n=this.product)||void 0===n?void 0:n.parameters)||void 0===c?void 0:c.find(e=>"standardCap"===e.name),this.standardCapGbValue=+(null===(s=null===(a=this.standardCapParam)||void 0===a?void 0:a.value)||void 0===s?void 0:s.split(" ")[0]),this.standardCapValueString=null===(p=null===(d=this.standardCapParam)||void 0===d?void 0:d.value)||void 0===p?void 0:p.split(" ")[1],this.nighttimeCapParam=null===(l=null===(u=this.product)||void 0===u?void 0:u.parameters)||void 0===l?void 0:l.find(e=>"nightTimeCap"===e.name),this.nighttimeCapGbValue=+(null===(h=this.nighttimeCapParam)||void 0===h?void 0:h.value.split(" ")[0]),this.nightTimeCapValueString=null===(g=this.nighttimeCapParam)||void 0===g?void 0:g.value.split(" ")[1],(null===(b=this.standardCapValueString)||void 0===b?void 0:b.toLowerCase().includes("tb"))||(null===(m=this.nightTimeCapValueString)||void 0===m?void 0:m.toLowerCase().includes("tb"))?this.hasTeraByteValue=!0:this.lteWrongValueFix=2*this.nighttimeCapGbValue,this.hasTeraByteValue&&this.standardCapGbValue!==this.nighttimeCapGbValue?(this.standardCapGbValue>0&&(this.nighttimeCapGbValue=0),this.nighttimeCapGbValue>0&&(this.standardCapGbValue=0),this.teraByteValueCalculatedString=(100*(this.standardCapGbValue+this.nighttimeCapGbValue)/100*1024).toFixed(1)):this.hasTeraByteValue&&this.standardCapGbValue===this.nighttimeCapGbValue&&(this.teraByteValueCalculatedString=(100*(this.standardCapGbValue+this.nighttimeCapGbValue)/100*1024).toFixed(1))),r.d.logToDevConsole(["LteProductCardComponent >> onProceedClick() ::: product",this.product],"pink","black")}onProceedClick(e){r.d.logToDevConsole(["LteProductCardComponent >> onProceedClick() ::: product",this.product],"pink","black"),e.preventDefault(),this.analyticsService.pushItemSelectGA4Tracking(this.product),this.analyticsService.generateDataLayerStepOne("Step 1 - View More",this.product),this.analyticsService.pushProductClickGtmEnhancedECommerce();let t="/lte";this._router.url.includes("lte-internet")&&(t="/lte-internet"),this.isLoggedIn?(this.connectivityRecommendationService.setSelectedProduct(this.product),this._router.navigate([`/customer/lte-details/${this._slugifyPipe.transform(this.product.infrastructureProvider.toLowerCase())}/${this.product.productCode.toLowerCase()}/${this.product.promoCode.toLowerCase()}`])):this._productCardService.onProceedClick(this.canProceed,""+t,this.campaign,this.product,null,this.isLoggedIn)?this.checkCoverageClickEvent.emit(!0):e.preventDefault()}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t),console.log("hidepopover")},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}errorMessage(){r.d.logToDevConsole([this._isDesktop]),!0===this._isTablet&&this._matDialog.open(d.a),!0===this._isMobile&&this._matDialog.open(d.a)}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(b.d),o.Ob(c.b),o.Ob(n.a),o.Ob(a.a),o.Ob(s.a),o.Ob(m.a),o.Ob(f.b),o.Ob(p.a),o.Ob(u.a),o.Ob(b.a),o.Ob(l.e),o.Ob(h.a),o.Ob(g.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["lte-product-card"]],hostBindings:function(e,t){1&e&&o.bc("resize",(function(e){return t.onResize(e)}),!1,o.Cc)},inputs:{campaign:"campaign",product:"product",canProceed:"canProceed",relatedProductPrice:"relatedProductPrice",isLoggedIn:"isLoggedIn",index:"index"},outputs:{checkCoverageClickEvent:"checkCoverageClickEvent"},features:[o.Ab([h.a])],decls:6,vars:7,consts:[["class","heroTextContainer w-100",4,"ngIf"],[3,"class",4,"ngIf"],[1,"card","card-hover","lte-landingpage-productcard",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["desktopView",""],[1,"heroTextContainer","w-100"],["defaultTagLine",""],[1,"heroText"],[1,"clickable"],[1,"product-card-heading"],[1,"d-flex","w-100","justify-content-between"],[1,"product-card-info"],["normalPriceMobile",""],[1,"p-1"],[1,"up-downspeed-header"],["isCappedMobile",""],[1,"resize-provider-image"],[1,"w-80","provider-image-fix",3,"src","alt"],[1,"d-flex","align-self-end","justify-content-end"],["regularOsuJourney",""],[1,"product-card-price"],[1,"d-block","pre-product-rate","text-center"],[1,"per-month"],[4,"ngIf"],[1,"product-card-price","mb-2"],[1,"up-downspeed-info"],["normalValueMobile",""],["regularGigaByteValueMobile",""],["overdueAccountButton",""],[1,"btn","button-primary","btn-proceed"],["type","button","data-container","body","data-toggle","popover","data-trigger","focus","data-placement","top","data-html","true",1,"btn","button-primary","btn-proceed","lte-landingpage-button-checkout",3,"click"],[1,"btn","button-primary","btn-proceed","lte-landingpage-button-checkout",3,"id"],[1,"row"],[1,"col-md-8","card-hover",3,"click"],[1,"d-flex","w-100","justify-content-between","align-items-center"],["normalPriceDesktop",""],[1,"resize-provider-image","d-flex","align-items-end"],[1,"w-80",3,"src","alt"],[1,"col-md-4","card-hover",3,"click"],[1,"d-flex","w-100","h-50","justify-content-between"],[1,"download-speed","w-100","text-center"],["isCappedDesktop",""],[1,"h-50","d-flex","align-items-end"],["normalValueDesktopView",""],[1,"btn","button-primary","btn-proceed","lte-landingpage-button-checkout",3,"href","click"],[1,"btn","button-primary","btn-proceed",3,"href","click"]],template:function(e,t){if(1&e&&(o.Oc(0,S,4,2,"div",0),o.Oc(1,T,3,3,"div",1),o.Ub(2,"div",2),o.bc("click",(function(e){return t.onProceedClick(e),e.stopPropagation()})),o.Oc(3,V,27,14,"ng-container",3),o.Oc(4,ee,26,11,"ng-template",null,4,o.Pc),o.Tb()),2&e){const e=o.zc(5);o.nc("ngIf",t._shouldShowHero),o.Bb(1),o.nc("ngIf",!t._shouldShowHero),o.Bb(1),o.Gb("lte-card-length-mod",t._friendlyName.length>30&&e),o.nc("ngClass",t._fsEnableProductStrikeThroughs&&t.product&&t.product.hasPreProduct&&t.product.preProduct.preProductRate?"product-pre-prod-height":""),o.Bb(1),o.nc("ngIf",t._isMobile)("ngIfElse",e)}},directives:[_.t,_.q],pipes:[_.E,C.a,h.a,u.a],styles:[".card[_ngcontent-%COMP%]{border-radius:0;border:1px solid #a3a5a8;padding:10px}.price[_ngcontent-%COMP%]{padding-bottom:5px}.btn-proceed[_ngcontent-%COMP%]{height:35px;width:100%;padding:0!important;font-weight:700!important;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.resize-provider-image[_ngcontent-%COMP%]{width:104px!important}.resize-provider-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin:10px 0 0 15px}.product-throttling[_ngcontent-%COMP%]{color:#a3a5a8}@media (max-width:768px){.btn-proceed[_ngcontent-%COMP%]{width:150px}.resize-provider-image[_ngcontent-%COMP%]{width:80px!important}}.card-hover[_ngcontent-%COMP%]:hover{cursor:pointer}@media(max-width:360px){.product-card-price[_ngcontent-%COMP%]{font-size:24px!important}}@media(max-width:320px){.product-card-price[_ngcontent-%COMP%]{font-size:18px!important}}.heroTextContainer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#005e7c,#05b9b5 60%)}.heroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%], .nonHeroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%]{margin-bottom:0!important;text-align:center;color:#fff;font-size:1.8rem;padding:.5rem 0;font-weight:700}.pre-product-rate[_ngcontent-%COMP%]{font-size:2.2rem;color:#a3a5a8;-webkit-text-decoration-color:red;text-decoration-color:red;-webkit-text-decoration:line-through red;text-decoration:line-through red}@media(max-width:1025px){.product-pre-prod-height[_ngcontent-%COMP%]{height:175px;max-height:175px}}@media (min-width:1025px){.product-pre-prod-height[_ngcontent-%COMP%]{max-height:15rem;height:15rem}}"]}),e})()},L87L:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("wxHw"),r=i("nMlR"),n=i("IBUU"),c=i("fXoL"),a=i("tyNb"),s=i("vVA4"),d=i("ofXK");let p=(()=>{class e{constructor(e,t,i){this._router=e,this._productDataService=t,this._productCardService=i,this.relatedProductPrice=0,this.isLoggedIn=!1,this._showCampaign=!0,this._proceedFriendlyName="VIEW MORE"}ngOnInit(){this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,o.e.VoIP),this.product.friendlyName=this._friendlyName),"Upgrade/Downgrade"===this.campaign.friendlyName&&(this._showCampaign=!1),this._proceedFriendlyName=this._productCardService.getProductProceedFriendlyName(!0,this.isLoggedIn)}onProceedClick(e,t){e.preventDefault(),this._productCardService.onProceedClick(!0,o.a.PORTAL_ROUTE_VOIP,this.campaign,this.product,[],this.isLoggedIn)}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(a.d),c.Ob(n.b),c.Ob(r.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["voip-product-card"]],inputs:{campaign:"campaign",product:"product",relatedProductPrice:"relatedProductPrice",isLoggedIn:"isLoggedIn"},decls:24,vars:19,consts:[[1,"card"],[1,"more-info",3,"id","href","click"],[1,"card-table","stats"],[1,"card-row"],[1,"card-cell","product-name"],[3,"href","click"],[1,"card-cell","mt-1"],[1,"mb-1"],[1,"card-cell","price"],[1,"per-month"],[1,"card-cell","mb-6"],[1,""]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Ub(1,"a",1),c.bc("click",(function(e){return t.onProceedClick(e,t.product)})),c.gc(2,"slugify"),c.gc(3,"slugify"),c.Qc(4),c.Tb(),c.Ub(5,"div",2),c.Ub(6,"div",3),c.Ub(7,"div",4),c.Ub(8,"a",5),c.bc("click",(function(e){return t.onProceedClick(e,t.product)})),c.gc(9,"slugify"),c.Qc(10),c.Tb(),c.Tb(),c.Ub(11,"div",6),c.Ub(12,"h3",7),c.Qc(13),c.Tb(),c.Tb(),c.Ub(14,"div",8),c.Ub(15,"h5"),c.Qc(16,"Monthly charges"),c.Tb(),c.Qc(17),c.gc(18,"number"),c.Ub(19,"span",9),c.Qc(20,"PM"),c.Tb(),c.Tb(),c.Ub(21,"div",10),c.Ub(22,"p",11),c.Qc(23),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Bb(1),c.pc("id","more-info-",c.hc(2,11,t.product.friendlyName),""),c.qc("href","/voip/",c.hc(3,13,t.product.friendlyName),"/",t.product.productCode.toLowerCase(),"",c.Gc),c.Bb(3),c.Sc(" ",t._proceedFriendlyName," "),c.Bb(4),c.qc("href","/voip/",c.hc(9,15,t.product.friendlyName),"/",t.product.productCode.toLowerCase(),"",c.Gc),c.Bb(2),c.Rc(t.product.friendlyName),c.Bb(3),c.Tc("",t.product.accessLimit," ",t.product.accessLimitUnits,""),c.Bb(4),c.Sc(" R",c.hc(18,17,t.product.productRate),""),c.Bb(6),c.Rc(t.product.summary))},pipes:[s.a,d.g],encapsulation:2}),e})()},M7tL:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var o=i("jtHE"),r=i("quSY"),n=i("wxHw"),c=i("Ej31"),a=i("kVqo"),s=i("3zK3"),d=i("OQa/"),p=i("IBUU"),u=i("fh86"),l=i("Ay9G"),h=i("fXoL"),g=i("tyNb");let b=(()=>{class e{constructor(e,t,i,n,c,a,s){this._shoppingCartService=e,this._shoppingCartViewService=t,this._solidApiService=i,this._orderService=n,this._router=c,this._browserStorageService=a,this._ecLandingPageService=s,this.routeToNavigateTo=new o.a(1),this.tillSlipSubscription=new r.a,this.orderFormSubscription=new r.a}get routeToNavigateTo$(){return this.routeToNavigateTo.asObservable()}clearCheckoutData(){this.orderFormSubscription.unsubscribe()}proceedWithCheckout(){this.getShoppingCart()}getShoppingCart(){this.shoppingCartProductViewInitial=this._shoppingCartService.getShoppingCartProductView(),n.a.isDevelopment&&console.log("%c Get shopping cart: %O","color: red; text-decoration: underline: font-weight: bolder",this.shoppingCartProductViewInitial),this.shoppingCartProductViewInitial?this.createOrderForExistingCustomer():this.handleErrors("Checkout Service -> getShoppingCart() Error: Shopping Cart is not ok.")}checkout(e){n.a.isDevelopment&&console.log("%c Checking out","color: red; text-decoration: underline: font-weight: bolder");const t=n.a.API_DOMAIN+n.a.API_TILLSLIP_BAAS;this.tillSlipSubscription=this._solidApiService.tillslipBaasPost(JSON.stringify(this.shoppingCartProductViewInitial),t).subscribe(e=>{n.a.isDevelopment&&console.log("%c Baas Tillslip JSON: %O","color: red; text-decoration: underline: font-weight: bolder",e),this._shoppingCartService.setShoppingCart(e.responseBody.basket),this._shoppingCartService.saveShoppingCart(),this.tillSlipBasket=e.responseBody.basket,this.createOrder()},e=>this.handleErrors("Checkout Service -> checkout() Error: Cannot get tillslip",e))}handleErrors(e,t){n.a.isDevelopment&&console.error(t||new Error(e)),this.routeToNavigateTo.error(t||new Error(e))}createOrder(){this.shoppingCartProductViewFinal=this._shoppingCartService.getShoppingCartProductView(),this.orderFormSubscription=this._solidApiService.solidApiPost(JSON.stringify(this.shoppingCartProductViewFinal),n.a.API_ORDERFORM).subscribe(e=>{this.checkIfInformationIsRequired(e.responseBody)?this.handleErrors("Checkout Service -> createOrder() Error: Additional information is required."):(this.routeToNavigateTo.next(n.a.OSU_ROUTE_CUSTOMER_INFO_EXISTING),this._router.navigate([n.a.OSU_ROUTE_CUSTOMER_INFO_EXISTING]))},e=>{this._ecLandingPageService.setErrorMessage(n.f.ALERT_EXISTING_CUSTOMER_ACCOUNT_ERROR),this.handleErrors("Checkout Service -> createOrder() Error: Cannot get Order Form",e)})}createOrderForExistingCustomer(){const e=this._shoppingCartService.getShoppingCart();n.d.logToDevConsole(["Checkout Service: createOrderForExistingCustomer: Shopping Cart: ",e]),this.orderFormSubscription=this._solidApiService.solidApiPost(JSON.stringify(e),n.a.API_ORDERFORM).subscribe(e=>{n.d.isResponseOk(e)?(this._existingCustomerOrderForm=this._orderService.setOrderForm(e.responseBody),this._router.navigate([""+n.a.OSU_ROUTE_CUSTOMER_INFO_EXISTING])):n.d.logErrorToDevConsole(["Order Form Response is not ok."])},e=>n.d.logErrorToDevConsole(["Could not get order form: ",e]))}checkIfInformationIsRequired(e){let t=!1;return this.existingCustomerOrderForm=this._orderService.setOrderForm(e),this.existingCustomerTerms=this.existingCustomerOrderForm.terms,(this.existingCustomerOrderForm.captureRequirements.coverageCheckRequired||this.existingCustomerOrderForm.captureRequirements.directDebitSetupRequired||this.existingCustomerOrderForm.captureRequirements.hasDeliveryItem||this.existingCustomerOrderForm.captureRequirements.installationAddressRequired||this.existingCustomerOrderForm.captureRequirements.missingCustomerInfo&&this.existingCustomerOrderForm.captureRequirements.missingCustomerInfo.length>0||this.existingCustomerOrderForm.captureRequirements.ricaCheckRequired||this.existingCustomerOrderForm.captureRequirements.otpRequired||n.a.FS_VOUCHER_PARTNER_ENABLED&&this.existingCustomerOrderForm.captureRequirements.partnerCodeRequired)&&(t=!0),this.shoppingCartProductViewFinal.productType===p.a.WEBSITE_HOSTING&&(t=!0),this.shoppingCartProductViewFinal.productType===p.a.ADSL_LINE_RENTAL&&this.shoppingCartProductViewFinal.orderType===s.a.LineChange&&(t=!1),t}}return e.\u0275fac=function(t){return new(t||e)(h.Yb(s.d),h.Yb(u.b),h.Yb(d.a),h.Yb(a.b),h.Yb(g.d),h.Yb(c.a),h.Yb(l.a))},e.\u0275prov=h.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},O89p:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var o=i("0IaG"),r=i("wxHw"),n=i("W5Lo"),c=i("fXoL"),a=i("tyNb"),s=i("ofXK");function d(e,t){1&e&&(c.Sb(0),c.Ub(1,"div",13),c.Qc(2,"Selected"),c.Tb(),c.Rb())}function p(e,t){1&e&&(c.Ub(0,"div",14),c.Qc(1,"Select"),c.Tb())}function u(e,t){if(1&e){const e=c.Vb();c.Sb(0),c.Ub(1,"div",6),c.bc("click",(function(){c.Dc(e);const i=t.$implicit;return c.fc().onCampaignSelectionClick(i)})),c.Ub(2,"div",7),c.Ub(3,"div",8),c.Qc(4),c.Tb(),c.Ub(5,"div",9),c.Qc(6),c.Tb(),c.Tb(),c.Ub(7,"div",10),c.Oc(8,d,3,0,"ng-container",11),c.Oc(9,p,2,0,"ng-template",null,12,c.Pc),c.Tb(),c.Tb(),c.Rb()}if(2&e){const e=t.$implicit,i=c.zc(10),o=c.fc();c.Bb(1),c.Gb("active",o.dialogData.campaignSelected&&e.id===o.dialogData.campaignSelected.friendlyName||o._activeCampaign&&e.id===o._activeCampaign.id||o._campaignSelected===e),c.Bb(2),c.Gb("active",o.dialogData.campaignSelected&&e.id===o.dialogData.campaignSelected.id||o._activeCampaign&&e.id===o._activeCampaign.id||o._campaignSelected===e),c.Bb(1),c.Sc(" ",e.friendlyName," "),c.Bb(2),c.Sc(" ",e.friendlyName," "),c.Bb(2),c.nc("ngIf",o.dialogData.campaignSelected&&e.id===o.dialogData.campaignSelected.id||o._activeCampaign&&e.id===o._activeCampaign.id||o._campaignSelected===e)("ngIfElse",i)}}let l=(()=>{class e{constructor(e,t,i,o,n){this._campaignService=e,this._router=t,this._activatedRoute=i,this.dialogRef=o,this.dialogData=n,this._PORTAL_PAGES=r.e,this._mediaPath=r.a.getPortalMediaPath()+"campaigns/",this._isDevelopment=!1,this._hasTelkomLteSimOnlyPromoCode=!1,this._hasTelkomLteSimAndRouterPromoCode=!1}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngOnInit(){var e,t;if(this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._activeCampaign=this._campaignService.getSelectedCampaign(),!this._campaignSelected){const i=this._router.url.split("/");for(let o=0;o<(null===(t=null===(e=this.dialogData)||void 0===e?void 0:e.campaignSelection)||void 0===t?void 0:t.length);o++)for(let e=0;e<this.dialogData.campaignSelection[o].promoCodes.length;e++)if(this.dialogData.campaignSelection[o].promoCodes[e].toLowerCase()===i[(null==i?void 0:i.length)-1].toLowerCase()){this._campaignSelected=this.dialogData.campaignSelection[o];break}}}onCampaignSelectionClick(e){var t,i,o,r;e.friendlyName!==this._campaignService.getSelectedCampaign().friendlyName&&(this._campaignSelected=e,this._hasTelkomLteSimOnlyPromoCode=(null===(i=null===(t=this._campaignSelected)||void 0===t?void 0:t.promoCodes)||void 0===i?void 0:i.find(e=>{var t;return null===(t=null==e?void 0:e.toLowerCase())||void 0===t?void 0:t.includes("lte-telkom-sim-api")}))&&!0,this._hasTelkomLteSimAndRouterPromoCode=(null===(r=null===(o=this._campaignSelected)||void 0===o?void 0:o.promoCodes)||void 0===r?void 0:r.find(e=>{var t;return null===(t=null==e?void 0:e.toLowerCase())||void 0===t?void 0:t.includes("lte-telkom-24mnth-clawback-api")}))&&!0,this._hasTelkomLteSimOnlyPromoCode||this._hasTelkomLteSimAndRouterPromoCode||this._campaignService.setSelectedCampaign(e,"Deal Selection"),this.dialogRef.close(e)),this._isDevelopment&&(console.groupCollapsed("Campaign (Deal) Popup: onCampaignSelectionClick()"),console.log("Campaign selected:",this._campaignSelected),console.groupEnd())}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(n.a),c.Ob(a.d),c.Ob(a.a),c.Ob(o.h),c.Ob(o.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-popup-deal-material"]],hostBindings:function(e,t){1&e&&c.bc("resize",(function(e){return t.onResize(e)}),!1,c.Cc)},decls:7,vars:5,consts:[[1,"materialView"],["mat-dialog-title","",1,"mat-dialog-title","mat-dialog-title-custom"],["aria-hidden","true","mat-dialog-close","",1,"fa","fa-times"],["mat-dialog-content","",1,"mat-dialog-content","mat-dialog-content-custom","p-2","text-center"],[1,"mb-5","mb-md-0","w-100"],[4,"ngFor","ngForOf"],[1,"card","deal-card","m-2","clickable",3,"click"],[1,"card-body","p-0"],[1,"w-100","deal-heading"],[1,"p-1"],[1,"selection-indicator","pr-1","m-0"],[4,"ngIf","ngIfElse"],["nonSelected",""],[1,"btn","button-secondary-dark","btn-smaller"],[1,"btn","button-unselected","btn-smaller"]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Ub(1,"h1",1),c.Qc(2,"Deal Options"),c.Pb(3,"i",2),c.Tb(),c.Ub(4,"div",3),c.Ub(5,"div",4),c.Oc(6,u,11,8,"ng-container",5),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Bb(5),c.Gb("justify-content-between",t._isDesktop||t._isTablet)("d-flex",t._isDesktop||t._isTablet),c.Bb(1),c.nc("ngForOf",t.dialogData.campaignSelection))},directives:[o.i,o.d,o.f,s.s,s.t],styles:[".deal-heading[_ngcontent-%COMP%]{background:none;color:#707070;font-size:18px;padding:5px 0 15px;border-bottom:1px solid #707070}.deal-card[_ngcontent-%COMP%]{min-width:200px!important;border:1px solid #707070}.deal-card.active[_ngcontent-%COMP%]{min-width:200px!important;border:1px solid #0b2388}.deal-heading.active[_ngcontent-%COMP%]{background:#0b2388;color:#fff;border-bottom:none}.modal-body[_ngcontent-%COMP%]{margin:15px 25px}.mat-dialog-title-custom[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:justify!important;justify-content:space-between!important;background-color:#0b2388!important;margin:-24px -24px 0!important;padding:1.5rem!important;color:#fff!important;font-weight:700!important;border-radius:0!important}.mat-dialog-content-custom[_ngcontent-%COMP%]{margin:0 -24px -24px!important;border:2px solid #00b4b0!important;border-top:none!important}"]}),e})()},ihQd:function(e,t,i){"use strict";i.d(t,"a",(function(){return U}));var o=i("fXoL"),r=i("bu7n"),n=i("IBUU"),c=i("3zK3"),a=i("wxHw"),s=i("/H/C"),d=i("nMlR"),p=i("Fin/"),u=i("50Pb"),l=i("l8PN"),h=i("taPy"),g=i("tyNb"),b=i("0IaG"),m=i("dNgK"),f=i("Wp6s"),_=i("ofXK"),C=i("gfT6"),v=i("vVA4");function P(e,t){if(1&e&&(o.Ub(0,"div",17),o.Ub(1,"div",18),o.Ub(2,"div",19),o.Ub(3,"div",20),o.Pb(4,"i",21),o.Tb(),o.Ub(5,"div",22),o.Qc(6,"Download"),o.Tb(),o.Ub(7,"span",23),o.Qc(8),o.gc(9,"megabyteSpeedConverter"),o.Tb(),o.Tb(),o.Ub(10,"div",24),o.Ub(11,"div",20),o.Pb(12,"i",25),o.Tb(),o.Ub(13,"div",22),o.Qc(14,"Upload"),o.Tb(),o.Ub(15,"span",23),o.Qc(16),o.gc(17,"megabyteSpeedConverter"),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e){const e=o.fc();o.Bb(8),o.Rc(o.hc(9,2,e.product.lineSpeed)),o.Bb(8),o.Rc(o.hc(17,4,e.product.lineSpeedUpload))}}function S(e,t){if(1&e&&(o.Ub(0,"div",26),o.Ub(1,"div",27),o.Ub(2,"div",22),o.Qc(3,"Data"),o.Tb(),o.Ub(4,"div",23),o.Qc(5),o.gc(6,"gigabyteConverter"),o.Tb(),o.Tb(),o.Tb()),2&e){const e=o.fc();o.Bb(5),o.Rc(o.hc(6,1,2*e.product.productCap))}}function T(e,t){1&e&&(o.Sb(0),o.Qc(1,"pm"),o.Rb())}function O(e,t){if(1&e){const e=o.Vb();o.Sb(0),o.Ub(1,"button",29),o.bc("click",(function(t){return o.Dc(e),o.fc(2).onProceedClick(t)})),o.gc(2,"slugify"),o.Qc(3),o.Tb(),o.Rb()}if(2&e){const e=o.fc(2);o.Bb(1),o.Gb("productdetail-lteproductdetailpage-button-upsizedeal",e._isLte)("productdetail-fibreproductdetailpage-button-upsizedeal",e._isFibre),o.pc("id","more-info-",o.hc(2,6,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}function w(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",30),o.bc("click",(function(){o.Dc(e);const t=o.fc(2);return t.displayReadOnlyPopOver("btn-checkout-product-"+t.slugify(t.product.friendlyName),t._arrearsAccountMessage)})),o.Qc(1,"Checkout "),o.Tb()}if(2&e){const e=o.fc(2);o.Gb("productdetail-lteproductdetailpage-button-upsizedeal",e._isLte)("productdetail-fibreproductdetailpage-button-upsizedeal",e._isFibre),o.Cb("data-content",e._arrearsAccountMessage)}}function y(e,t){if(1&e&&(o.Sb(0),o.Oc(1,O,4,8,"ng-container",15),o.Oc(2,w,2,5,"ng-template",null,28,o.Pc),o.Rb()),2&e){const e=o.zc(3),t=o.fc();o.Bb(1),o.nc("ngIf",!t._customerAccount.disableSales)("ngIfElse",e)}}function R(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",29),o.bc("click",(function(t){return o.Dc(e),o.fc().onProceedClick(t)})),o.gc(1,"slugify"),o.Qc(2),o.Tb()}if(2&e){const e=o.fc();o.Gb("productdetail-lteproductdetailpage-button-upsizedeal",e._isLte)("productdetail-fibreproductdetailpage-button-upsizedeal",e._isFibre),o.pc("id","more-info-",o.hc(1,6,e._friendlyName),""),o.Bb(2),o.Rc(e._proceedFriendlyName)}}let U=(()=>{class e{constructor(e,t,i,r,n,c,s,d,p,u,l){this._router=e,this._productDataService=t,this._productCardService=i,this._productViewService=r,this._megabyteSpeedConverterPipe=n,this._gigabyteConverterPipe=c,this._shoppingCartService=s,this.dialog=d,this._customerAccountService=p,this._snackBar=u,this._matDialog=l,this.canProceed=!0,this.relatedProductPrice=0,this.isLoggedIn=!1,this.checkCoverageClickEvent=new o.o,this._isFibre=!1,this._isLte=!1,this._showCampaign=!0,this._proceedFriendlyName="Choose product",this._isBestDeal=!1,this._hasHeroTagLine=!1,this._hasHeroImage=!1,this._fsCoverageDialogEnaled=a.a.APP_CONFIG.F_S.COVERAGE_DIALOG_ENABLED,this._isDesktop=!1,this._isTablet=!1,this._isMobile=!1,this._osuExistingCustomerOverdueAccounts=a.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._arrearsAccountMessage=a.f.ALERT_ACCOUNT_IN_ARREARS}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngAfterViewInit(){setTimeout(()=>{jQuery('[data-toggle="popover"]').popover()},0)}ngOnInit(){this._router.url.includes("fibre")&&(this._isFibre=!0),this._router.url.includes("lte")&&(this._isLte=!0),this._customerAccount=this._customerAccountService.getCustomerAccount(),a.d.logToDevConsole([this._customerAccount]),this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._isBestDeal="Unthrottled"===this.product.productThrottlingType&&"Uncapped"===this.product.productCapType&&this.product.infrastructureProvider.toLowerCase().includes("openserve"),this._productViewService._cardViewSubject.subscribe(e=>{this._isListView=!0===e&&e}),this._isListView=this._router.url.includes("fibre"),this._hasHeroImage=!(""===this.product.heroImage&&null===this.product.heroImage||"OPEN-SETUP-SUMMER2019-40MBDWN"!==this.product.promoCode&&"OPEN-SETUP-SUMMER2019-100MBUP"!==this.product.promoCode),this._hasHeroTagLine=!(""===this.product.heroTagLine&&null===this.product.heroTagLine||"OPEN-SETUP-SUMMER2019-40MBDWN"!==this.product.promoCode&&"OPEN-SETUP-SUMMER2019-100MBUP"!==this.product.promoCode),this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,a.e.Fibre),this.product.friendlyName=this._friendlyName),"Upgrade/Downgrade"===this.campaign.friendlyName&&(this._showCampaign=!1),this._tagLine=this.product.promoCodeTagLine?this.product.promoCodeTagLine:this.campaign.friendlyName,this.product.parameters&&(this._infrastructureProviderImage=this._productCardService.getInfrastructureProviderImage(this.product.infrastructureProvider,!1))}onProceedClick(e){e.preventDefault(),this.shoppingCart=this._shoppingCartService.getShoppingCart(),this.shoppingCart.promoVoucher&&(this.shoppingCart.promoVoucher="",this._shoppingCartService.setShoppingCart(this.shoppingCart),this._shoppingCartService.saveShoppingCart());let t="";const i=a.a.isDevelopment()&&a.a.APP_CONFIG.F_S.USE_FIBRE2_IN_DEV?"/fibre2":"/fibre",o=this._router.url.includes("fibre-internet")?"/fibre-internet":i;t=this._isFibre?o:"/lte",this._productCardService.onProceedClick(this.canProceed,""+t,this.campaign,this.product,null,this.isLoggedIn)?this.checkCoverage():e.preventDefault()}checkCoverage(){this._fsCoverageDialogEnaled?this.openDialog():this.checkCoverageClickEvent.emit(!0)}openDialog(){this.dialog.open(l.a,{width:this._isDesktop?"950px":"320px"})}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t)},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}displayError(){a.d.logToDevConsole([this._isDesktop]),this._isDesktop||this._matDialog.open(h.a,{})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(g.d),o.Ob(n.b),o.Ob(d.a),o.Ob(r.a),o.Ob(p.a),o.Ob(u.a),o.Ob(c.d),o.Ob(b.b),o.Ob(s.a),o.Ob(m.a),o.Ob(b.b))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-upsize-your-deal"]],hostBindings:function(e,t){1&e&&o.bc("resize",(function(e){return t.onResize(e)}),!1,o.Cc)},inputs:{campaign:"campaign",product:"product",canProceed:"canProceed",relatedProductPrice:"relatedProductPrice",isLoggedIn:"isLoggedIn"},outputs:{checkCoverageClickEvent:"checkCoverageClickEvent"},decls:29,vars:21,consts:[[1,"m-0","p-0","card","clickable",3,"click"],[1,"upsize-your-deal"],[1,"upsize-card-header","text-white","p-1","mb-0"],[1,"p-1"],[1,"upsize-card-header"],["id","fibre-speed-display",4,"ngIf"],["id","lte-data-display",4,"ngIf"],[1,"upsize-card-price"],[1,"per-month"],[4,"ngIf"],[1,"upsize-card-info"],[1,"image-container","w-50","mt-1"],[1,"w-100",3,"src","alt"],[1,"d-flex","justify-content-between"],[1,"text-blue","align-self-center","upsize-card-terms"],[4,"ngIf","ngIfElse"],["regularOsuJourney",""],["id","fibre-speed-display"],[1,"d-flex","w-100","h-50","justify-content-around"],[1,"download-speed"],[1,"w-100","text-center"],[1,"fas","fa-arrow-down"],[1,"up-downspeed-header"],[1,"up-downspeed-info"],[1,"upload-speed"],[1,"fas","fa-arrow-up"],["id","lte-data-display"],[1,"d-flex","flex-column","w-100","justify-content-start","py-1"],["overdueAccountButton",""],[1,"btn","button-secondary","upsize-card-btn",3,"id","click"],["type","button","data-container","body","data-toggle","popover","data-trigger","focus","data-placement","top","data-html","true",1,"btn","button-secondary","upsize-card-btn",3,"click"]],template:function(e,t){if(1&e&&(o.Ub(0,"mat-card",0),o.bc("click",(function(e){return t.onProceedClick(e)})),o.Ub(1,"mat-card-header",1),o.Ub(2,"div",2),o.Qc(3,"For an extra "),o.Ub(4,"span"),o.Qc(5),o.gc(6,"spaceSeparator"),o.Tb(),o.Tb(),o.Tb(),o.Ub(7,"mat-card-content",3),o.Ub(8,"div",4),o.Qc(9),o.Tb(),o.Oc(10,P,18,6,"div",5),o.Oc(11,S,7,3,"div",6),o.Ub(12,"div",7),o.Qc(13),o.gc(14,"spaceSeparator"),o.Ub(15,"span",8),o.Oc(16,T,2,0,"ng-container",9),o.Tb(),o.Tb(),o.Ub(17,"div",10),o.Ub(18,"span"),o.Qc(19),o.Tb(),o.Tb(),o.Ub(20,"div",11),o.Pb(21,"img",12),o.Tb(),o.Ub(22,"div",13),o.Ub(23,"div",14),o.Qc(24,"Terms and conditions apply"),o.Tb(),o.Ub(25,"div"),o.Oc(26,y,4,2,"ng-container",15),o.Oc(27,R,3,8,"ng-template",null,16,o.Pc),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e){const e=o.zc(28);o.Gb("productdetail-lteproductdetailpage-button-upsizedeal",t._isLte)("productdetail-fibreproductdetailpage-button-upsizedeal",t._isFibre),o.Bb(2),o.Gb("d-none",0===t.relatedProductPrice),o.Bb(3),o.Sc("R",o.hc(6,17,t.relatedProductPrice),"pm"),o.Bb(4),o.Rc(t._friendlyName),o.Bb(1),o.nc("ngIf",t._isFibre),o.Bb(1),o.nc("ngIf",t._isLte),o.Bb(2),o.Sc("R",o.hc(14,19,t.product.productRate),""),o.Bb(3),o.nc("ngIf","mitchells fibre"!==t.product.infrastructureProvider.toLowerCase()),o.Bb(3),o.Rc(t._tagLine),o.Bb(2),o.pc("src","/media/images/providers/",t._infrastructureProviderImage,"",o.Gc),o.nc("alt",t._infrastructureProviderImage),o.Bb(5),o.nc("ngIf",t._osuExistingCustomerOverdueAccounts)("ngIfElse",e)}},directives:[f.a,f.f,f.d,_.t],pipes:[C.a,p.a,u.a,v.a],styles:[".mat-card-header[_ngcontent-%COMP%]{background:#143a8f;background:linear-gradient(90deg,#143b8f 17%,#20aae6 160%)}.button-secondary[_ngcontent-%COMP%]{margin-bottom:0}.btn.button-secondary.upsize-card-btn[_ngcontent-%COMP%]{padding:5px!important}"]}),e})()},nMlR:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var o=i("mrSG"),r=i("wxHw"),n=i("3zK3"),c=i("IBUU"),a=i("W5Lo"),s=i("vK0L"),d=i("vVA4"),p=i("Y9WU"),u=i("Fin/"),l=i("50Pb"),h=i("/H/C"),g=i("M7tL"),b=i("fXoL"),m=i("tyNb");let f=(()=>{class e{constructor(e,t,i,o,n,c,a,s,d,p){this._router=e,this._shoppingCartService=t,this._campaignService=i,this._productMigrationService=o,this._slugifyPipe=n,this._analyticsService=c,this._megabyteSpeedConverter=a,this._gigabyteConverter=s,this._customerAccountService=d,this._checkoutService=p,this._fsShortenedCustomerJourneyEnabled=r.a.APP_CONFIG.F_S.SHORTENED_CUSTOMER_JOURNEY,this._osuExistingCustomerOverdueAccounts=r.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._enableReactSEOUrls=r.a.APP_CONFIG.F_S.ENABLE_REACT_SEO_URLS}getProductFriendlyName(e){return e.friendlyName?e.friendlyName:""+e.productCap}getProductProceedFriendlyName(e,t,i){if(!e)return"Check coverage";if(t&&!i){const e=this._productMigrationService.getOriginalProductView();if(e)switch(e.saleType){case n.b.UPGRADE:case n.b.DOWNGRADE:case n.b.CHANGE:return"CHECKOUT"}return"CHECKOUT"}return i?"Choose package":"View more"}getInfrastructureProviderImage(e,t){const i=r.a.INFRASTRUCTURE_PROVIDERS_SELECTION.find(t=>t.friendlyName===e);return i?t?i.imageHero:i.image:""}getFibreInfrastructureProviderImage(e,t){const i=r.a.INFRASTRUCTURE_PROVIDERS_SELECTION.find(t=>t.friendlyName===e);return i?i.usePromoImage&&i.promoImage&&!t?{imageUrl:"/media/images/providers/provider-promos/"+i.promoImage,isPromoImage:!0}:{imageUrl:"/media/images/providers/"+i.image,isPromoImage:!1}:{imageUrl:"",isPromoImage:!1}}initFibreInfrastructureProviderImage(){return{imageUrl:"",isPromoImage:!1}}onProceedClick(e,t,i,o,a,s){if(this._customerAccountService.getCustomerAccount(),e){const p=this._productMigrationService.getOriginalProductView(),u=[],l=[];if(r.d.logToDevConsole(["proceedClick() parameters: ",{canproceed:e,prodcutcatRoute:t,campaignSelected:i,product:o,recommendedProducts:a,isLoggedIn:s}]),a&&a.length>0){let e=n.b.ADD,t=n.a.New,i=0;for(const o of a){if(o.productType===c.a.ADSL_LINE_RENTAL)if(s&&p){const o=p.recommendedProducts.find(e=>e.productType===c.a.ADSL_LINE_RENTAL);if(o)switch(p.orderType){case n.a.Upgrade:case n.a.Downgrade:u.push({name:r.a.PARAMETER_TELKOM_LINE_INSTRUCTION,value:r.f.ORDER_SUMMARY_TELKOM_INSTRUCTION_REGRADE}),e=n.b.UPGRADE,t=n.a.LineChange,i=o.parentContractId;break;default:u.push({name:r.a.PARAMETER_TELKOM_LINE_INSTRUCTION,value:r.f.ORDER_SUMMARY_TELKOM_INSTRUCTION_NEW}),t=n.a.LineChange}}else u.push({name:r.a.PARAMETER_TELKOM_LINE_INSTRUCTION,value:r.f.ORDER_SUMMARY_TELKOM_INSTRUCTION_NEW});const a=this._shoppingCartService.getShoppingCartProductViewInstance(o.productName,o.productDescription,o.productRate-o.productDiscountAmount,o.productRateExclVat,o.totalVat,o.seoTitle,o.seoDescription,o.seoKeywords,o.promoCodeProductId,o.promoCode,o.productCode,!1,e,i,!1,o.productType,[],!1,u,t,s,"");o.productType===c.a.ADSL_LINE_RENTAL&&(a.isAddedToCart=!0),l.push(a)}}let h=n.b.ADD,g=n.a.New,b=0;s&&p&&(h=p.saleType,g=p.orderType,b=p.parentContractId),o.productType!==c.a.FIBRE||o.infrastructureProvider!==r.a.VENDOR_OPENSERVE&&o.infrastructureProvider!==r.a.VENDOR_VUMATEL&&o.infrastructureProvider!==r.a.VENDOR_VUMATELAERIAL||u.push(g===n.a.New||g===n.a.Change?{name:r.a.PARAMETER_TELKOM_LINE_INSTRUCTION,value:r.f.ORDER_SUMMARY_TELKOM_INSTRUCTION_NEW}:{name:r.a.PARAMETER_TELKOM_LINE_INSTRUCTION,value:r.f.ORDER_SUMMARY_TELKOM_INSTRUCTION_REGRADE});const m=this._shoppingCartService.getShoppingCartProductViewInstance(o.friendlyName,o.productName,o.productRate,o.productRateExclVat,o.totalVat,o.seoTitle,o.seoDescription,o.seoKeywords,o.promoCodeProductId,o.promoCode,o.productCode,!0,h,b,!0,o.productType,l,o.isPreOrder,u,g,s,o.infrastructureProvider);if(r.d.logToDevConsole([{recommendedProductViews:l}]),this._shoppingCartService.addProductToShoppingCartProductView(m),r.d.logToDevConsole([{afterAddingToShoppingCartProductView:m}]),s){this._shoppingCartService.clearAllProductsFromShoppingCart();const e=this._shoppingCartService.getShoppingCartProductInstance(m.promoCode,m.productCode,m.primary,m.saleType,m.parentContractId),t=this._shoppingCartService.addProductToShoppingCart(e);for(const i of m.recommendedProducts){const e=this._shoppingCartService.getShoppingCartProductInstance(i.promoCode,i.productCode,i.primary,i.saleType,i.parentContractId);this._shoppingCartService.addProductToShoppingCart(e)}if(r.a.isDevelopment()&&(console.group("Product Card Service: onProceedClick()"),console.log("Shopping cart product view:",m),console.log("Shopping cart product:",e),console.log("Shopping cart product success:",t),console.groupEnd()),t){try{this._analyticsService.pushProductClickGtmEnhancedECommerce(o),this._analyticsService.generateDataLayerStepOne("Step 1 - View More",o),this._analyticsService.pushProductClickGtmEnhancedECommerce(),this._analyticsService.pushGoogleDataLayer("Step 2 - Checkout"),this._analyticsService.pushAddToCartGtmEnhancedECommerce(),this._analyticsService.pushBeginCheckoutGA4Tracking(),this._analyticsService.pushAddToCartGA4Tracking(o)}catch(d){}this._checkoutService.proceedWithCheckout()}}else{r.a.isDevelopment()&&(console.group("Product Card Service: onProceedClick()"),console.log("Shopping cart product view:",m),console.groupEnd());try{this._analyticsService.generateDataLayerStepOne("Step 1 - View More",o),this._analyticsService.pushProductClickGtmEnhancedECommerce()}catch(d){}(null==o?void 0:o.productType)===c.a.LTE?this._enableReactSEOUrls?this.sendToUrl(`${t}/${this._gigabyteConverter.transform(o.productCap).toLowerCase()}-${this._slugifyPipe.transform(o.infrastructureProvider.toLowerCase())}/${o.productCode.toLowerCase()}/${o.promoCode.toLowerCase()}`):this.sendToRoute(`${t}/${this._gigabyteConverter.transform(o.productCap).toLowerCase()}-${this._slugifyPipe.transform(o.infrastructureProvider.toLowerCase())}/${o.productCode.toLowerCase()}/${o.promoCode.toLowerCase()}`):this._enableReactSEOUrls?this.sendToUrl(`${t}/${this._megabyteSpeedConverter.transform(o.lineSpeed).toLowerCase()}-${this._gigabyteConverter.transform(o.productCap).toLowerCase()}-${this._slugifyPipe.transform(o.infrastructureProvider.toLowerCase())}/${o.productCode.toLowerCase()}/${o.promoCode.toLowerCase()}`):this.sendToRoute(`${t}/${this._megabyteSpeedConverter.transform(o.lineSpeed).toLowerCase()}-${this._gigabyteConverter.transform(o.productCap).toLowerCase()}-${this._slugifyPipe.transform(o.infrastructureProvider.toLowerCase())}/${o.productCode.toLowerCase()}/${o.promoCode.toLowerCase()}`)}return!1}return!0}sendToRoute(e){this._router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this._router.navigate([e]))}sendToUrl(e){return Object(o.a)(this,void 0,void 0,(function*(){window.location.href=e}))}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(m.d),b.Yb(n.d),b.Yb(a.a),b.Yb(s.a),b.Yb(d.a),b.Yb(p.a),b.Yb(u.a),b.Yb(l.a),b.Yb(h.a),b.Yb(g.a))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})()},qzjK:function(e,t,i){"use strict";i.d(t,"a",(function(){return L}));var o=i("fXoL"),r=i("wxHw"),n=i("bu7n"),c=i("IBUU"),a=i("nMlR"),s=i("3zK3"),d=i("/H/C"),p=i("9WlA"),u=i("vVA4"),l=i("Ej31"),h=i("DPk/"),g=i("Y9WU"),b=i("M7tL"),m=i("fh86"),f=i("7RkA"),_=i("G7wR"),C=(i("5YgL"),i("OQa/")),v=i("c5KT"),P=i("6LrE"),S=i("tyNb"),T=i("0IaG"),O=i("dNgK"),w=i("ofXK");const y=["clickedButton"];function R(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"p",6),o.Qc(2),o.gc(3,"slice"),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(o.jc(3,1,e.product.heroTagLine,0,29))}}function U(e,t){1&e&&(o.Ub(0,"p",6),o.Qc(1,"Most popular"),o.Tb())}function I(e,t){if(1&e&&(o.Ub(0,"div",4),o.Oc(1,R,4,5,"ng-container",2),o.Oc(2,U,2,0,"ng-template",null,5,o.Pc),o.Tb()),2&e){const e=o.zc(3),t=o.fc();o.Bb(1),o.nc("ngIf",(null==t.product||null==t.product.heroTagLine?null:t.product.heroTagLine.length)>0)("ngIfElse",e)}}function E(e,t){if(1&e){const e=o.Vb();o.Ub(0,"a",14),o.bc("click",(function(t){o.Dc(e);const i=o.fc(2);return i.onBuyNowClick(t,i.product)})),o.Qc(1," Buy Now "),o.Tb()}}function k(e,t){if(1&e){const e=o.Vb();o.Ub(0,"a",14),o.bc("click",(function(t){o.Dc(e);const i=o.fc(2);return i.onBuyNowClick(t,i.product)})),o.Qc(1),o.Tb()}if(2&e){const e=o.fc(2);o.Bb(1),o.Sc(" ",e._ctaText," ")}}function x(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"div",7),o.Ub(2,"div"),o.Qc(3),o.Tb(),o.Tb(),o.Ub(4,"div",8),o.Ub(5,"div",9),o.Qc(6),o.Tb(),o.Ub(7,"div",10),o.Ub(8,"span",11),o.Qc(9),o.Tb(),o.Ub(10,"span",12),o.Qc(11,"pm"),o.Tb(),o.Tb(),o.Tb(),o.Oc(12,E,2,0,"a",13),o.Oc(13,k,2,1,"a",13),o.Rb()),2&e){const e=o.fc();o.Bb(3),o.Rc(e.product.friendlyName),o.Bb(3),o.Rc(e.product.friendlyName),o.Bb(3),o.Sc("R",e.product.productRate,""),o.Bb(3),o.nc("ngIf",e.isUpgrade),o.Bb(1),o.nc("ngIf",!e.isUpgrade)}}function N(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",7),o.Ub(1,"div"),o.Qc(2),o.Tb(),o.Tb(),o.Ub(3,"div",8),o.Ub(4,"div",15),o.Qc(5),o.Tb(),o.Ub(6,"div",16),o.Ub(7,"span",11),o.Qc(8),o.Tb(),o.Ub(9,"span",12),o.Qc(10,"pm"),o.Tb(),o.Tb(),o.Ub(11,"a",14),o.bc("click",(function(t){o.Dc(e);const i=o.fc();return i.onBuyNowClick(t,i.product)})),o.Qc(12),o.Tb(),o.Tb()}if(2&e){const e=o.fc();o.Bb(2),o.Rc(e.product.friendlyName),o.Bb(3),o.Rc(e.product.friendlyName),o.Bb(3),o.Sc("R",e.product.productRate,""),o.Bb(4),o.Sc(" ",e._ctaText," ")}}let L=(()=>{class e{constructor(e,t,i,n,c,a,s,d,p,u,l,h,g,b,m,f,_,C,P,S,T,O){this._connectivityRecommendationService=e,this._router=t,this._productDataService=i,this._productCardService=n,this._productViewService=c,this._shoppingCartService=a,this.dialog=s,this._customerAccountService=d,this._snackBar=p,this._matDialog=u,this.connectivityRecommendationService=l,this._slugifyPipe=h,this._activatedRoute=g,this._browserStorageService=b,this._userDataService=m,this._analyticsService=f,this._checkoutService=_,this._shoppingCartViewService=C,this._existingCustomerService=P,this._solidApiService=S,this._stickyCardService=T,this.renderer=O,this._isLoading=!1,this.premiumMailboxSelected=new o.o,this._isFibre=!1,this._ispremiumMailboxClicked=!1,this._RegEx=v.b,this._showCampaign=!0,this._proceedFriendlyName="View more",this._isProductsViewLoading=!1,this._showMonthlyCharges=!1,this._isCartLoading=!1,this._newLineRental=!0,this._shouldShowHero=!1,this._isDesktop=!1,this._isTablet=!1,this._isMobile=!1,this._osuExistingCustomerOverdueAccounts=r.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._arrearsAccountMessage=r.f.ALERT_ACCOUNT_IN_ARREARS,this._fsEnableFibrePreOrderCta=r.a.APP_CONFIG.F_S.ENABLE_FIBRE_PRE_ORDER_CTA,this._fsEnableSwitchByVendor=r.a.APP_CONFIG.F_S.ENABLE_SWITCH_BY_VENDOR,this._checkoutClicked=!1,this._promoCode="",this._canSwitch=!1,this._switchPromoCode="",this._productCode="",this._showCheckoutOTPClear=!0,this._isLoggedIn=!1,this._isExistingCustomer=!1,this._showOnceOffCharges=!1,this._isOnceOffChargesViewLoading=!0,this._showLineInstructionToggle=!1,this.fibreLineOptions="New Fibre line",this._backUrlPath=r.a.DASHBOARD_ROUTE,this._PORTAL_PAGES=r.e,this._alerts=[],this._ctaText="Select"}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngAfterViewInit(){setTimeout(()=>{jQuery('[data-toggle="popover"]').popover()},0)}ngOnInit(){if(this.setCtaText(),r.d.logToDevConsole(["___shoppingCartView",this._shoppingCartView]),this._customerAccount=this._customerAccountService.getCustomerAccount(),r.d.logToDevConsole([this._customerAccount]),this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._shoppingCartView){const e=null===this._primaryContact.otpMobileNumber||""===this._primaryContact.otpMobileNumber,t=!this._primaryContact.otpVerified||e;this._showCheckoutOTPClear=!(this._shoppingCartView.requiresOtp&&t)}this._isLoggedIn&&this._isExistingCustomer&&(this._customerAccount=this._customerAccountService.getCustomerAccount(),this._primaryContact=this._existingCustomerService.getPrimaryContact(this._customerAccount),this.shoppingCartView&&(this._showCheckoutOTPClear=!(this.shoppingCartView.requiresOtp&&(!this._primaryContact.otpVerified||null===this._primaryContact.otpMobileNumber||""===this._primaryContact.otpMobileNumber)))),this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,r.e.Fibre),this.product.friendlyName=this._friendlyName),this.product.promoCodeTagLine&&(this._tagLine=this.product.promoCodeTagLine),this.product.chargePeriod&&(this.__chargePeriod=this.product.chargePeriod),this.product.parameters&&(this._infrastructureProviderImage=this._productCardService.getFibreInfrastructureProviderImage(this.product.infrastructureProvider,!1)),this.product.isPreOrder&&this._fsEnableFibrePreOrderCta&&(this._proceedFriendlyName="Pre-order"),r.d.logToDevConsole(["isUpgrade",this.isUpgrade])}onBuyNowClick(e,t){if(this.premiumMailboxSelected.emit(t.productCode),this._ispremiumMailboxClicked=!0,e.preventDefault(),this.isAddMailbox=!1,r.d.logToDevConsole(["_selectedProduct",this._selectedProduct]),this.isUpgrade)this.getShoppingCart(this.product);else{r.d.logToDevConsole(["index",this.index]),this._browserStorageService.setSessionStorage("selectedPremiumMailboxProduct",this.product);const e=this._browserStorageService.getSessionStorage("selectedPremiumMailboxProduct");r.d.logToDevConsole(["matchedProductContext",e]),r.d.logToDevConsole(["this.product",this.product])}this._browserStorageService.setSessionStorage("_isPremiumMailboxClicked",this._ispremiumMailboxClicked)}ngOnChanges(){this.setCtaText()}getShoppingCart(e){const t=this._browserStorageService.getSessionStorage("hostingMailboxToUpgrade");r.d.logToDevConsole(["hostingMailBoxInfo__",t]);const i=t.contractId;r.d.logToDevConsole(["parentContractId",i]);const o=this._shoppingCartService.getShoppingCartProductViewInstance(null==e?void 0:e.friendlyName,null==e?void 0:e.productName,null==e?void 0:e.productRate,null==e?void 0:e.productRateExclVat,null==e?void 0:e.totalVat,null==e?void 0:e.seoTitle,null==e?void 0:e.seoDescription,null==e?void 0:e.seoKeywords,null==e?void 0:e.promoCodeProductId,null==e?void 0:e.promoCode,null==e?void 0:e.productCode,!0,"Change",i,!0,c.a.CAPPED_HOSTING_MAILBOX,[],!1,[],s.a.Upgrade,!1,"");this._shoppingCartService.setShoppingCartProductView(o),this._stickyCardService.addProductToShoppingBasket(o,!0,!1),this._shoppingCartProductView||(this._shoppingCartProductView=this._shoppingCartService.getShoppingCartProductView()),r.d.logToDevConsole(["_shoppingCartProductView",this._shoppingCartProductView]);const n=this._shoppingCartViewService.getShoppingCart();this._shoppingCartService.isThisShoppingCartOk(n)&&(this._shoppingCart=n),i&&this._checkoutService.proceedWithCheckout()}onShoppingCartLoadingDoneEvent(e){e.success&&(e.promoVoucherAdded?(this.shoppingCartProductView.price=e.monthlyChargesTotal,this._isShoppingCartLoadingSuccessful=!1,setTimeout(()=>{this.setShoppingCartView(e)},500)):this.setShoppingCartView(e)),this._isShoppingCartLoadingDone=!0}setShoppingCartView(e){if(this.shoppingCartView=e,this._isShoppingCartLoadingSuccessful=e.success,this._isLoggedIn){const e=this._existingCustomerService.getPrimaryContact(this._customerAccount);!this.shoppingCartView.requiresOtp||e.otpVerified&&null!==e.otpMobileNumber&&""!==e.otpMobileNumber||(this._alerts.push(_.a.getDangerAlert(r.f.ALERT_EC_ORDER_SUMMARY_MISSING_OTP_NUMBER)),r.d.scrollToTop())}}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t)},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}setCtaText(){this._ctaText=this.isUpgrade?"Buy Now":this._selectedProduct===this.product.productCode?"Selected":"Select"}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(p.a),o.Ob(S.d),o.Ob(c.b),o.Ob(a.a),o.Ob(n.a),o.Ob(s.d),o.Ob(T.b),o.Ob(d.a),o.Ob(O.a),o.Ob(T.b),o.Ob(p.a),o.Ob(u.a),o.Ob(S.a),o.Ob(l.a),o.Ob(h.e),o.Ob(g.a),o.Ob(b.a),o.Ob(m.b),o.Ob(f.c),o.Ob(C.a),o.Ob(P.a),o.Ob(o.G))},e.\u0275cmp=o.Ib({type:e,selectors:[["premium-mailbox-product-card"]],viewQuery:function(e,t){var i;1&e&&o.Xc(y,!0),2&e&&o.yc(i=o.cc())&&(t.clickedButton=i.first)},hostBindings:function(e,t){1&e&&o.bc("resize",(function(e){return t.onResize(e)}),!1,o.Cc)},inputs:{product:"product",shoppingCartView:"shoppingCartView",shoppingCartProductView:"shoppingCartProductView",isLoggedIn:"isLoggedIn",index:"index",isAddMailbox:"isAddMailbox",contractView:"contractView",isUpgrade:"isUpgrade",isAddPremiumMailbox:"isAddPremiumMailbox",_selectedProduct:"_selectedProduct"},outputs:{premiumMailboxSelected:"premiumMailboxSelected"},features:[o.zb],decls:5,vars:3,consts:[["class","heroTextContainer w-100",4,"ngIf"],[1,"card","card-hover","capped-hosting-productcard"],[4,"ngIf","ngIfElse"],["desktopView",""],[1,"heroTextContainer","w-100"],["defaultTagLine",""],[1,"heroText"],[1,"capped-hosting-productcard-header","text-center","py-1"],[1,"capped-hosting-productcard-body","p-2"],[1,"d-block","w-full"],[1,"d-block","w-full","text-center"],[1,"price"],[1,"price-suffix"],["class","capped-hosting-cta-footer p-1",3,"click",4,"ngIf"],[1,"capped-hosting-cta-footer","p-1",3,"click"],[1,"d-block","w-full","mb-1"],[1,"d-block","w-full","mb-1","text-center"]],template:function(e,t){if(1&e&&(o.Oc(0,I,4,2,"div",0),o.Ub(1,"div",1),o.Oc(2,x,14,5,"ng-container",2),o.Oc(3,N,13,4,"ng-template",null,3,o.Pc),o.Tb()),2&e){const e=o.zc(4);o.nc("ngIf",t._shouldShowHero),o.Bb(2),o.nc("ngIf",t._isMobile||t._isTablet)("ngIfElse",e)}},directives:[w.t],pipes:[w.E],styles:[".heroTextContainer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#005e7c,#05b9b5 60%)}.heroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%], .nonHeroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%]{margin-bottom:0!important;text-align:center;color:#fff;font-size:1.8rem;padding:.5rem 0;font-weight:700}.capped-hosting-productcard-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#005e7c,#05b9b5 60%);color:#fff;font-size:16px;font-weight:500;line-height:20px}.capped-hosting-cta-footer-container[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:0 16px}.capped-hosting-cta-footer[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:500;line-height:30px;text-align:center;margin:0 auto 16px!important;background:linear-gradient(89.88deg,#bf2f2e 4.12%,#fb7945 99.88%);display:block;width:100%;padding:10px 0}.capped-hosting-cta-footer[_ngcontent-%COMP%]:hover{color:#fff}.isAddMailbox-section[_ngcontent-%COMP%]{width:500px}.add-mailbox-input[_ngcontent-%COMP%]{width:60%!important;height:50px!important}.add-mailbox-create-button[_ngcontent-%COMP%]{color:#707070;border:1px solid #707070;background:#fff;border-radius:0!important;margin-bottom:10px}.capped-hosting-cta-footer[_ngcontent-%COMP%]:hover{cursor:pointer}.capped-hosting-productcard-body[_ngcontent-%COMP%]{min-height:150px;font-size:14px;font-weight:500;line-height:21px;letter-spacing:0;text-align:center;color:#000;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}.capped-hosting-productcard-body[_ngcontent-%COMP%]   span.price[_ngcontent-%COMP%]{font-size:40px;font-weight:500;line-height:52px;letter-spacing:-.01em}.capped-hosting-productcard-body[_ngcontent-%COMP%]   span.price-suffix[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:30px;letter-spacing:0}"]}),e})()},tAX1:function(e,t,i){"use strict";i.d(t,"a",(function(){return U}));var o=i("fXoL"),r=i("wxHw"),n=i("bu7n"),c=i("IBUU"),a=i("nMlR"),s=i("3zK3"),d=i("/H/C"),p=i("9WlA"),u=i("vVA4"),l=i("Ej31"),h=i("DPk/"),g=i("Y9WU"),b=i("M7tL"),m=i("fh86"),f=i("7RkA"),_=i("G7wR"),C=i("tyNb"),v=i("0IaG"),P=i("dNgK"),S=i("ofXK");function T(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"p",6),o.Qc(2),o.gc(3,"slice"),o.Tb(),o.Rb()),2&e){const e=o.fc(2);o.Bb(2),o.Rc(o.jc(3,1,e.product.heroTagLine,0,29))}}function O(e,t){1&e&&(o.Ub(0,"p",6),o.Qc(1,"Most popular"),o.Tb())}function w(e,t){if(1&e&&(o.Ub(0,"div",4),o.Oc(1,T,4,5,"ng-container",2),o.Oc(2,O,2,0,"ng-template",null,5,o.Pc),o.Tb()),2&e){const e=o.zc(3),t=o.fc();o.Bb(1),o.nc("ngIf",(null==t.product||null==t.product.heroTagLine?null:t.product.heroTagLine.length)>0)("ngIfElse",e)}}function y(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"div",7),o.Ub(2,"div"),o.Qc(3),o.Tb(),o.Tb(),o.Ub(4,"div",8),o.Ub(5,"div",9),o.Qc(6),o.Tb(),o.Ub(7,"div",10),o.Ub(8,"span",11),o.Qc(9),o.Tb(),o.Ub(10,"span",12),o.Qc(11,"pm"),o.Tb(),o.Tb(),o.Tb(),o.Ub(12,"div",13),o.Qc(13," Buy Now "),o.Tb(),o.Rb()),2&e){const e=o.fc();o.Bb(3),o.Rc(e.product.friendlyName),o.Bb(3),o.Rc(e.product.summary),o.Bb(3),o.Sc("R",e.product.productRate,"")}}function R(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",7),o.Ub(1,"div"),o.Qc(2),o.Tb(),o.Tb(),o.Ub(3,"div",8),o.Ub(4,"div",9),o.Qc(5),o.Tb(),o.Ub(6,"div",10),o.Ub(7,"span",11),o.Qc(8),o.Tb(),o.Ub(9,"span",12),o.Qc(10,"pm"),o.Tb(),o.Tb(),o.Tb(),o.Ub(11,"div",14),o.Ub(12,"a",15),o.bc("click",(function(t){o.Dc(e);const i=o.fc();return i.onProceedClick(t,i.product)})),o.Qc(13," Buy Now "),o.Tb(),o.Tb()}if(2&e){const e=o.fc();o.Bb(2),o.Rc(e.product.friendlyName),o.Bb(3),o.Rc(e.product.summary),o.Bb(3),o.Sc("R",e.product.productRate,"")}}let U=(()=>{class e{constructor(e,t,i,n,c,a,s,d,p,u,l,h,g,b,m,f,_,C,v){this._connectivityRecommendationService=e,this._router=t,this._productDataService=i,this._productCardService=n,this._productViewService=c,this._shoppingCartService=a,this.dialog=s,this._customerAccountService=d,this._snackBar=p,this._matDialog=u,this.connectivityRecommendationService=l,this._slugifyPipe=h,this._activatedRoute=g,this._browserStorageService=b,this._userDataService=m,this._analyticsService=f,this._checkoutService=_,this._shoppingCartViewService=C,this._existingCustomerService=v,this.canProceed=!0,this.relatedProductPrice=0,this.checkCoverageClickEvent=new o.o,this._isFibre=!1,this._showCampaign=!0,this._proceedFriendlyName="View more",this._isProductsViewLoading=!1,this._showMonthlyCharges=!1,this._isCartLoading=!1,this._newLineRental=!0,this._shouldShowHero=!1,this._isDesktop=!1,this._isTablet=!1,this._isMobile=!1,this._osuExistingCustomerOverdueAccounts=r.a.APP_CONFIG.F_S.OSU_EC_OVERDUE_ACCCOUNTS_OSU,this._arrearsAccountMessage=r.f.ALERT_ACCOUNT_IN_ARREARS,this._fsEnableFibrePreOrderCta=r.a.APP_CONFIG.F_S.ENABLE_FIBRE_PRE_ORDER_CTA,this._fsEnableSwitchByVendor=r.a.APP_CONFIG.F_S.ENABLE_SWITCH_BY_VENDOR,this._checkoutClicked=!1,this._promoCode="",this._canSwitch=!1,this._switchPromoCode="",this._productCode="",this._showCheckoutOTPClear=!0,this._isLoggedIn=!1,this._isExistingCustomer=!1,this._showOnceOffCharges=!1,this._isOnceOffChargesViewLoading=!0,this._showLineInstructionToggle=!1,this.fibreLineOptions="New Fibre line",this._backUrlPath=r.a.DASHBOARD_ROUTE,this._alerts=[]}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngAfterViewInit(){setTimeout(()=>{jQuery('[data-toggle="popover"]').popover()},0)}ngOnInit(){if(r.d.logToDevConsole(["___shoppingCartView",this._shoppingCartView]),this._customerAccount=this._customerAccountService.getCustomerAccount(),r.d.logToDevConsole([this._customerAccount]),this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._shoppingCartView){const e=null===this._primaryContact.otpMobileNumber||""===this._primaryContact.otpMobileNumber,t=!this._primaryContact.otpVerified||e;this._showCheckoutOTPClear=!(this._shoppingCartView.requiresOtp&&t)}this._productViewService._cardViewSubject.subscribe(e=>{this._isListView=!0===e&&e}),this._isLoggedIn&&this._isExistingCustomer&&(this._customerAccount=this._customerAccountService.getCustomerAccount(),this._primaryContact=this._existingCustomerService.getPrimaryContact(this._customerAccount),this.shoppingCartView&&(this._showCheckoutOTPClear=!(this.shoppingCartView.requiresOtp&&(!this._primaryContact.otpVerified||null===this._primaryContact.otpMobileNumber||""===this._primaryContact.otpMobileNumber)))),this.product.friendlyName?this._friendlyName=this.product.friendlyName:(this._friendlyName=this._productDataService.getProductFriendlyName(this.product,r.e.Fibre),this.product.friendlyName=this._friendlyName),this.campaign.friendlyName&&"Upgrade/Downgrade"===this.campaign.friendlyName&&(this._showCampaign=!1),this._tagLine=this.product.promoCodeTagLine?this.product.promoCodeTagLine:this.campaign.friendlyName,this.product.chargePeriod&&(this.__chargePeriod=this.product.chargePeriod),this.product.parameters&&(this._infrastructureProviderImage=this._productCardService.getFibreInfrastructureProviderImage(this.product.infrastructureProvider,!1)),this._proceedFriendlyName=this._productCardService.getProductProceedFriendlyName(this.canProceed,this.isLoggedIn),this.product.isPreOrder&&this._fsEnableFibrePreOrderCta&&(this._proceedFriendlyName="Pre-order")}onShoppingCartLoadingDoneEvent(e){e.success&&(e.promoVoucherAdded?(this.shoppingCartProductView.price=e.monthlyChargesTotal,this._isShoppingCartLoadingSuccessful=!1,setTimeout(()=>{this.setShoppingCartView(e)},500)):this.setShoppingCartView(e)),this._isShoppingCartLoadingDone=!0}setShoppingCartView(e){if(this.shoppingCartView=e,this._isShoppingCartLoadingSuccessful=e.success,this._isLoggedIn){const e=this._existingCustomerService.getPrimaryContact(this._customerAccount);!this.shoppingCartView.requiresOtp||e.otpVerified&&null!==e.otpMobileNumber&&""!==e.otpMobileNumber||(this._alerts.push(_.a.getDangerAlert(r.f.ALERT_EC_ORDER_SUMMARY_MISSING_OTP_NUMBER)),r.d.scrollToTop())}}setLineInstructionOption(){const e=this._fsEnableSwitchByVendor.find(e=>e.vendor===this._product.infrastructureProvider&&e.switch_enabled),t="change"===this._shoppingCartProductView.saleType.toLowerCase(),i=this._shoppingCartService.getShoppingCartProductView();r.d.logToDevConsole(["setLineInstructionOption() ::: providerSwitchEnabled",e,"isChange: "+t,"SCPV saleType State",this._shoppingCartProductView.saleType,"storedSCPV",i],"purple","white"),e&&(this._showLineInstructionToggle=!t&&!!e),this.fibreLineOptions=this._promoCode.toLowerCase().includes("switch")?"Transfer existing Fibre line":"New Fibre line"}getOrderType(e){switch(e){case"New":return s.a.New;case"Change":return s.a.Change;case"Upsell":return s.a.Upgrade;case"Downgrade":return s.a.Downgrade}}getRelatedProducts(){const e=this._promoCodeProducts[0].products.filter(e=>e.productRate>this._product.productRate);e&&e.length>0?(this._productViewService.sortProductsByPriceAscending(e),this._relatedProducts=e.slice(0,2)):this._relatedProducts=[]}processProduct(e,t){var i,o;let r=0,n=0,c=0,a=0,s=0,d=0;const p=null===(i=this._cartLinesMonthlyCharges)||void 0===i?void 0:i.find(e=>e.type===m.a.MonthlyTotal),u=null===(o=this._cartLinesOnceOffCharges)||void 0===o?void 0:o.find(e=>e.type===m.a.OnceOffTotal);p&&(r=p.price,n=p.vat,c=p.priceExcludingVat),u&&(a=u.price,s=u.vat,d=u.priceExcludingVat);let l=[],h=!1,g=!1;e&&(l=e.customerPromoCodeInstructions,h=e.requiresOTPVerification,g=e.promoVoucherApplied&&e.promoVoucherValid),0===r&&a>0&&(this._showMonthlyChargesSection=!1);const b=this._shoppingCartViewService.getShoppingCartViewInstance(this._cartLinesAnnualCharges,this._cartLinesMonthlyCharges,this._cartLinesOnceOffCharges,0,0,0,r,n,c,a,s,d,t,l,h,g);this._isCartLoading=!1,this.shoppingCartView=b,this.onShoppingCartLoadingDoneEvent(b)}onProceedClick(e,t){e.preventDefault(),this._productCardService.onProceedClick(!0,r.a.PORTAL_ROUTE_VOIP,this.campaign,this.product,[],this.isLoggedIn)}displayReadOnlyPopOver(e,t){const i="#"+e;jQuery(`.secondary[data-toggle="popover"]:not(${i})`).popover("hide"),jQuery(i).data("content",t),jQuery(i).popover("show"),setTimeout(()=>{this.hideReadOnlyPopOver(e,t)},3e3)}hideReadOnlyPopOver(e,t){jQuery("#"+e).popover("hide")}slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(p.a),o.Ob(C.d),o.Ob(c.b),o.Ob(a.a),o.Ob(n.a),o.Ob(s.d),o.Ob(v.b),o.Ob(d.a),o.Ob(P.a),o.Ob(v.b),o.Ob(p.a),o.Ob(u.a),o.Ob(C.a),o.Ob(l.a),o.Ob(h.e),o.Ob(g.a),o.Ob(b.a),o.Ob(m.b),o.Ob(f.c))},e.\u0275cmp=o.Ib({type:e,selectors:[["capped-hosting-product-card"]],hostBindings:function(e,t){1&e&&o.bc("resize",(function(e){return t.onResize(e)}),!1,o.Cc)},inputs:{campaign:"campaign",product:"product",canProceed:"canProceed",relatedProductPrice:"relatedProductPrice",shoppingCartView:"shoppingCartView",shoppingCartProductView:"shoppingCartProductView",isLoggedIn:"isLoggedIn",index:"index"},outputs:{checkCoverageClickEvent:"checkCoverageClickEvent"},decls:5,vars:3,consts:[["class","heroTextContainer w-100",4,"ngIf"],[1,"card","card-hover","capped-hosting-productcard"],[4,"ngIf","ngIfElse"],["desktopView",""],[1,"heroTextContainer","w-100"],["defaultTagLine",""],[1,"heroText"],[1,"capped-hosting-productcard-header","text-center"],[1,"capped-hosting-productcard-body"],[1,"d-block","w-full"],[1,"d-block","w-full","text-center"],[1,"price"],[1,"price-suffix"],[1,"capped-hosting-cta-footer"],[1,"capped-hosting-cta-footer-container"],[1,"capped-hosting-cta-footer",3,"click"]],template:function(e,t){if(1&e&&(o.Oc(0,w,4,2,"div",0),o.Ub(1,"div",1),o.Oc(2,y,14,3,"ng-container",2),o.Oc(3,R,14,3,"ng-template",null,3,o.Pc),o.Tb()),2&e){const e=o.zc(4);o.nc("ngIf",t._shouldShowHero),o.Bb(2),o.nc("ngIf",t._isMobile||t._isTablet)("ngIfElse",e)}},directives:[S.t],pipes:[S.E],styles:[".heroTextContainer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#005e7c,#05b9b5 60%)}.heroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%], .nonHeroTextContainer[_ngcontent-%COMP%] > .heroText[_ngcontent-%COMP%]{margin-bottom:0!important;text-align:center;color:#fff;font-size:1.8rem;padding:.5rem 0;font-weight:700}.capped-hosting-productcard-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#005e7c,#05b9b5 60%);color:#fff;font-size:16px;font-weight:500;line-height:20px;padding:8px}.capped-hosting-cta-footer-container[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:0 16px}.capped-hosting-cta-footer[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:500;line-height:30px;text-align:center;margin:0 auto 16px!important;background:linear-gradient(89.88deg,#bf2f2e 4.12%,#fb7945 99.88%);display:block;width:100%;padding:10px 0}.capped-hosting-cta-footer[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.capped-hosting-productcard-body[_ngcontent-%COMP%]{min-height:150px;font-size:14px;font-weight:500;line-height:21px;letter-spacing:0;text-align:center;color:#000;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:column;flex-direction:column;background-color:#f9f9f9;padding:16px}.capped-hosting-productcard-body[_ngcontent-%COMP%]   span.price[_ngcontent-%COMP%]{font-size:40px;font-weight:500;line-height:52px;letter-spacing:-.01em}.capped-hosting-productcard-body[_ngcontent-%COMP%]   span.price-suffix[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:30px;letter-spacing:0}"]}),e})()},taPy:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var o=i("wxHw"),r=i("fXoL"),n=i("0IaG"),c=i("bTqV");let a=(()=>{class e{constructor(){this.accountMessage=o.f.ALERT_ACCOUNT_IN_ARREARS}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Ib({type:e,selectors:[["app-overdue-accounts-dialog"]],decls:6,vars:1,consts:[[1,"fixActionRow"],[1,"p-0"],[1,"charcoal","small","w-100","px-2",3,"innerHTML"],["align","center"],["color","primary","mat-raised-button","","mat-dialog-close",""]],template:function(e,t){1&e&&(r.Ub(0,"div",0),r.Ub(1,"mat-dialog-content",1),r.Pb(2,"p",2),r.Tb(),r.Ub(3,"mat-dialog-actions",3),r.Ub(4,"button",4),r.Qc(5,"Close"),r.Tb(),r.Tb(),r.Tb()),2&e&&(r.Bb(2),r.nc("innerHTML",t.accountMessage,r.Ec))},directives:[n.f,n.c,c.b,n.d],styles:[""]}),e})()},v1uQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("fXoL"),r=i("wxHw"),n=(i("bu7n"),i("W5Lo")),c=i("ofXK");function a(e,t){1&e&&(o.Sb(0),o.Ub(1,"div",18),o.Qc(2,"Selected"),o.Tb(),o.Rb())}function s(e,t){1&e&&(o.Ub(0,"div",19),o.Qc(1,"Select"),o.Tb())}function d(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",11),o.bc("click",(function(){o.Dc(e);const i=t.$implicit;return o.fc().onCampaignSelectionClick(i)})),o.Ub(1,"div",12),o.Ub(2,"div",13),o.Qc(3),o.Tb(),o.Ub(4,"div",14),o.Qc(5),o.Tb(),o.Tb(),o.Ub(6,"div",15),o.Oc(7,a,3,0,"ng-container",16),o.Oc(8,s,2,0,"ng-template",null,17,o.Pc),o.Tb(),o.Tb()}if(2&e){const e=t.$implicit,i=o.zc(9),r=o.fc();o.Gb("active",r.campaignSelected&&e.id===r.campaignSelected.friendlyName||r._activeCampaign&&e.id===r._activeCampaign.id),o.Bb(2),o.Gb("active",r.campaignSelected&&e.id===r.campaignSelected.id||r._activeCampaign&&e.id===r._activeCampaign.id),o.Bb(1),o.Sc(" ",e.friendlyName," "),o.Bb(2),o.Sc(" ",e.friendlyName," "),o.Bb(2),o.nc("ngIf",r.campaignSelected&&e.id===r.campaignSelected.id||r._activeCampaign&&e.id===r._activeCampaign.id)("ngIfElse",i)}}let p=(()=>{class e{constructor(e){this._campaignService=e,this.onCampaignSelectionEvent=new o.o,this._PORTAL_PAGES=r.e,this._mediaPath=r.a.getPortalMediaPath()+"campaigns/",this._isDevelopment=!1}onResize(e){this._isDesktop=e.target.innerWidth>1024,this._isTablet=e.target.innerWidth>768&&e.target.innerWidth<=1024,this._isMobile=e.target.innerWidth<=768}ngOnInit(){this._isDesktop=window.innerWidth>1024,this._isTablet=window.innerWidth>768&&window.innerWidth<=1024,this._isMobile=window.innerWidth<=768,this._activeCampaign=this._campaignService.getSelectedCampaign()}onCampaignSelectionClick(e){e.friendlyName!==this._campaignService.getSelectedCampaign().friendlyName&&(this._campaignSelected=e,this._campaignService.setSelectedCampaign(e,"Deal Selection"),this.onCampaignSelectionEvent.emit(e)),this._isDevelopment&&(console.groupCollapsed("Campaign (Deal) Popup: onCampaignSelectionClick()"),console.log("Campaign selected:",this._campaignSelected),console.groupEnd())}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(n.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["popup-deal"]],hostBindings:function(e,t){1&e&&o.bc("resize",(function(e){return t.onResize(e)}),!1,o.Cc)},inputs:{page:"page",campaignSelection:"campaignSelection",campaignSelected:"campaignSelected"},outputs:{onCampaignSelectionEvent:"onCampaignSelectionEvent"},decls:12,vars:5,consts:[["id","dealsModal","tabindex","-1","role","dialog","aria-labelledby","dealsModalTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-heading","text-white","w-100","mb-1"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true",1,"text-white"],[1,"fas","fa-times"],[1,"modal-body","p-2","text-center"],[1,"mb-5","mb-md-0","w-100"],["data-dismiss","modal","class","card deal-card m-2 clickable",3,"active","click",4,"ngFor","ngForOf"],["data-dismiss","modal",1,"card","deal-card","m-2","clickable",3,"click"],[1,"card-body","p-0"],[1,"w-100","deal-heading"],[1,"p-1"],[1,"selection-indicator","pr-1","m-0"],[4,"ngIf","ngIfElse"],["nonSelected",""],[1,"btn","button-secondary-dark","btn-smaller"],[1,"btn","button-unselected","btn-smaller"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"div",3),o.Ub(4,"div",4),o.Qc(5,"Deal options"),o.Tb(),o.Ub(6,"button",5),o.Ub(7,"span",6),o.Pb(8,"i",7),o.Tb(),o.Tb(),o.Tb(),o.Ub(9,"div",8),o.Ub(10,"div",9),o.Oc(11,d,10,8,"div",10),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Bb(10),o.Gb("justify-content-between",t._isDesktop||t._isTablet)("d-flex",t._isDesktop||t._isTablet),o.Bb(1),o.nc("ngForOf",t.campaignSelection))},directives:[c.s,c.t],styles:[".deal-heading[_ngcontent-%COMP%]{background:none;color:#707070;font-size:18px;padding:5px 0 15px;border-bottom:1px solid #707070}.deal-card[_ngcontent-%COMP%]{min-width:200px!important;border:1px solid #707070}.deal-card.active[_ngcontent-%COMP%]{min-width:200px!important;border:1px solid #0b2388}.deal-heading.active[_ngcontent-%COMP%]{background:#0b2388;color:#fff;border-bottom:none}.modal-body[_ngcontent-%COMP%]{margin:15px 25px}"]}),e})()},vMG0:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var o=i("ofXK"),r=i("v1uQ"),n=i("W5Lo"),c=i("O89p"),a=i("0IaG"),s=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=s.Mb({type:e,bootstrap:[r.a,c.a]}),e.\u0275inj=s.Lb({factory:function(t){return new(t||e)},providers:[n.a],imports:[[o.c,a.g]]}),e})()}}]);