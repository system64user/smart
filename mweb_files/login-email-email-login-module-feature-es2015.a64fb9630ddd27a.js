(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{Cb8C:function(e,t,i){"use strict";i.r(t),i.d(t,"EmailLoginModuleFeature",(function(){return C}));var n=i("ofXK"),o=i("jhN1"),s=i("tk/3"),r=i("3Pt+"),a=i("tyNb"),c=i("wxHw"),l=i("G7wR"),g=i("Ej31"),h=i("DPk/"),b=i("fBpz"),m=i("ej43"),_=i("2KhL"),d=i("fXoL"),u=i("KT3X");function p(e,t){if(1&e&&(d.Sb(0),d.Pb(1,"div",18),d.Rb()),2&e){const e=d.fc();d.Bb(1),d.nc("innerHTML",e._contentLogin.content,d.Ec)}}let v=(()=>{class e{constructor(e,t,i,n,o,s,r,a){this._router=e,this._titleService=t,this._browserStorageService=i,this._userDataService=n,this._userProductJourneyService=o,this._activatedRoute=s,this._authenticationService=r,this._cmsContentService=a,this._alerts=[],this._isVisible=!1,this._hasSessionExpired=!1,this._type=c.a.LOGIN_TYPE_EMAIL_LOGIN,this._assetPath=c.a.getPortalAssetPath(),this._isDevelopment=!1,this._pageFriendlyName="Email User Login",this._fsUseHrefHomeLink=c.a.APP_CONFIG.F_S.USE_HREF_HOME_LINK}ngOnInit(){c.a.isDevelopment()&&(this._isDevelopment=!0),this._userDataService.initialiseUserData(),this._userProductJourneyService.initialiseExistingCustomerUserUserProductJourney(),this._hasSessionExpired=this._authenticationService.isJwtTokenExpired(),this._activatedRoute.queryParams.subscribe(e=>{"true"===e.sessionTimeout&&this._hasSessionExpired&&this._alerts.push(l.a.getInfoAlert(c.f.LOGIN_SESSION_EXPIRED))}),this._browserStorageService.getLocalStorage(c.a.AUTHENTICATION_USER)||(this._authenticationService.jwtCookieExists()||this._authenticationService.jwtRefreshCookieExists())&&this._authenticationService.removeAllAuthenticationCookies(),this._isDevelopment&&(console.group("Email Login Page"),console.log("Session expired:",this._hasSessionExpired),console.groupEnd()),this._isVisible=!0,this.getPageContent(),this._titleService.setTitle("Email Login - MWEB")}homeClick(e){e.preventDefault(),this._fsUseHrefHomeLink?window.location.href="/":this._router.navigate(["/"])}getPageContent(){this._cmsContentService.getAllPageContent(this._pageFriendlyName).subscribe(e=>{this._contentAll=e.data;const t=this._contentAll.find(e=>e.slug===c.a.APP_CONFIG.C_C_S.WEBMAIL_LOGIN_2022_PAGE_LEFT_COL_CONTENT);t&&(this._contentLogin=t),this._isDevelopment&&(console.groupCollapsed("Email Login Page: getPageContent()"),console.log("All content:",this._contentAll),console.log("Extra information",t),console.groupEnd())})}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(a.d),d.Ob(o.d),d.Ob(g.a),d.Ob(h.e),d.Ob(b.a),d.Ob(a.a),d.Ob(m.c),d.Ob(_.a))},e.\u0275cmp=d.Ib({type:e,selectors:[["email-login-page"]],decls:18,vars:5,consts:[["id","MWEB-2016"],["id","login-register",1,"login-register","existing-customer"],[1,"row","m-0","email-login-container"],[4,"ngIf"],[1,"col-12","d-block","d-lg-none","user-login-blue-gradient",2,"height","90px"],["href","/",3,"click"],["alt","mweb-logo","src","/media/images/mweb-logo-2020-white.png","width","120",1,"ml-1","my-1","mt-2"],[1,"col-12","col-lg-6","p-0","m-0","email-login-container-form"],[1,"existing-customer","h-100"],[2,"margin","95px auto"],["src","/media/images/mweb-logo-2020-white.png","alt","Blue and white Mweb logo with animation.",1,"img-responsive","center-block"],[1,"row","login-header","d-none"],[1,"col-lg-4","offset-lg-4","col-md-5","offset-md-3","col-sm-6","offset-sm--3","col-xs-12"],[1,"row"],[1,"col-sm-10","col-xs-9"],[1,"h-100"],[1,"row","h-100","justify-content-md-center","justify-content-start","align-items-center","m-0"],[1,"ml-3","ml-lg-0",3,"type","alerts"],[1,"col-12","col-lg-6","col-lg-auto","d-none","d-lg-block","m-0","p-0","app-awareness-content-container-left","app-awareness-container-bg-image",3,"innerHTML"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Ub(1,"section",1),d.Ub(2,"div",2),d.Oc(3,p,2,1,"ng-container",3),d.Ub(4,"div",4),d.Ub(5,"a",5),d.bc("click",(function(e){return t.homeClick(e)})),d.Pb(6,"img",6),d.Tb(),d.Tb(),d.Ub(7,"div",7),d.Ub(8,"div",8),d.Ub(9,"div",9),d.Pb(10,"img",10),d.Tb(),d.Ub(11,"div",11),d.Ub(12,"div",12),d.Ub(13,"div",13),d.Pb(14,"div",14),d.Tb(),d.Tb(),d.Tb(),d.Ub(15,"div",15),d.Ub(16,"div",16),d.Pb(17,"mweb-existing-login",17),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Bb(3),d.nc("ngIf",t._contentLogin),d.Bb(6),d.Gb("hidden",t._isVisible),d.Bb(8),d.nc("type",t._type)("alerts",t._alerts))},directives:[n.t,u.a],styles:[""]}),e})();const f=[{path:"",component:v}];let w=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[a.h.forChild(f)],a.h]}),e})();var E=i("cNqA"),S=i("3/2e"),L=i("Iwdr"),P=i("pqLn"),T=i("L9iM");let C=(()=>{class e{}return e.\u0275mod=d.Mb({type:e,bootstrap:[v]}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},providers:[o.d],imports:[[n.c,s.c,r.o,r.E,w,E.a,S.a,L.a,P.a,T.a]]}),e})()}}]);