(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{KRMm:function(t,e,i){"use strict";i.r(e),i.d(e,"LoginModuleFeature",(function(){return A}));var n=i("ofXK"),o=i("jhN1"),s=i("tk/3"),r=i("3Pt+"),c=i("tyNb"),a=i("wxHw"),l=i("G7wR"),p=i("Ej31"),g=i("DPk/"),b=i("fBpz"),h=i("ej43"),d=i("2KhL"),_=i("/g+K"),u=i("fXoL"),m=i("KT3X"),v=i("320Y"),f=i("B8v0");function T(t,e){if(1&t&&u.Pb(0,"app-header",15),2&t){const t=u.fc();u.nc("page",t._page)}}function C(t,e){1&t&&u.Pb(0,"notice-card",19),2&t&&u.nc("noticeCard",e.$implicit)}function E(t,e){if(1&t&&(u.Ub(0,"section",16),u.Ub(1,"div",17),u.Oc(2,C,1,1,"notice-card",18),u.Tb(),u.Tb()),2&t){const t=u.fc();u.Bb(2),u.nc("ngForOf",t._ipNoticeCards)}}let P=(()=>{class t{constructor(t,e,i,n,o,s,r,c,l){this._router=t,this._titleService=e,this._browserStorageService=i,this._userDataService=n,this._userProductJourneyService=o,this._activatedRoute=s,this._authenticationService=r,this._cmsContentService=c,this._noticeService=l,this._alerts=[],this._isVisible=!1,this._hasSessionExpired=!1,this._type=a.a.LOGIN_TYPE_LOGIN,this._assetPath=a.a.getPortalAssetPath(),this._isDevelopment=!1,this._pageFriendlyName="User Login",this._hasIpNotices=!1,this._page=a.e.Login}ngOnInit(){a.a.isDevelopment()&&(this._isDevelopment=!0),this._userDataService.initialiseUserData(),this._userProductJourneyService.initialiseExistingCustomerUserUserProductJourney(),this._hasSessionExpired=!this._authenticationService.isJwtTokenExpired,this.checkIpNotices(),this._activatedRoute.queryParams.subscribe(t=>{"true"===t.sessionTimeout&&this._hasSessionExpired&&this._alerts.push(l.a.getInfoAlert(a.f.LOGIN_SESSION_EXPIRED))}),this._browserStorageService.getLocalStorage(a.a.AUTHENTICATION_USER)||(this._authenticationService.jwtCookieExists()||this._authenticationService.jwtRefreshCookieExists())&&this._authenticationService.removeAllAuthenticationCookies(),this._isDevelopment&&(console.group("Login Page"),console.log("Session expired:",this._hasSessionExpired),console.groupEnd()),this._isVisible=!0,this.getPageContent(),this._titleService.setTitle("Login - MWEB")}homeClick(t){t.preventDefault(),this._router.navigate(["/"])}getPageContent(){this._cmsContentService.getAllPageContent(this._pageFriendlyName).subscribe(t=>{this._contentAll=t.data;const e=this._contentAll.find(t=>t.slug===a.a.APP_CONFIG.C_C_S.USER_LOGIN_2022_PAGE_LEFT_COL_CONTENT);e&&(this._contentLogin=e,console.log("_contentLogin"),console.log(this._contentLogin)),this._isDevelopment&&(console.groupCollapsed("User Login Page: getPageContent()"),console.log("All content:",this._contentAll),console.log("Extra information",e),console.groupEnd())})}setBootstrapAlertEvent(t){this._alerts=[],this._alerts.push(t),a.d.logToDevConsole(["Login page : setBootstrapAlertEvent",t]),a.d.scrollToElement("#login-register")}checkIpNotices(){a.a.FS_HEADER_IP_NOTICES_ENABLED&&!this._authenticationService.isExistingCustomerLoggedIn()&&this._noticeService.getUserNotices(_.b.IP_NOTICE).subscribe(t=>{const e=this._noticeService.buildNoticeCards(t);e&&e.length>0&&(this._hasIpNotices=!0,this._ipNoticeCards=e),this._noticeService.setIpNoticeCards(e),a.d.logGroupedObjectsToDevConsole("App: checkIpNotices()",[{title:"IP Notices:",info:t},{title:"IP notice cards:",info:e}])},t=>{a.d.logGroupedErrorObjectsToDevConsole("App: checkIpNotices()",[{title:"IP notice error occurred:",info:t}])})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(c.d),u.Ob(o.d),u.Ob(p.a),u.Ob(g.e),u.Ob(b.a),u.Ob(c.a),u.Ob(h.c),u.Ob(d.a),u.Ob(_.c))},t.\u0275cmp=u.Ib({type:t,selectors:[["login-page"]],decls:37,vars:5,consts:[[3,"page",4,"ngIf"],["class","ip-notice-container",4,"ngIf"],[1,"mobile-app-ad-banner-container","d-flex","justify-content-center","align-items-center",3,"innerHTML"],[1,"container","custom-height","d-flex"],[1,"row","align-self-center","ie-flex","login-form-container"],[1,"col-12","login-container","p-1","p-md-4"],[1,"row","login-container-inner"],[1,"col-12","col-md-6","login-forms","p-2","p-md-4"],[1,"ml-3","ml-lg-0",3,"type","alerts","setBootstrapAlertEvent"],[1,"clearfix"],[1,"col-12","col-md-6","login-info","p-2","p-md-4","mt-2","mt-md-0"],[1,"row"],[1,"col"],[1,"col-12"],[1,"information-list-item"],[3,"page"],[1,"ip-notice-container"],[1,"container"],[3,"noticeCard",4,"ngFor","ngForOf"],[3,"noticeCard"]],template:function(t,e){1&t&&(u.Oc(0,T,1,1,"app-header",0),u.Oc(1,E,3,1,"section",1),u.Pb(2,"div",2),u.Ub(3,"div",3),u.Ub(4,"div",4),u.Ub(5,"div",5),u.Ub(6,"div",6),u.Ub(7,"div",7),u.Ub(8,"mweb-existing-login",8),u.bc("setBootstrapAlertEvent",(function(t){return e.setBootstrapAlertEvent(t)})),u.Tb(),u.Ub(9,"div",9),u.Qc(10,"\xa0"),u.Tb(),u.Tb(),u.Ub(11,"div",10),u.Ub(12,"div",11),u.Ub(13,"div",12),u.Ub(14,"h2"),u.Qc(15,"Manage your account anytime - no hassle, no fuss!"),u.Pb(16,"br"),u.Qc(17,"Log in to:"),u.Tb(),u.Tb(),u.Tb(),u.Ub(18,"div",11),u.Ub(19,"div",13),u.Ub(20,"p",14),u.Qc(21,"Manage existing products"),u.Tb(),u.Tb(),u.Ub(22,"div",13),u.Ub(23,"p",14),u.Qc(24,"Check your usage"),u.Tb(),u.Tb(),u.Ub(25,"div",13),u.Ub(26,"p",14),u.Qc(27,"Add new products"),u.Tb(),u.Tb(),u.Ub(28,"div",13),u.Ub(29,"p",14),u.Qc(30,"Log queries"),u.Tb(),u.Tb(),u.Ub(31,"div",13),u.Ub(32,"p",14),u.Qc(33,"Manage account settings"),u.Tb(),u.Tb(),u.Ub(34,"div",13),u.Ub(35,"p",14),u.Qc(36,"and more"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.nc("ngIf","Login"===e._type),u.Bb(1),u.nc("ngIf",e._hasIpNotices),u.Bb(1),u.nc("innerHTML",e._contentLogin.content,u.Ec),u.Bb(6),u.nc("type",e._type)("alerts",e._alerts))},directives:[n.t,m.a,v.a,n.s,f.a],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;background:#fff!important}.login-container[_ngcontent-%COMP%]{box-shadow:0 2px 8px rgba(0,0,0,.5)!important}.login-container-inner[_ngcontent-%COMP%]{-ms-flex:1 1 auto;flex:1 1 auto}.login-forms[_ngcontent-%COMP%]{box-shadow:0 2px 8px rgba(0,0,0,.5)!important}.information-list-item[_ngcontent-%COMP%]{border-left:2px solid #00b3b0;padding-left:1rem;text-align:start!important;margin-bottom:1.8rem!important}@media screen and (min-width:992px){.custom-height[_ngcontent-%COMP%]{margin-top:10rem}.login-form-container[_ngcontent-%COMP%]{position:relative;bottom:5rem}}@media screen and (max-width:768px){.login-forms[_ngcontent-%COMP%]{box-shadow:none!important}}.ie-flex[_ngcontent-%COMP%]{-ms-flex:1 1 auto!important;flex:1 1 auto!important}"]}),t})();const O=[{path:"",component:P}];let S=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[c.h.forChild(O)],c.h]}),t})();var x=i("cNqA"),U=i("3/2e"),I=i("L9iM"),L=i("Iwdr"),N=i("pqLn"),w=i("90sL");let A=(()=>{class t{}return t.\u0275mod=u.Mb({type:t,bootstrap:[P]}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},providers:[o.d,_.c],imports:[[n.c,s.c,r.o,r.E,S,x.a,U.a,L.a,N.a,w.a,I.a]]}),t})()}}]);