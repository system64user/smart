function _moduleFactory(){function f(n,t){var u=function(){},r,f,i;for(u.prototype=t.prototype,n.prototype=new u,r=2,f=arguments.length;r<f;r++)i=arguments[r],typeof i=="function"&&(i=i.prototype),$.extend(n.prototype,i)}var t=arguments.length,i=arguments[0],r=arguments[t-1],n=function(){if(this.init.apply(this,arguments),this.domready)if(this._initECConfig){var n=this;function t(t){n._initEcConfig&&n._initEcConfig.apply(n);n.initEcConfig&&n.initEcConfig.apply(n);n.domready.apply(n,t.getResponse("beforeRender"))}$(document).ready($.proxy(function(){this._initECConfig.call(this,t)},this))}else $(document).ready($.proxy(this.domready,this))},u;return t>1?(u=[n,i].concat(Array.prototype.slice.call(arguments).slice(1,t-1),r),f.apply(null,u)):n.prototype=r,n.prototype._parent=n._parent=i,n.prototype._super=i.prototype,n}var widget_base_timer,getErrorMsgInfo;window.__define_resource&&__define_resource("MSG06861","BTN00141","LBL10749","LBL08531","LBL08532","MSG00959","BTN00004","MSG05714","MSG01396","MSG01136","MSG70527","MSG03397","LBL02938","BTN00070","BTN00033","MSG05722","MSG06104","BTN00083","LBL12654","MSG06987","MSG06988","BTN00008","BTN00043","BTN00959","BTN00204","BTN00203","BTN00079","LBL09437","LBL07280","LBL01593","LBL70688","LBL70585","LBL70586","LBL70558","LBL70559","LBL09037","LBL70562","LBL70561","LBL70563","LBL70564","LBL10379","LBL05361","LBL05362","LBL05363","LBL70571","LBL70578","LBL70590","LBL70589","LBL80306","LBL70592","LBL70593","LBL70594","LBL70595","LBL70596","LBL17332");ecount.env||(ecount.env={});ecount.env.REACT_SENTITIVE;ecount.env.REACT_SENTITIVE_MENU_DEPTH1;ecount.env.REACT_SENTITIVE_MENU_DEPTH2;ecount.env.REACT_SENTITIVE_MENU_DEPTH3;ecount.env.FN_LAYER_DELAY=450;ecount.env.EVENT_CAPTURE_MODE=!1;ecount.env.MOUSE_HOVER_IN_TIME=400;ecount.env.MOUSE_HOVER_OUT_TIME=0;ecount.env.LAYER_DISAPPEAR_DELAY_500=500;ecount.env.LAYER_DISAPPEAR_DELAY_1000=1e3;ecount.env.LAYER_DISAPPEAR_DELAY_1200=1200;ecount.env.LAYER_DISAPPEAR_DELAY_3000=3e3;ecount.env.EVENT_CAPTURE_DATA_MAKER=function(){return{}};ecount.env.mock=function(){function f(n,i){Object.keys(i).forEach(function(r){var u=i[r];u&&(u.option||(u.option={}),u.option.host||(u.option.host=t));n[r.toUpperCase()]=u})}function e(n,i){Object.keys(i).forEach(function(r){var u=i[r];u&&!u.host&&(u.host=t);n[r.toUpperCase()]=u})}function i(t){var r=t.split("?"),i=n&&n.MOCKMap&&n.MOCKMap.page&&n.MOCKMap.page[r[0].toUpperCase()];if(i)return _.merge({originURL:t},i)}function r(t){var r=t.split("?"),i=n&&n.MOCKMap&&n.MOCKMap.api&&n.MOCKMap.api[r[0].toUpperCase()];if(i)return _.merge({originURL:t},i)}function o(n,t){return n&&typeof n.postDataDecorator=="function"&&!(n.mockup&&$.isNull(n.mockup.type))?n.postDataDecorator(t):t}function s(n){return n&&n.mockup&&!$.isEmpty(n.mockup.type)}function u(n){var r,u,f,t;return typeof n=="string"&&(r=n,n=i(r)),n?(r=n.originURL,u=r.split("?"),t=[],s(n)?(f="/ECERP/SVC/MOCK/Mockup"+n.mockup.type,$.isEmpty(n.mockup.cshtml)||t.push("__MOCK_CSHTML="+n.mockup.cshtml),$.isEmpty(n.mockup.css)||t.push("__MOCK_CSS="+n.mockup.css)):f=u[0],n.option&&t.push("__MOCK_OPTION="+encodeURIComponent(Object.toJSON(n.option))),$.url().param.__MOCK_CONFIG&&t.push("__MOCK_CONFIG="+encodeURIComponent($.url().param.__MOCK_CONFIG)),u[1]&&t.push(u[1]),f+"?"+t.join("&")):r}function h(n){var t;return(typeof n=="string"&&(t=n,n=r(n)),n)?"//"+n.host+n.url:t}var n=null,t="test.ecount.com";return{host:t,register:function(i){n={host:i.host||t,MOCKMap:{page:{},api:{}}};i.MOCKMap&&i.MOCKMap.page&&f(n.MOCKMap.page,i.MOCKMap.page);i.MOCKMap&&i.MOCKMap.api&&e(n.MOCKMap.api,i.MOCKMap.api);console.log("[[REGISTERED MOCK CONFIG]")},unregister:function(){n=null},isRunnig:function(){return!!n},getPageUrl:u,getApiUrl:h,getApiConf:r,getPageRequest:function(n,t){if(ecount.env.mock.isRunnig()){var r=i(n);if(r)return{url:u(r,t),params:o(r,t)}}return{url:n,params:t}},load:function(n){var i=$.url(),t=i.query.replace(/&$/,""),u=i.base.replace(/([^.]+)/,function(n){return!/-dev/.test(n),n}),r;/__MOCK_CONFIG=/.test(t)?(r=new RegExp("(__MOCK_CONFIG=).*?(&|$)","i"),t=t.replace(r,"$1"+n+"$2")):t="__MOCK_CONFIG="+n+"&"+t;location.href=u+i.path+"?"+t},reload:function(n){$.Asset.javascript("//"+t+n+"/MOCK.config.js",{onload:function(){console.log("[[LOADED FIED CONFIG] - "+n)},onerror:function(){console.log("[[LOAD FAIL FIED CONFIG] - "+n)}})}}}(),function(){ecount=ecount||{};ecount.$={findElementsByPageID:function(n){var t=$(".page");return t.filter(function(t,i){var r=i.getAttribute&&i.getAttribute("data-ecpageid");if(r)return r.replace(/_([0-9]+)$/g,"")==n})}};ec$={getEventTarget:function(n){var t=n.target||n.srcElement||window;return t.nodeType===3?t.parentNode:t},getEcEventEventTarget:function(n){return document.activeElement||ec$.getEventTarget(n)},getEcEvent:function(n,t){var r=ec$.isKeyEvent(n.type)?ec$.getEcEventEventTarget(n):ec$.getEventTarget(n),i=$.extend(ec$.parseElement(r),{which:n.which,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,mouseButton:n.button,mouseButtons:n.buttons,clientX:n.clientX,clientY:n.clientY,syntheticEvent:n.originalEvent&&n.originalEvent.syntheticEvent,oType:n.type});return t&&$.extend(i,t)||i},parseElement:function(n){var t={},o=this.getEcPath(n),r=this.parseEcPath(o),i=this.parseGridElement(n),a=n.getAttribute("data-cid"),u=n.getAttribute("data-index"),f,s,e,h,c,l;return r.ecPageID||(r.ecPageID=$(n).closest(".ui-dialog-titlebar").length?$(n).closest(".ui-dialog-titlebar").parent().find("[data-ecpageid]").attr("data-ecpageid"):$(n).closest(".panel-alert").length?"DIALOG_ALERT":this.getClosestAttr(n,"data-ecpageid")||ecount.popup.current&&ecount.popup.current.uuid||this.getStrictEcPageID(n)),_.merge(t,{ecPath:o,ecPageID:r.ecPageID,pcid:n.getAttribute("data-pcid")||r.pcid,cid:a||r.cid,layoutID:r.layoutID,cindex:$.isNull(u)?u:Number(u),id:n.id,gridID:r.gridID||i.gridID,gridTableID:i.gridTableID,gridDataKey:i.dataKey,gridColumnID:i.columnID,gridDetailTableID:i.detailTableID,gridSectionType:i.sectionType,gridSectionIndex:i.sectionIndex,gridColumnSectionType:i.columnSectionType,gridIsLocatedExternal:i.isLocatedExternal,dataName:n.getAttribute("data-name"),dataToggle:n.getAttribute("data-toggle")}),n.tagName=="INPUT"&&n.getAttribute("type")=="text"&&(t.id=t.cid),(f=this.getClosestAttr(n,"data-service"))&&f!="{{ecService}}"&&_.merge(t,{ecService:f,ecServiceAttr:this.getClosestAttr(n,"data-service-attr"),ecServiceTrigger:this.getClosestAttr(n,"data-service-trigger")}),(ecListid=this.getClosestAttr(n,"data-listid"))&&(t.ecListid=ecListid),(e=this.getNodeAttribute(n,"data-lazy-service"))&&e!="{{ecLazyService}}"&&(t.ecLazyService=e,_.merge(t,{ecServiceAttr:this.getClosestAttr(n,"data-service-attr"),ecServiceTrigger:this.getClosestAttr(n,"data-service-trigger")})),(s=this.getNodeAttribute(n,"data-function"))&&(t.ecFunction=s),(h=this.getNodeAttribute(n,"data-function-id"))&&(t.ecFunctionId=h),(c=this.getNodeAttribute(n,"data-role"))&&(t.ecRole=c),(l=this.getNodeAttribute(n,"data-role-index"))&&(t.ecRoleIndex=l),t},getNodeAttribute:function(n,t){return["B","I","STROKE"].contains(n.tagName)?this.getClosestAttr(n,t):n.getAttribute(t)},parseGridElement:function(n){if(this.isLocatedGrid(n)){var u=this.getClosestNodeByAttr(n,"data-layouttype"),o=this.getClosestAttr(n,"data-key"),s=this.getClosestAttr(n,"data-tableid"),r=u.getAttribute("data-gid"),f=u.className.test(/table-clone-top/),h=this.getClosestNodeByTagName(n,["table"]),t=this.getClosestNodeByTagName(n,["thead","tbody","tfoot"]),i="",e=-1;return t&&t.getAttribute&&(i=t.tagName.toLowerCase(),e=ecount.common.findChildIndex(h,t)),i||(i=this.getClosestAttr(n,"sectiontype")),{gridID:f&&r?r.replace(ecount.delimiter+ecount.constValue.fix.gridTopDiv,""):r,gridTableID:s,dataKey:this.replaceEscapeTag(o),columnID:this.getClosestAttr(n,"data-columnid"),detailTableID:this.getClosestAttr(n,"data-detailtableid"),sectionType:i,sectionIndex:e,columnSectionType:this.getClosestAttr(n,"data-columnsectiontype"),isLocatedExternal:f}}return{}},parseEcPath:function(n){if(n){var t=n.split(ecount.separator.ecPath);return t.length>7?{ecPageID:t[0]}:{ecPageID:t[0],containerName:t[1],tabID:t[2],layoutID:t[3],gridID:t[4],cid:t[5],pcid:t[6]}}return{}},getStrictEcPageID:function(n){var t;return this.isLocatedPopupPage(n)&&($(n).hasClass("ui-dialog")?t=$(n).find("[data-ecpageid]").attr("data-ecpageid"):$(n).closest(".ui-dialog").length>0&&(t=$(n).closest(".ui-dialog").find("[data-ecpageid]").attr("data-ecpageid"))),t||(t=this.getClosestAttr(n,"data-ecpageid")),t||(t=ecount.runtime.getMainEcPageID()),t},_getTargetEcIKey:function(n){return n.ecIKey?n.ecIKey:n.getAttribute&&n.getAttribute("data-ecikey")?n.getAttribute("data-ecikey"):void 0},getTargetEcIKey:function(n){while(n&&n!=document){if(this._getTargetEcIKey(n))return this._getTargetEcIKey(n);n=n.parentNode}},getAncestorsInstance:function(n){var i=[],t;do this._getTargetEcIKey(n)&&(t=ecount.global.getEcInstance(this._getTargetEcIKey(n)),t&&i.push(t)),n=n.parentNode;while(n);return i},getServiceAncestorsInstance:function(n,t){var i=[],f,s=n.ownerKey||n.injectedOwnerKey,h=n.serviceKey||n.injectedServiceKey,c=ecount.layer.getLayer(s),o,u;if(h)if(f=ecount.layer.getLayer(h),f&&i.push(f),c)i.push(c);else{var r=originCaller=ecount.global.getEcInstance(s),l=ec$.getTargetEcIKey(t.target),e=ecount.global.getEcInstance(l);e&&i.push(e);do r&&r!==e&&i.push(r),r=this.findParentControlInstance(r);while(r&&n.cancelBubbled!=!0);ec$.getGridAncestorsInstance(n)&&i.push(ec$.getGridAncestorsInstance(n));n.oType=="click"&&originCaller&&originCaller.__type=="tab"&&(o=ec$.getTargetEcIKey(originCaller.getLayoutWrapper().parent()[0]),o&&(u=ecount.global.getEcInstance(o),u&&u.__type=="tabContents"&&i.push(u)))}return i},getActivatedServiceAncestorsInstance:function(n,t){var i=ecount.layer.getActivatedLayer(),c=this.getTargetEcIKey(t),o=n.ownerKey||n.injectedOwnerKey||c,r=ecount.global.getEcInstance(o),e,u,f,s,h=!1,l=n.ecServiceAttr==ecount.layer.constValue.FOCUSABLE;if((r&&(e=r.getLayerServiceKey(n,t)),!i)||(h=!l&&e&&e!=i.serviceKey,i&&(!i.isShow()||h)&&i.from!="layer"))return ec$.getAncestorsInstance(t);if(u=[i],f=ecount.layer.getLayer(i.ownerKey),!$.isEmpty(n.ecLazyService))return s=ec$.getAncestorsInstance(t),u.concat(s);if(f&&i.ecIKey!=f.ecIKey)u.push(f);else do r&&u.push(r),r=this.findParentControlInstance(r);while(r&&n.cancelBubbled!=!0);return u.find(function(n){return n.ownerKey==o})?u:ec$.getAncestorsInstance(t)},getGridAncestorsInstance:function(n){var t=ecount.runtime.getPage(n);return n.gridID?t.contents.getGrid(n.gridID,!1):null},getClosestAttr:function(n,t,i){return n=this.getClosestNodeByAttr(n,t),n&&n.getAttribute?n.getAttribute(i||t):void 0},getClosestNodeByAttr:function(n,t){while(n&&n.getAttribute&&!n.getAttribute(t))n=n.parentNode;return n},getClosestNodeByTagName:function(n,t){while(n&&n.tagName&&!t.contains(n.tagName.toLowerCase()))n=n.parentNode;return n},getEcPath:function(n){var t=this.getClosestAttr(n,"data-ecpath");return!t&&(t=this.getClosestAttr(n,"data-ownerkey"))?t.split("∫").shift():t},getOwnEcPageID:function(){return $(".wrapper-frame-body > div > div.page").attr("data-ecpageid")},getZoomedBoundary:function(n,t){if(ecount.common.isIOS){function e(t){var r=$(n).offset(),i=t.getBoundingClientRect(),e=document.body||document.getElementsByTagName("body")[0],o=document.documentElement.clientTop||e.clientTop||0,u=document.documentElement.clientLeft||e.clientLeft||0,s=$(window).scrollTop(),f=$(window).scrollLeft();return console.log("scrollTop: "+s),console.log("scrollLeft: "+f),console.log("clientTop: "+o),console.log("clientLeft: "+u),console.log("boundingRect.top: "+i.top),console.log("boundingRect.left: "+i.left),console.log("boundingRect.right: "+i.right),console.log("offsetTop: "+r.top),console.log("offsetLeft: "+r.left),{top:r.top-o,left:i.left+f-u,right:i.right+f-u,bottom:r.top+i.height}}var u=e(n),r=2-ecount.common.getZoomRatio(),i=this.getBoundary(n);return _.merge({},i,{offset:t||{},top:u.top,left:u.left,right:u.right,bottom:u.bottom,zoomedWidth:i.width*r,zoomedHeight:i.height*r})}var r=2-ecount.common.getZoomRatio(),i=this.getBoundary(n),f=$(window).scrollTop()/r;return _.merge({},i,{offset:t||{},y:i.y+f,top:i.top+f,bottom:i.bottom+f,left:i.left,right:i.right*r,zoomedWidth:i.width*r,zoomedHeight:i.height*r})},findElementsByPageID:function(n){var t=$(".page");return t.filter(function(t,i){var r=i.getAttribute&&i.getAttribute("data-ecpageid");if(r)return r.replace(/_([0-9]+)$/g,"")==n})},findParentControlInstance:function(n){if(n&&n.pcid&&n.ecPath){var t=n.ecPath.split(ecount.separator.ecPath),i=t.pop(),r=t.pop();if(i==n.pcid&&n.id==r)return t.push(i),this.findControlByEcPath(t.join(ecount.separator.ecPath))}},findControlByEcPath:function(n,t){var i=this.parseEcPath(n),f=ecount.global.findPageInstance(i.ecPageID),r,t,u;if(f){if(r=f[i.containerName==widget.generator.ROW?"contents":i.containerName],t=t||i.cid,r&&t&&(u=r.getControl,u&&$.isFunction(u)))return u.call(r,t,i.tabID,null,i);if(i.containerName=="menu")return ecount.menu&&ecount.menu.loaded&&ecount.menu.loaded.findMenuByEcPath(i)}},findLayoutByEcPath:function(n,t){var i=this.parseEcPath(n),u=ecount.global.findPageInstance(i.ecPageID),r=u[i.containerName];if(u&&r&&(f=r[this.getFunctionNameByLayout(t)],f&&$.isFunction(f)))return f.call(r,i.layoutID,i.tabID)},findPageByEcPageID:function(n){return ecount.global.findPageInstance(n)},getFunctionNameByLayout:function(n){var t;switch(n){case"tab":t="getTabsById";break;default:t="getItemById"}return t},safeCall:function(){var n=Array.prototype.slice.call(arguments),i=n.shift()||{},r=n.shift(),t=i[r];if(t&&typeof t=="function")return t.apply(i,n)},isLocatedPopupPage:function(n){return $(n).hasClass("ui-dialog")||$(n).closest(".ui-dialog").length>0},isLocatedGrid:function(n){return n&&n.tagName!="TABLE"&&$(n).closest("[data-layouttype]").length>0},getBoundary:function(n){return n?n.getBoundingClientRect():{}},getScrollBarWidth:function(){var t=document.createElement("p"),n,r,i;return t.style.width="100%",t.style.height="200px",n=document.createElement("div"),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(t),document.body.appendChild(n),r=t.offsetWidth,n.style.overflow="scroll",i=t.offsetWidth,r==i&&(i=n.clientWidth),document.body.removeChild(n),r-i},$getScrollContainer:function(n,t){var i=ecount.runtime.getPage(n);return i&&i.$getScrollContainer(t)},getFitPositionFromBoundary:function(n,t,i,r){r=r||$(window);var f=10,y=2-ecount.common.getZoomRatio(),e=r.height(),o=r.width(),u={x:n.left+n.width/2,y:n.top+n.height/2},c=n.top>i+f,l=n.left>t+f,a=e-n.bottom>i+f,v=o-n.right>t+f,s=u.x>t/2&&o-u.x>t/2,h=u.y>i/2&&e-u.y>i/2;return c&&s?{direction:ecount.constValue.direction.top,top:n.top-i-f,left:u.x-t/2}:a&&s?{direction:ecount.constValue.direction.bottom,top:n.bottom+f,left:u.x-t/2}:v&&h?{direction:ecount.constValue.direction.right,top:u.y-i/2,left:n.right}:l&&h?{direction:ecount.constValue.direction.left,top:u.y-i/2,left:n.left-t}:{direction:ecount.constValue.direction.bottom,top:n.bottom+f,left:u.x-t/2}},moveScroll:function(n){var r=ecount.runtime.getPage(n),t,i;r&&n.scroll&&(t=r.$getScrollContainer(n.containerId),n.animate?t.animate(n.scroll,n.animate):n.scroll.scrollTop!=undefined?(i=n.scroll.scrollTop,n.focusCenter&&(i=t.scrollTop()+i-t.height()/2),t.scrollTop(i)):n.scroll.scrollLeft!=undefined&&t.scrollLeft(n.scroll.scrollLeft))},hasFocusdElement:function(n){return n.getAttribute("data-cid")&&(n.getAttribute("data-service")||n.getAttribute("data-command")||n.getAttribute("data-function"))},addStylesheetRules:function(n,t){var i=document.createElement("style"),o,t=t||{},r,s,c,e;for(t.id&&(t.singleMode&&(ec$.removeStylesheetRules(t.id),$("#"+t.id).remove()),i.setAttribute("id",t.id)),t.appendTarget?t.appendTarget.length>0?t.appendTarget.append(i):t.appendTarget.appendChild(i):document.body.appendChild(i),o=i.sheet,r=0,s=n.length;r<s;r++){var f=1,u=n[r],l=n[r][0],h="";for(Object.prototype.toString.call(u[1][0])==="[object Array]"&&(u=u[1],f=0),c=u.length;f<c;f++)e=u[f],h+=e[0]+":"+e[1]+(e[2]?" !important":"")+";\n";o.insertRule(l+"{"+h+"}",o.cssRules.length)}},removeStylesheetRules:function(n){var r=document.getElementById(n),i,t;if(r)if(i=r.sheet?r.sheet:r.styleSheet,i.cssRules)for(t=0;t<i.cssRules.length;t++)i.deleteRule(t);else for(t=0;t<i.rules.length;t++)i.removeRule(t)},destroyStyleSheetRules:function(n){var t=document.getElementById(n);if(t)try{t.parentNode.removeChild(t)}catch(i){console.log(i)}},replaceEscapeTag:function(n){return $.isString(n)?(n=n.replace(/\&lt;/g,"<"),n=n.replace(/\&gt;/g,">"),n=n.replace(/\&amp;/g,"&"),n=n.replace(/\&\#39;/g,"'"),n.replace(/\&quot;/g,'"')):n},loadHtmlToTargetContext:function(n,t){var i=document.createDocumentFragment("iframe");!n instanceof $&&(n=$(n));$(i).append(t);n.append(i.children).show()},isKeyEvent:function(n){return n.test(/^(keypress)|(keyup)|(keydown)/)},isTargetOnAppV4:function(n){return $(n).closest("#app-container").get(0)!==undefined},sinkAllV3Popup:function(){$(".ui-dialog").filter(function(n,t){return t.getAttribute("data-eczindex")!="fixed"&&t.getAttribute("data-isAlert")!="true"&&!ec$.isTargetOnAppV4(t)}).css("z-index",2e3)}}}();window.ecview||(window.ecview={}),function(){var n,t;ecview.util={select:function(t,i){var r=t?t.get(0):null,f,u;r&&(r.createTextRange?($.isNull(n)||ecount.global.clearTimeoutByTimerNo(i,n),n=ecount.global.setTimeout(i,function(){ecview.util.isSelected(t)||$.isEmpty(t.val())||(t.select(),n=null)},0)):r.setSelectionRange&&(ecount.isMobile&&ecount.common.isIOS?(f=r.value,r.setSelectionRange(0,f.length)):(u=document.getSelection&&document.getSelection(),u&&u.removeAllRanges(),t.select())))},deselect:function(n){var t=n?n.get(0):null,i,r;if(t)if(i=t.value!==undefined?t.value.length:0,t.createTextRange)try{r=t.createTextRange();r.collapse(!0);r.moveEnd("character",i);r.moveStart("charcter",i);r.select()}catch(u){}else if(t.setSelectionRange)try{t.setSelectionRange(i,i)}catch(u){}},isSelected:function(n){var t;return window.getSelection?(t=window.getSelection(),t.focusNode==n.get(0)&&!t.isCollapsed):document.selection&&document.selection.type!="Control"?(t=document.selection.createRange(),t.commonAncestorContainer==n.get(0)&&!t.collapsed):void 0},getCssValueFormat:function(n){return $.isEmpty(n)?null:(n==Number.MAX_VALUE&&(n="100%"),n=""+n,n.indexOf("%")>-1||n.indexOf("px")>-1?n:n+"px")},findOwnIndex:function(n){for(var i=n.parentNode,r=i.children,t=0,u=i.childElementCount;t<u;t++)if(r[t]==n)return t},insertInside:function(n,t,i){var u=i===undefined?1:i,r=n.children[u];if(r){n.insertBefore(t,r);return}n.appendChild(t)},getContrastColor:function(n){var t="#000000";return n.indexOf("#")!==0&&(n="#"+n),ecview.util.isValidColor(n)===!0&&(n=n.replace("#",""),t=parseInt(n,16)>16777215/2?"#000000":"#ffffff"),t},getRandomContrastColor:function(n){n?(n=$.Color(n).toRgbaString(),n=n.replace(/[^%,.\d]/g,""),n=n.split(",")):n=[Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)];var t=Math.round((parseInt(n[0])*299+parseInt(n[1])*587+parseInt(n[2])*114)/1e3),i=t>125?"#000000":"#ffffff",r=$.Color("rgb("+n[0]+","+n[1]+","+n[2]+")");return{textColor:i,backgroundColor:r.toHexString()}},isValidColor:function(n){return n.match(/^#[a-f0-9]{6}$/i)!==null},showTimeOverCheck:function(n){var i,r;if(n)return i=!0,t&&(r=(new Date).getTime(),i=r-t>n),t=(new Date).getTime(),i;t=(new Date).getTime()}}}();ecount.logger={lifecyle:function(n,t){return String.format("[page lifecyle]  >  {0}  >  {1}",n,t)},info:function(n){return String.format("[info] -- {0}",n)},commander:function(n){return String.format("%c#[execute command] > {0}\t",JSON.stringify(n))},event:function(n){return String.format("[record event] > {0}",n)},error:function(n){return String.format("[error] > {0}",n)}},function(n,t){typeof exports=="object"&&typeof module!="undefined"?t():typeof define=="function"&&define.amd?define(t):t()}(this,function(){"use strict";function f(n){var t=this.constructor;return this.then(function(i){return t.resolve(n()).then(function(){return i})},function(i){return t.resolve(n()).then(function(){return t.reject(i)})})}function e(n){var t=this;return new t(function(t,i){function e(n,i){if(i&&(typeof i=="object"||typeof i=="function")){var u=i.then;if(typeof u=="function"){u.call(i,function(t){e(n,t)},function(i){r[n]={status:"rejected",reason:i};--f==0&&t(r)});return}}r[n]={status:"fulfilled",value:i};--f==0&&t(r)}var r,f,u;if(!(n&&typeof n.length!="undefined"))return i(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));if(r=Array.prototype.slice.call(n),r.length===0)return t([]);for(f=r.length,u=0;u<r.length;u++)e(u,r[u])})}function o(n){return Boolean(n&&typeof n.length!="undefined")}function l(){}function a(n,t){return function(){n.apply(t,arguments)}}function n(t){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=undefined;this._deferreds=[];h(t,this)}function s(t,u){while(t._state===3)t=t._value;if(t._state===0){t._deferreds.push(u);return}t._handled=!0;n._immediateFn(function(){var n=t._state===1?u.onFulfilled:u.onRejected,f;if(n===null){(t._state===1?r:i)(u.promise,t._value);return}try{f=n(t._value)}catch(e){i(u.promise,e);return}r(u.promise,f)})}function r(t,r){try{if(r===t)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var f=r.then;if(r instanceof n){t._state=3;t._value=r;u(t);return}if(typeof f=="function"){h(a(f,r),t);return}}t._state=1;t._value=r;u(t)}catch(e){i(t,e)}}function i(n,t){n._state=2;n._value=t;u(n)}function u(t){t._state===2&&t._deferreds.length===0&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var i=0,r=t._deferreds.length;i<r;i++)s(t,t._deferreds[i]);t._deferreds=null}function v(n,t,i){this.onFulfilled=typeof n=="function"?n:null;this.onRejected=typeof t=="function"?t:null;this.promise=i}function h(n,t){var u=!1;try{n(function(n){u||(u=!0,r(t,n))},function(n){u||(u=!0,i(t,n))})}catch(f){if(u)return;u=!0;i(t,f)}}var c=setTimeout,t;n.prototype["catch"]=function(n){return this.then(null,n)};n.prototype.then=function(n,t){var i=new this.constructor(l);return s(this,new v(n,t,i)),i};n.prototype["finally"]=f;n.all=function(t){return new n(function(n,i){function e(t,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var o=u.then;if(typeof o=="function"){o.call(u,function(n){e(t,n)},i);return}}r[t]=u;--f==0&&n(r)}catch(s){i(s)}}var r,f,u;if(!o(t))return i(new TypeError("Promise.all accepts an array"));if(r=Array.prototype.slice.call(t),r.length===0)return n([]);for(f=r.length,u=0;u<r.length;u++)e(u,r[u])})};n.allSettled=e;n.resolve=function(t){return t&&typeof t=="object"&&t.constructor===n?t:new n(function(n){n(t)})};n.reject=function(t){return new n(function(n,i){i(t)})};n.race=function(t){return new n(function(i,r){if(!o(t))return r(new TypeError("Promise.race accepts an array"));for(var u=0,f=t.length;u<f;u++)n.resolve(t[u]).then(i,r)})};n._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){c(n,0)};n._unhandledRejectionFn=function(n){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};t=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object");}();typeof t.Promise!="function"?t.Promise=n:t.Promise.prototype["finally"]?t.Promise.allSettled||(t.Promise.allSettled=e):t.Promise.prototype["finally"]=f});ecount.router=function(){function u(n){for(var u=["menuType","menuSeq","groupSeq","depth","prgId","menuUrl","fromFavorite","fromMypage","applicationVersion"],i={},r=0,f=u.length,t;r<f;r++)t=u[r],$.isEmpty(n[t])||(i[t]=n[t]);return $.isEmpty(n.hidBodyUrl)||(i.menuUrl=n.hidBodyUrl),i}function f(n){var t=$.ecHash(n.newURL),r,i;if(t){if(r=$.ecHash(n.oldURL),_.isEmpty(t))return;if(i=u(t),r.menuSeq==i.menuSeq)return;ecount.menu&&ecount.menu.loaded&&ecount.menu.loaded.runMenuChangeProcess(i)}}var t,n={},i=$("body"),r,e=function(t){if(!n["0"])return!0;var i=n["0"].split("_").pop(),r=t.split("_").pop();return parseInt(i)<=parseInt(r)},o=function(n){var t=typeof n=="string"?n:n.bodyUrl||n.BODY_URL||n.url;return ecount.isMobileApp&&ecount.common.isIOS?decodeURIComponent(t):t},s=function(){ecount.runtime.observingOnce(ECountEvent.Type.APPLICATION_V4_VIEWSERVICE_LOAD,null,function(){$.ajax({url:"https://test.ecount.com:5001/api/app.tutorials/action/setupsample",success:function(n){ecount.router.loadViewServiceV4({viewServiceName:"AddinViewService",metadata:n.Result})}})})},h=function(r,u){var f=o(r),p,d,ft,a,b,et,g,l,w,h,k,y,v,c,nt,tt,it,rt,ut;if(!f)return!1;if(r.applicationVersion==4&&s(r),ecount.isMobileApp&&ecount.common.isIOS&&!ecount.parentFrame.$("base").length&&ecount.parentFrame.$('<base href="'+location.origin+'" />').appendTo("head"),u!="_blank"&&(ecount.runtime.notify("location.beforeChanged",null,r),r.$target&&r.$target.length&&r.$target.closest(".wrapper-frame-body").length?r.$target.hide():t.$target.hide(),t.$oldTarget.hide()),r.doNotNeedLeftSpace?i.addClass("welcome"):(t.$target.parent().removeAttr("style"),i.removeClass("welcome")),f.toUpperCase().indexOf(".ASPX")>-1&&i.find("iframe").addClass("iframe-old-erp"),ecount.popover.clear(null,null,!0),p=i.find("#ecBotToolTip"),p&&p.length&&p&&p.remove(),d=f.toUpperCase().indexOf(".ASPX")>-1||ecount.router.temporarilyExcludedUrl(f),d||u=="_top"||u=="_blank"){if(u!="_blank"&&(n["0"]=ecount.router.getEcPageIDFromURL(f),console.log(ecount.logger.info("__CURRENT_ROUTE_KEY : "+n["0"]+" ,  KEY_LEVEL : 0")),t.$oldTarget.show(),d||u=="_top"||(ft=r.$target)),r.param&&ecount.router.temporarilyExcludedUrl(f)){h=r.param||{};a=$("<form/>");a.empty();b=[];g={};for(l in h){if($.isPlainObject(h[l])||$.isArray(h[l])){et=!0;g[l]=h[l];continue}b.push('<input type="hidden" name="'+l+"\" value='"+(h[l]==null||h[l]==undefined?"":h[l].toString().replace(/\'/g,"&#39;").replace(/\"/g,"&quot;"))+"'/>")}et&&b.push('<input type="hidden" name="ecjsonp" value=\''+Object.toJSON(g).replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")+"'/>");a.append($(b.join("")));a.attr("method","post");a.attr("target",ft||"mainbody");a.attr("action",ecount.common.buildSessionUrl(f));a.appendTo("body").submit().remove();return}r.param&&(w=!!(f.indexOf("?")>-1),h=r.param,h.menuSeq&&(f+=[w?"&":"?","menuSeq=",h.menuSeq].join(""),w=!0),h.groupSeq&&(f+=[w?"&":"?","groupSeq=",h.groupSeq].join("")),h.prgId&&(f+=[w?"&":"?","prgId=",h.prgId].join("")));k=$('<a href="'+ecount.common.buildSessionUrl(f)+(r.hash?r.hash:"")+'" target="'+(u||"mainbody")+'" rel="noopener noreferrer"><\/a>')[0];$.browser.msie||$.browser.chrome?k.click():$.browser.firefox?(y=document.createEvent("MouseEvent"),y.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),k.dispatchEvent(y)):(y=document.createEvent("MouseEvents"),y.initMouseEvent("click",!0,!0,window),k.dispatchEvent(y));return}v=r.ecPageID?r.ecPageID:ecount.router.getEcPageIDFromURL(f);n["0"]=v;ecount.global.setRenderingPage&&ecount.global.setRenderingPage(v);console.log(ecount.logger.info("__CURRENT_ROUTE_KEY : "+n["0"]+" ,  KEY_LEVEL : 0"));c=$.extend({alreadyIncludedLayout:r.param&&r.param.isLoadPageAsStandAlone&&["E090230","E090174","E090195","E090178","E090231"].contains(r.param.PRG_ID)?!1:!0,requestKey:v},r.param||{});window&&window[ecount.page.prefix+"ecp.ecp050m"]&&window[ecount.page.prefix+"ecp.ecp050m"].viewBag&&window[ecount.page.prefix+"ecp.ecp050m"].viewBag.DefaultOption&&window[ecount.page.prefix+"ecp.ecp050m"].viewBag.DefaultOption.ecjsonp&&(c=$.extend(c,JSON.parse(window[ecount.page.prefix+"ecp.ecp050m"].viewBag.DefaultOption.ecjsonp)));nt=r.method=="GET"?"&alreadyIncludedLayout=true&requestKey="+v:"";f.indexOf("?")>-1&&(c=$.extend($.deparam(f.split("?").pop(),!0),c));ecount.env.mock&&ecount.env.mock.isRunnig()&&(tt=ecount.env.mock.getPageRequest(f,c),f=tt.url,c=tt.params);c.__ecFormSubmit?(it="application/x-www-form-urlencoded",rt=c,delete c.__ecFormSubmit):(it="application/json",rt=Object.toJSON(c));ecount.router.setOriginReferer(f);console.log(ecount.logger.lifecyle(v,"Request Page"));console.log("request to server : "+ecount.common.buildSessionUrl(f)+nt);ut=r.$target||t.$target;$.encryptAjax({method:r.method||"POST",url:ecount.common.buildSessionUrl(f)+nt,data:rt,contentType:it,beforeSend:function(n){n.setRequestHeader("x-movepage",!0)},success:function(n){if(console.log("response on server"),!e(v,"0")){console.log("page initialize is cancled -- already expired page");return}f.toUpperCase().test(/ECERP\/ET(A|B|C|D)/)&&(n=n.replace(/href=\"#\"/g,'href="javascript:;"'));r.applicationVersion==4?$(document.body).append(n):ut.show().html(n)},error:function(n){if(ecount.global.setRenderingPage&&ecount.global.setRenderingPage(""),n.status=="410"){location.reload();return}if(n.status=="412"&&ecount.error(ecount.resource.MSG06861),n.status=="480"){location.reload(!0);return}if(n.status=="500"){ec$.loadHtmlToTargetContext(ut,n.responseText);return}}})};return window.HashChangeEvent?window.addEventListener("hashchange",f):function(){var n=document.URL;window.addEventListener("hashchange",function(t){Object.defineProperty(t,"oldURL",{enumerable:!0,configurable:!0,value:n});Object.defineProperty(t,"newURL",{enumerable:!0,configurable:!0,value:document.URL});f(t);n=document.URL})}(),{init:function(n){t=$.extend({},n||{})},registerRouteKey:function(t,i,r){var u=r?ecount.router.getEcPageIDFromURL(t):t;return i===!1?u:n[i]=u},isValidRouteKey:function(t,i){var r;return n[i]?((r=n[i]!=t)&&console.log(ecount.logger.info(" >>>>>  invalid route key: "+n[i]+" != "+t+" ,  key level : "+i)),!r):!0},temporarilyExcludedUrl:function(n){return n.toUpperCase().test(/ECERP\/ET(A|B|C|D|G)/)},getEcPageIDFromURL:function(n){if(ecount.router.temporarilyExcludedUrl(n))return"";var t=n.split("?")[0].split("/").pop();return ecount.common.seqIndex(t)},goByHash:function(n,t){ecount.menu&&ecount.menu.loaded&&ecount.menu.loaded.runMenuChangeProcess(n,t)},route:function(n){var t,i,r,f;n=$.extend({},n);t=$.param(n);t&&(i=location.hash,r=["menuType","menuSeq","groupSeq","prgId"].every(function(t){return i.match(new RegExp(t+"="+n[t]+"(&|$)"))}),r?(f=u(n),ecount.menu&&ecount.menu.loaded&&ecount.menu.loaded.runMenuChangeProcess(f)):location.hash=t)},loadViewServiceV4:function(n){return!window.v4||!window.v4.application?Promise.reject():window.v4.application.navigate({viewServiceName:n.viewServiceName,metadata:n.metadata,requestParameter:n.requestParameter,parameter:n.parameter,responseMessageID:n.responseMessageID,path:n.path,viewerType:n.viewerType,popupOption:n.popupOption})},go:h,reload:function(){location.reload()},submit:function(n){ecount.runtime.notify("location.beforeChanged");t.$target.hide();t.$oldTarget.show();n.attr("target","mainbody");n.submit()},setOriginReferer:function(n){r=n},getOriginRederer:function(){return r}}}(),function(){ecount.command={};var n={},t=function(n,t){n.ctype||n.cid&&t.type=="click"&&(n.ctype=ecount.command.const.CONTROL_CLICK);switch(t.type){case"mouseover":n.ctype=ecount.command.const.MOUSEOVER_BODY;break;case"mouseout":n.ctype=ecount.command.const.MOUSEOUT_BODY}},i=function(n,t){$.extend(n,{which:t.which,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey})};ecount.command.register=function(t,i,r){n[t]={executor:r,creator:i}};ecount.command.create=function(r){var u=ecount.node.parse(r.target),f;if(u&&(t(u,r),i(u,r),f=n[u.ctype],f))return f.creator?f.creator(r,u):u};ecount.command.execute=function(t,i){var r=n[t.ctype];if(r){if(r.executor)return r.executor(t,i&&t.cid&&i.getControl(t));throw"not define command executor.";}};ecount.command.toString=function(){};ecount.command.const={MENU_CLICK:"menu.click",MENU_NEW_CLICK:"menu.new.click",MENU_ARROW_CLICK:"menu.arrow.click",CONTROL_CLICK:"control.click",EC_LAYER_SHOW:"select",EC_SELECT_LAYER:"ecSelectedLayer.click",EC_SELECT_LAYER:"ecSelectedLayer.key",EP_PAGE_MOVE:"ep.page.move",MOUSEOVER_BODY:"mouseover.body",MOUSEOUT_BODY:"mouseout.body"}}();ecount.command.register(ecount.command.const.MENU_CLICK,function(n,t){return t.shiftKey||t.ctrlKey||t.which==2||(t.from=ecount.command.const.MENU_CLICK),t.suspend=!0,t},function(n){ecount.menu.onActivate(n);if(!(n.shiftKey||n.ctrlKey||n.which==2)&&ecount.__isEventCaptureMode()){var t={type:"ecount.page.prototype._commandHandler",id:n.id};ecount.eventLog(t.type,t);ecount.eventLog("menu.click",{type:"menu.click",id:n.id})}});ecount.command.register(ecount.command.const.MENU_NEW_CLICK,function(n,t){return $.extend(t,{suspend:!0,newClick:!0})},function(n){ecount.menu.onActivate(n)});ecount.command.register(ecount.command.const.MENU_ARROW_CLICK,function(n,t){return $.extend(t,{suspend:!0,arrowClick:!0})},function(n){ecount.menu.onActivate(n)});ecount.command.register(ecount.command.const.EC_SELECT_LAYER,function(n,t){return t},function(){});ecount.command.register(ecount.command.const.CONTROL_CLICK,function(n,t){return t},function(){});ecount.command.register(ecount.command.const.EC_LAYER_SHOW,function(n,t){return t},function(n,t){t.ON_SELECTED_LAYER(n)});ecount.command.register(ecount.command.const.MOUSEOVER_BODY,function(n,t){return t},function(){}),function(){function f(n){if(n.oType.test(/^focus/)||n.oType.test(/^keyup/)){if(n.ecLazyService)return(i(n.oType)?n.oType+"."+n.which:n.oType)+"."+n.ecLazyService;if(n.oType.test(/^focus/))return n.oType+(n.targetArea?"."+n.targetArea:"");if(n.oType.test(/^keyup/))return n.oType+"."+n.which}else return n.oType.test(/^change/)?n.oType+(n.targetArea?"."+n.targetArea:""):n.ecService?(i(n.oType)?n.oType+"."+n.which:n.oType)+"."+n.ecService:n.ecFunction?n.oType+"."+n.ecFunction:i(n.oType)?n.oType+"."+n.which:n.oType+(n.targetArea?"."+n.targetArea:"")}function e(n){if(n.ecServiceTrigger){var t=!1,i=n.ecServiceTrigger.split("|");return i.forEach(function(i){if(i=="mouseover"){if([ECountEvent.Type.MOUSEOVER,ECountEvent.Type.MOUSEOUT].contains(n.oType))return t=!0,!1}else if(i=="focus"){if([ECountEvent.Type.FOCUSIN,ECountEvent.Type.FOCUSOUT].contains(n.oType))return t=!0,!1}else if(i==n.oType)return t=!0,!1}),t}return!0}function o(n,t,i){return(n.ecService||n.ecLazyService)&&(n.serviceKey||n.injectedServiceKey)?n.oType=="keydown"||n.oType=="keypress"?ec$.getActivatedServiceAncestorsInstance(n,i):ec$.getServiceAncestorsInstance(n,t):(n.ecService||n.ecLazyService)&&n.oType=="keydown"?ec$.getActivatedServiceAncestorsInstance(n,i):ec$.getAncestorsInstance(i)}function i(n){return n.test(/^(keypress)|(keyup)|(keydown)/)}function s(n){var r=i(n.type)?document.activeElement||ec$.getEventTarget(n):ec$.getEventTarget(n),t=$.extend(ec$.parseElement(r),{which:n.which,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,mouseButton:n.button,mouseButtons:n.buttons,clientX:n.clientX,clientY:n.clientY,syntheticEvent:n.originalEvent&&n.originalEvent.syntheticEvent,oType:n.type}),u,s,h,l,c;return t.cid?(t.targetArea=t.cindex!=null||t.ecFunction||t.ecService||t.ecRole?ECountEvent.Area.CONTROL:ECountEvent.Area.CONTROL_EXTERNAL,r.contentEditable=="true"&&r.tagName!="BODY"&&(t.text=r.innerText),t.value=r.value,t.checked=r.checked,t.selected=r.selected,n.relatedTarget&&ec$.getTargetEcIKey(n.relatedTarget)==ec$.getTargetEcIKey(n.target)&&(t.eventTriggerFromInternalTarget=!0,t.previousInternalTargetIndex=n.relatedTarget.getAttribute("data-index"),n.relatedTarget=="tgHeaderSearch"&&(t.isFromFormToggle=!0))):t.targetArea=t.layoutID?ECountEvent.Area.LAYOUT:t.gridID?ECountEvent.Area.GRID:ECountEvent.Area.BODY,t.ecService&&(t.ecServiceTrigger&&!e(t)?(t.ecService=null,t.ecServiceAttr=null,t.ecServiceTrigger=null):(t.serviceKey=ec$.getClosestAttr(n.target,"data-servicekey"),t.ownerKey=ec$.getClosestAttr(n.target,"data-ownerkey"),t.serviceKey||(u=ec$.getTargetEcIKey(n.target),s=ecount.global.getEcInstance(u),s&&(h=s.getLayerServiceKey(t,n),l=ecount.layer.getLayer(h),l&&(t.injectedOwnerKey=u,t.injectedServiceKey=h))),n.relatedTarget&&ec$.getTargetEcIKey(n.relatedTarget)==ec$.getTargetEcIKey(n.target)&&(t.eventTriggerFromInternalTarget=!0),t.ownerKey&&(c=ecount.global.getEcInstance(t.ownerKey),t.gridID=c&&c.gridID),t.ecService=="service.layer"&&["calendar.prev","calendar.next","calendar.date","calendar.today","calendar.delete"].indexOf(t.ecFunctionId)>-1&&(t.ecDatepickerIndex=ec$.getClosestAttr(n.target,"data-datepickerIndex")))),t.ccindex&&(t.ccData=r.getAttribute("data-value")),t.disabled=r.getAttribute("data-disabled"),t.targetInstance=o(t,n,r),t.handler=f(t),t}function r(n,t,i){var r=ecount.runtime.notify(n,null,t);if(i)return r}function t(n,t){var f=window.ECount&&window.ECount.GET_APPLICATION_CONTEXT(),i;if(!(f&&f.getActivateState().activeViewer)&&(i=s(n),i)){if(i.ecPageID&&!ecount.eventDispatchFilter.isAllowed(i.ecPageID))return console.log(i.ecPageID+" no page instance!! << "+n.type),console.log("current>> "+window.ecPageID),n.preventDefault(),!1;if(i.disabled||(t&&_.merge(i,t),ecount.env.EVENT_CAPTURE_MODE&&Object.assign(i,ecount.env.EVENT_CAPTURE_DATA_MAKER(n)),r(ECountEvent.Type.BEFORE_DISPATCH,i,!0)!==!1&&(delete i.type,u(i.handler,i,n)),i.stopPropagation&&n.stopPropagation(),i.suspend))return n.preventDefault(),!1}}function u(t,i,u){var o=n[t],f=n[i.oType],s,e,h;if(f&&f[0].dispatcher&&(!f[0].decorator||f[0].decorator(i,u)!==!1)){if(o)for(e=0,h=o.length;e<h;e++)if((s=o[e].decorator)&&s(i,u)===!1)return;f[0].dispatcher(i,u);r(ECountEvent.Type.DISPATCH,i)}}var n={};ECountEventHandler={};ECountEventHandler.handle=u;ECountEventHandler.register=function(t,i,r,u){if(t){var f={dispatcher:r,decorator:i,bubbled:u};n[t]?n[t].push(f):n[t]=[f]}};ECountEventHandler.unregister=function(t){n[t]&&(n[t]=null,delete n[t])};ECountEventHandler.listenTo=function(n,i,r){$(n).on(i,r,t)};ECountEventHandler.mockingListenTo=function(n,i,r,u){var f;$(n).on(i.startType,r,function(n){f&&window.clearTimeout(f);f=window.setTimeout(function(){n.target&&(n.type=i.mockingStartType,t.call(null,n))},u||0)});$(n).on(i.endType,r,function(n){f&&(n.type=i.mockingEndType,window.clearTimeout(f))})};ECountEventHandler.originEventListenTo=function(n,i,r){if(arguments.length==2)$(n).on(i,t);else $(n).on(i,r,t)};ECountEventHandler._listenTo=function(n,i,r){if(typeof r=="string")$(n).on(i,r,t);else $(n).on(i,t)};ECountEventHandler.getKeyEventHandlerName=function(n,t){var i;switch(t.which){case 8:i="BACKSPACE";break;case 9:i="TAB";break;case 13:i="ENTER";break;case 27:i="ESC";break;case 32:i="SPACE";break;case 33:case 34:case 35:case 36:i="UTILITY";break;case 37:i="ARROW_LEFT";break;case 38:i="ARROW_UP";break;case 39:i="ARROW_RIGHT";break;case 40:i="ARROW_DOWN";break;case 46:i="DELETE";break;case 113:i="F2";break;case 114:i="F3";break;case 115:i="F4";break;case 116:i="F5";break;case 117:i="F6";break;case 118:i="F7";break;case 119:i="F8";break;case 120:i="F9";break;case 121:i="F10";break;default:i="OTHERS"}return n.toUpperCase()+"_"+i};ECountEvent={Bubbled:!0};ECountEvent.Area={CONTROL:"control",CONTROL_EXTERNAL:"controlExternal",POPUP:"popup",BODY:"body",GRID:"grid",LAYOUT:"layout"};ECountEvent.Type={BEFORE_DISPATCH:"beforeDispatch.ecEvent",DISPATCH:"dispatch.ecEvent",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",FOCUSIN:"focusin",FOCUSOUT:"focusout",COMPOSITIONUPDATE:"compositionupdate",INPUT:"input",CHANGE:"change",CLICK:"click",DBLCLICK:"dblclick",ACTIVATE:"activate",DEACTIVATE:"deactivate",CONTEXTMENU:"contextmenu",COPY:"copy",CUT:"cut",PASTE:"paste",ERROR:"error",MOUSEOVER_BODY:"mouseover.body",MOUSEOUT_BODY:"mouseout.body",MOUSEDOWN_BODY:"mousedown.body",MOUSEMOVE_BODY:"mousemove.body",CLICK_BODY:"click.body",CLICK_MENU:"menu.click",CLICK_MENU_NEW:"menu.new.click",CLICK_MENU_ARROW:"menu.arrow.click",PAGE_LOAD_COMPLETE:"page.loadcomplete",PAGE_DESTROY:"page.destroy",LAYER_SHOW:"layer.show",LAYER_HIDE:"layer.hide",LAYER_DESTROY:"layer.destroy",MOUSEOVER_FN:"mouseover.layer.fn",MOUSEOUT_FN:"mouseout.layer.fn",CLICK_FN:"click.layer.fn",MOUSEOVER_DROPDOWN:"mouseover.layer.dropdown",MOUSEOUT_DROPDOWN:"mouseout.layer.dropdown",MOUSEOVER_TABLE:"mouseover.layer.table",MOUSEOUT_TABLE:"mouseout.layer.table",CLICK_DROPDOWN:"click.layer.dropdown",CLICK_TABLE:"click.layer.table",CLICK_SPECTRUM:"click.layer.spectrum",CLICK_SELECT:"click.layer.selectbox",CLICK_SELECTITEM:"click.layer.selectitem",CLICK_AUTOCOMPLETE:"click.layer.autocomplete",CLICK_DATEPICKER:"click.layer.datepicker",INPUT_SELECT_LAYER:"input.layer.selectbox",INPUT_AUTOCOMPLETE_LAYER:"input.layer.autocomplete",KEYDOWN_TAB_FN_LAYER:"keydown.9.layer.fn",KEYDOWN_ARROW_UP_SERVICE_LAYER:"keydown.38.service.layer",KEYDOWN_ARROW_DOWN_SERVICE_LAYER:"keydown.40.service.layer",KEYDOWN_ENTER_SELECT_LAYER:"keydown.13.layer.selectbox",KEYDOWN_ARROW_UP_SELECT_LAYER:"keydown.38.layer.selectbox",KEYDOWN_ARROW_DOWN_SELECT_LAYER:"keydown.40.layer.selectbox",KEYDOWN_ESC_SELECT_LAYER:"keydown.27.layer.selectbox",KEYDOWN_F7_SELECT_LAYER:"keydown.118.layer.selectbox",KEYDOWN_F8_SELECT_LAYER:"keydown.119.layer.selectbox",KEYDOWN_OTHERS_LAYER:"keydown.others",KEYDOWN_F7_AUTOCOMPLETE_LAYER:"keydown.118.layer.autocomplete",KEYDOWN_F8_AUTOCOMPLETE_LAYER:"keydown.119.layer.autocomplete",KEYDOWN_PAGE_UP_AUTOCOMPLETE_LAYER:"keydown.33.layer.autocomplete",KEYDOWN_PAGE_DOWN_AUTOCOMPLETE_LAYER:"keydown.34.layer.autocomplete",KEYDOWN_ARROW_UP_AUTOCOMPLETE_LAYER:"keydown.38.layer.autocomplete",KEYDOWN_ARROW_DOWN_AUTOCOMPLETE_LAYER:"keydown.40.layer.autocomplete",MOUSEOVER_TOGGLE_TAB_LIST:"mouseover.toggleTabList",CLICK_TAB:"click.tab",MOUSEOVER_TAB:"mouseover.tab",CLICK_FORM:"click.form",CHANGE_CONTROL_STYLE:"change.controlStyle",CLICK_CONTROL:"click.control",CLICK_CONTROL_EXTERNAL:"click.controlExternal",DBLCLICK_CONTROL:"dblclick.control",INPUT_CONTROL:"input.control",CHANGE_CONTROL:"change.control",CONTROL_CHANGE:"control.change",MOUSEDOWN_CONTROL:"mousedown.control",KEYDOWN_CONTROL:"keydown.control",KEYUP_CONTROL:"keyup.control",FOCUSIN_BODY:"focusin.body",FOCUSIN_CONTROL:"focusin.control",FOCUSOUT_CONTROL:"focusout.control",RECOMMEND_FOCUSOUT_CONTROL:"focusout.layer.recommenddropdown",KEYDOWN_ENTER_CONTROL:"keydown.13.control",KEYDOWN_TAB_CONTROL:"keydown.9.control",KEYDOWN_ESC_CONTROL:"keydown.27.control",KEYDOWN_F7_CONTROL:"keydown.118.control",KEYDOWN_F8_CONTROL:"keydown.119.control",CLICK_LAYER:"click.service.layer",CLICK_SELECT_LAYER:"click.service.select",CLICK_AUTOCOMPLETE_LAYER:"click.service.autocomplete",CLICK_DATEPICKER_LAYER:"click.service.datepicker",MOUSEDOWN_LAYER:"mousedown.service.layer",CLICK_BUTTON:"click.button",CLICK_LINK:"click.link",KEYDOWN_BACKSPACE:"keydown.8",KEYDOWN_TAB:"keydown.9",KEYDOWN_ENTER:"keydown.13",KEYDOWN_ESC:"keydown.27",KEYDOWN_SPACE:"keydown.32",KEYDOWN_PAGE_UP:"keydown.33",KEYDOWN_PAGE_DOWN:"keydown.34",KEYDOWN_END:"keydown.35",KEYDOWN_HOME:"keydown.36",KEYDOWN_ARROW_LEFT:"keydown.37",KEYDOWN_ARROW_UP:"keydown.38",KEYDOWN_ARROW_RIGHT:"keydown.39",KEYDOWN_ARROW_DOWN:"keydown.40",KEYDOWN_F2:"keydown.113",KEYDOWN_F3:"keydown.114",KEYDOWN_F4:"keydown.115",KEYDOWN_F5:"keydown.116",KEYDOWN_F6:"keydown.117",KEYDOWN_F7:"keydown.118",KEYDOWN_F8:"keydown.119",KEYDOWN_F9:"keydown.120",KEYDOWN_F10:"keydown.121",KEYDOWN_OTHERS:"keydown.others",KEYUP_ARROW_UP:"keyup.38",KEYUP_ARROW_DOWN:"keyup.40",CLICK_GRID:"click.grid",FOCUSIN_GRID:"focusin.grid",FOCUSOUT_GRID:"focusout.grid",INITIALIZED_WIDGET:"initialized.widget",OPEN_POPUP:"open.popup",WRITE_LOG:"write.log",HASH_CHANGED:"hash.changed",LOWER_HASH_CHANGED:"hash.lower.changed",DRAG_MOVE:"drag.move",DRAG_STOP:"drag.stop",DRAG_DROPABLE:"drag.dropable",DRAG_ISPARENTNODE:"drag.isparentnode",APPLICATION_V4_LOAD_COMPLETE:"application.v4.loadcomplete",APPLICATION_V4_VIEWSERVICE_LOAD:"application.v4.viwservice.load"};ECountEvent.registrationNameDependencies={onAbort:["topAbort"],onAbortCapture:["topAbort"],onBeforeInput:["topCompositionEnd","topKeyPress","topTextInput","topPaste"],onBeforeInputCapture:["topCompositionEnd","topKeyPress","topTextInput","topPaste"],onBlur:["topBlur"],onBlurCapture:["topBlur"],onChange:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"],onChangeCapture:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"],onClick:["topClick"],onClickCapture:["topClick"],onCompositionEnd:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"],onCompositionEndCapture:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"],onCompositionStart:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"],onCompositionStartCapture:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"],onCompositionUpdate:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"],onCompositionUpdateCapture:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"],onContextMenu:["topContextMenu"],onContextMenuCapture:["topContextMenu"],onCopy:["topCopy"],onCopyCapture:["topCopy"],onCut:["topCut"],onCutCapture:["topCut"],onDoubleClick:["topDoubleClick"],onDoubleClickCapture:["topDoubleClick"],onDrag:["topDrag"],onDragCapture:["topDrag"],onDragEnd:["topDragEnd"],onDragEndCapture:["topDragEnd"],onDragEnter:["topDragEnter"],onDragEnterCapture:["topDragEnter"],onDragExit:["topDragExit"],onDragExitCapture:["topDragExit"],onDragLeave:["topDragLeave"],onDragLeaveCapture:["topDragLeave"],onDragOver:["topDragOver"],onDragOverCapture:["topDragOver"],onDragStart:["topDragStart"],onDragStartCapture:["topDragStart"],onDrop:["topDrop"],onDropCapture:["topDrop"],onError:["topError"],onErrorCapture:["topError"],onFocus:["topFocus"],onFocusCapture:["topFocus"],onInput:["topInput"],onInputCapture:["topInput"],onInvalid:["topInvalid"],onInvalidCapture:["topInvalid"],onKeyDown:["topKeyDown"],onKeyDownCapture:["topKeyDown"],onKeyPress:["topKeyPress"],onKeyPressCapture:["topKeyPress"],onKeyUp:["topKeyUp"],onKeyUpCapture:["topKeyUp"],onLoad:["topLoad"],onLoadCapture:["topLoad"],onMouseDown:["topMouseDown"],onMouseDownCapture:["topMouseDown"],onMouseEnter:["topMouseOut","topMouseOver"],onMouseLeave:["topMouseOut","topMouseOver"],onMouseMove:["topMouseMove"],onMouseMoveCapture:["topMouseMove"],onMouseOut:["topMouseOut"],onMouseOutCapture:["topMouseOut"],onMouseOver:["topMouseOver"],onMouseOverCapture:["topMouseOver"],onMouseUp:["topMouseUp"],onMouseUpCapture:["topMouseUp"],onPaste:["topPaste"],onPasteCapture:["topPaste"],onProgress:["topProgress"],onProgressCapture:["topProgress"],onScroll:["topScroll"],onScrollCapture:["topScroll"],onSelect:["topBlur","topContextMenu","topFocus","topKeyDown","topMouseDown","topMouseUp","topSelectionChange"],onSelectCapture:["topBlur","topContextMenu","topFocus","topKeyDown","topMouseDown","topMouseUp","topSelectionChange"],onSubmit:["topSubmit"],onSubmitCapture:["topSubmit"],onWheel:["topWheel"],onWheelCapture:["topWheel"]}}(),function(){function e(n,i,r){i&&r&&n&&Object.values(ECountEvent.Type).contains(i)&&(t[i]=_.merge({},t[i]),t[i][n]=_.merge({},t[i][n],r))}function r(n){return n?t[n]:t}function o(n){n&&delete t[n]}function u(n,t){return ec$.getTargetEcIKey(n)===ec$.getClosestAttr(t,"data-ownerkey")}function s(n,t){var i=n.oType.test(/^(keypress)|(keyup)|(keydown)/);return i?!(t.keyCode>=112&&t.keyCode<=123):!1}function f(n){var t=ecount.runtime.getControl(n);return t&&t.dateIndex&&(n.dateFormat=t.getDateFormatByIndex(n.ccindex==undefined?n.cindex:n.ccindex)),t}function n(n,t,i){var h={},r,u,e=ecount.runtime.getPage(n),l,c,o,a;if((n.serviceKey||s(n,t)&&n.injectedServiceKey)&&(n.injectedServiceKey?(l=ecount.layer.getLayer(n.injectedServiceKey),l.isShow()&&(i=i+"_SERVICE")):i=i+"_SERVICE"),n.cid&&(r=f(n),!r&&t.target&&(u=ec$.getTargetEcIKey(t.target),r=ecount.global.getEcInstance(u)),r&&r.getEventTargetInstanceEcIKey&&(u=r.getEventTargetInstanceEcIKey(),ecount.global.getEcInstance(u)&&n.targetInstance.push(ecount.global.getEcInstance(u)))),!e||ecount.global.getDestroyedState(e.ecPageID)||ec$.safeCall(e,"_ON_PAGE_BEFORE_"+i,n,t,r,h)===!1||$.isNull(n.targetInstance))return!1;for(c=!1,o=0,a=n.targetInstance.length;o<a;o++)if(n.cancelBubbled||ec$.safeCall(n.targetInstance[o],"_ON_"+i,n,t,r,h)===!1){c=!0;break}c||ec$.safeCall(e,"_ON_PAGE_"+i,n,t,r,h)}var i=null,t={};ECountEventHandler.register(ECountEvent.Type.COMPOSITIONUPDATE,function(){},function(t,i){n(t,i,"COMPOSITIONUPDATE")});ECountEventHandler.register(ECountEvent.Type.INPUT,function(n,t){return $.isNull(n.cindex)&&n.handler!="input.layer.autocomplete"?!1:ecount.isIE&&t.target.placeholder&&ec$.safeCall(f(n),"getComponentValue",n.cindex)==t.target.value?!1:void 0},function(t,i){n(t,i,"INPUT")});ECountEventHandler.register(ECountEvent.Type.CHANGE,null,function(n,t){var i,o,u,e="_ON_CHANGE",s,r;for(n.cid&&(r=f(n),!r&&t.target&&(s=ec$.getTargetEcIKey(t.target),r=ecount.global.getEcInstance(s))),(n.serviceKey||n.oType==="keydown"&&n.injectedServiceKey)&&(e=e+"_SERVICE"),i=0,o=n.targetInstance.length;i<o;i++)u=n.targetInstance[i],u.__type===widget.generator.CONTROL&&u[e](n,t,r)});ECountEventHandler.register(ECountEvent.Type.FOCUSIN,function(n,t){if(t.target.getAttribute("data-ignoretype")==="focusin")return!1},function(t,i){t.handler==ECountEvent.Type.FOCUSIN_BODY&&t.targetInstance.length==0||(t.ecService!="service.layer"&&t.ecFunction!="popupCloseButton"&&ecount.runtime.notify(ECountEvent.Type.DEACTIVATE,null,t),n(t,i,"FOCUSIN"),t.ecService=="service.layer"||t.ecFunction=="popupCloseButton"||ec$.isTargetOnAppV4(i.target)||ecount.runtime.notify(ECountEvent.Type.ACTIVATE,null,t))});ECountEventHandler.register(ECountEvent.Type.FOCUSOUT,function(n,t){var f,u;if(((ecount.common.isIOS||ecount.common.isSafari)&&r(n.oType)&&r(n.oType)[ECountEvent.Type.MOUSEDOWN]&&r(n.oType)[ECountEvent.Type.MOUSEDOWN].ecService=="layer.fn"&&r(n.oType)[ECountEvent.Type.MOUSEDOWN].ecPath==n.ecPath&&(n.eventTriggerFromIOSFnTarget=!0,o(n.oType)),i&&n.targetInstance.length&&(f=i,targetControl=n.targetInstance.head(function(n){return n.__type=="control"}),i=null,targetControl&&targetControl.ecIKey==f&&t.relatedTarget&&t.relatedTarget.tagName=="BODY"))||!n.ecPath&&n.gridID&&t.target.tagName=="SPAN"||(u=ecount.layer.getLayer(ec$.getClosestAttr(t.relatedTarget,"data-servicekey")),u&&u.ownerKey===ec$.getTargetEcIKey(t.target)&&(n.eventTriggerFromInternalLayerTarget=!0),n.gridColumnID&&(n.eventTriggerFromInternalTarget&&ec$.getClosestAttr(t.relatedTarget,"data-function")=="fn"||n.eventTriggerFromIOSFnTarget||(u=ecount.layer.getLayer(ec$.getClosestAttr(t.relatedTarget,"data-servicekey")),u&&u.owner&&u.owner.cid==n.cid))))return!1;$.isNull(n.pcid)||n.pcid!=ec$.getClosestAttr(t.relatedTarget,"data-pcid")||(n.eventTriggerFromInternalCombinedControl=!0);t.relatedTarget&&$(t.relatedTarget).closest(".panel-alert").length&&(n.eventTriggerFromDialogAlert=!0)},function(t,i){n(t,i,"FOCUSOUT")});ECountEventHandler.register(ECountEvent.Type.MOUSEUP,function(n){i=null;ecount.runtime.notify(ECountEvent.Type.MOUSEUP,null,n)},function(t,i){n(t,i,"MOUSEUP")});ECountEventHandler.register(ECountEvent.Type.MOUSEDOWN,function(n,t){function u(){var i,r;n.ecPageID&&(i=ecount.runtime.getPage(n.ecPageID),i&&i.popupLevel>=1&&(r=i.getEcPopup(),r&&ecount.global.isDisableAlert()&&r[0].ecDialog("moveToTop",t)))}var r=[];if((ecount.common.isIOS||ecount.common.isSafari)&&n.ecService=="layer.fn"&&e(n.oType,"focusout",{ecService:n.ecService,cid:n.cid,ecPath:n.ecPath}),(!t.target||!t.target.className||!t.target.className.indexOf||!(t.target.className.indexOf("preventLayer")>-1))&&!$(t.target).closest(".preventLayer").length){if(t.isTrigger&&n.notPreventTriggerEvent!=!0)return n.isTriggerFromSyntheticEvent&&ecount.runtime.notify(ECountEvent.Type.DEACTIVATE,null,n),u(),!1;ec$.isTargetOnAppV4(t.target)?ec$.sinkAllV3Popup():u();n.ecService=="service.layer"&&(r.push(n.serviceKey),r.push(n.ownerKey),t.target.getAttribute("data-suspend")=="mousedown"&&(n.suspend=!0));n.injectedOwnerKey&&r.push(n.injectedOwnerKey);n.injectedServiceKey&&r.push(n.injectedServiceKey);ec$.getClosestAttr(t.target,"data-notclear")=="mousedown"&&(r.push(ec$.getClosestAttr(t.target,"data-servicekey")),r.push(ec$.getClosestAttr(t.target,"data-ownerkey")));ecount.layer.clear(r);ecount.menu&&ecount.menu.loaded&&ecount.menu.close&&ecount.menu.close(n,t);ecount.popover.clear(n,t);ECountEvent.Type.MOUSEDOWN_LAYER&&t.target.getAttribute("data-ownerkey")&&(i=t.target.getAttribute("data-ownerkey"));n.ecService!="service.layer"&&n.ecFunction!="popupCloseButton"&&(n.targetArea=="control"&&n.targetInstance&&n.targetInstance.length&&(n.mousedownOnControl=!0,n.targetContainer=n.targetInstance[0].containerName),ecount.runtime.notify(ECountEvent.Type.DEACTIVATE,null,n),ec$.isTargetOnAppV4(t.target)||ecount.runtime.notify(ECountEvent.Type.ACTIVATE,null,n));ecount.eventTracker.addFootage(n,t)}},function(t,i){t.handler==ECountEvent.Type.MOUSEDOWN_BODY&&ecount.runtime.notify(ECountEvent.Type.MOUSEDOWN_BODY,null,_.extend({},t,{target:i.target}));n(t,i,"MOUSEDOWN")});ECountEventHandler.register(ECountEvent.Type.KEYPRESS,function(n){var t=ECountEventHandler.getKeyEventHandlerName("KEYPRESS",n);if(t)n.handlerName="KEYPRESS",n.keyEventHandlerName=t;else return!1},function(t,i){n(t,i,t.handlerName)});ECountEventHandler.register(ECountEvent.Type.KEYDOWN,function(n,t){if(!ecount.global.isDisableAlert()){if([27,118,119,9].contains(t.keyCode))return!1;[13,32].contains(t.keyCode)&&(ecount.runtime.notify(ECountEvent.Type.DEACTIVATE,null,n),ecount.runtime.notify(ECountEvent.Type.ACTIVATE,null,n))}var i=ECountEventHandler.getKeyEventHandlerName("KEYDOWN",n);if(i)n.handlerName="KEYDOWN",n.keyEventHandlerName=i,$.isNull(n.cid)||i!=="KEYDOWN_ENTER"||(n.suspend=!0);else return!1;[9,13].includes(t.type)&&ecount.eventTracker.addFootage(n,t)},function(t,i){n(t,i,t.handlerName)});ECountEventHandler.register(ECountEvent.Type.KEYUP,function(n){!window.__ec_logging_state;var t=ECountEventHandler.getKeyEventHandlerName("KEYUP",n);if(t)n.handlerName="KEYUP",n.keyEventHandlerName=t;else return!1},function(t,i){n(t,i,t.handlerName)});ECountEventHandler.register(ECountEvent.Type.MOUSEOVER,function(n,t){var f=t.target,i=t.relatedTarget,e=(ec$.getClosestAttr(i,"data-service")||"").replace(/{{ecService}}/g,""),r;if(n.ecService&&i&&e!=""&&(n.cid&&i&&n.cid===i.getAttribute("data-cid")&&!$.isEmpty(ec$.getClosestAttr(t.relatedTarget,"data-ownerkey"))||u(f,i)||u(i,f)))return ec$.getClosestAttr(t.relatedTarget,"data-function")==="dual"?!0:!1;ecount.constValue.isIE_MS10&&t.target.tagName=="A"&&(r=$._data(window,"events"),r&&$.isArray(r.beforeunload)&&($(window).data("beforeunload",r.beforeunload.splice(0)),$(window).unbind("beforeunload")))},function(t,i){t.handler==ECountEvent.Type.MOUSEOVER_BODY&&ecount.runtime.notify(ECountEvent.Type.MOUSEOVER_BODY,null,t);n(t,i,"MOUSEOVER")});ECountEventHandler.register(ECountEvent.Type.MOUSEOUT,function(n,t){var r=t.target,i=t.relatedTarget,o=(ec$.getClosestAttr(t.relatedTarget,"data-service")||"").replace(/{{ecService}}/g,""),e,f;if(n.ecService&&t.relatedTarget&&o!=""){if(i.nodeType!=3&&(r.contains(i)||i.contains(r))||n.cid&&i&&n.cid===i.getAttribute("data-cid")&&!$.isEmpty(ec$.getClosestAttr(t.relatedTarget,"data-ownerkey"))||u(r,i)||u(i,r))return!1;n.serviceKey&&(n.eventTriggerFromInterernalServiceTarget=n.serviceKey==ec$.getClosestAttr(t.relatedTarget,"data-servicekey"))}if(t.relatedTarget&&t.relatedTarget.getAttribute("class")&&t.relatedTarget.getAttribute("class")=="tab-close"&&(n.eventTriggerFromInterernalServiceTarget=!0),ecount.constValue.isIE_MS10&&t.target.tagName=="A")for(e=$(window).data("beforeunload")||[],f=0;f<e.length;f++)$(window).bind("beforeunload",e[f].handler)},function(t,i){t.handler==ECountEvent.Type.MOUSEOUT_BODY&&ecount.runtime.notify(ECountEvent.Type.MOUSEOUT_BODY,null,t);n(t,i,"MOUSEOUT")});ECountEventHandler.register(ECountEvent.Type.CLICK,function(n,t){if(ecount.constValue.isIE&&t.target.disabled||t.originalEvent&&t.originalEvent.detail==undefined&&!t.originalEvent.ignoreDetail)return!1;ecount.eventTracker.addFootage(n,t)},function(t,i){n(t,i,"CLICK")});ECountEventHandler.register(ECountEvent.Type.DBLCLICK,function(n,t){ecount.eventTracker.addFootage(n,t)},function(t,i){n(t,i,"DBLCLICK")});ECountEventHandler.register(ECountEvent.Type.CONTEXTMENU,null,function(t,i){n(t,i,"CONTEXTMENU")});ECountEventHandler.register(ECountEvent.Type.COPY,null,function(t,i){n(t,i,"COPY")});ECountEventHandler.register(ECountEvent.Type.CUT,null,function(t,i){n(t,i,"CUT")});ECountEventHandler.register(ECountEvent.Type.PASTE,null,function(t,i){n(t,i,"PASTE")});ECountEventHandler.register(ECountEvent.Type.ERROR,null,function(t,i){n(t,i,"MEDIA_ERROR")});ECountEventHandler.register(ECountEvent.Type.DRAG_STOP,null,function(t,i){n(t,i,"DRAG_STOP")})}();widget_base_timer=(new Date).getTime();widget.generator=function(){function n(n,t){if(t)if($.isArray(t))for(var i=0,r=t.length;i<r;i++)n.push(t[i]);else n.push(t)}function t(n,t,i){var r=t||{},u;return r.css===void 0&&(r.css=""),r.style===void 0&&(r.style={}),r.attr===void 0&&(r.attr={}),u={define:n.define||function(){throw new Error("define 을 구현하지 않았습니다.");},end:n.end||function(){throw new Error("end 을 구현하지 않았습니다.");},addCss:function(n){return _.isArray(n)&&(n=n.join(" ")),r.css=ecount.convertor.uniqSumClass(r.css,n),this},removeCss:function(n){return r.css&&(r.css=ecount.convertor.removeClass(r.css,n)),this},addStyle:function(n){return r.style=n,this},addStyleById:function(n,t){return r.style[n]=t,this},removeStyleById:function(n){delete r.style[n]},addAttr:function(n){return r.attr=n,this},addAttrByKey:function(n,t){return r.attr[n]=t,this},label:function(n){return r.label=n,this}},i&&_.extend(u,i)||u}return{HEADER:"header",CONTENTS:"contents",FOOTER:"footer",SECTION:"section",ROW:"row",TABCONTENTS:"tabContents",TABPANE:"tabPane",TABS:"tab",GRID:"grid",DATAVIEW:"dataView",TOOLBAR:"toolbar",SUBTITLE:"subTitle",REMARK:"remark",PANEL:"panel",PANELMODAL:"panelModal",PANELGROUP:"panelGroup",PANELTREE:"panelTree",WIDGETTREE:"widgetTree",SETTINGPANEL:"settingPanel",UNORDEREDLIST:"unorderedList",ORDEREDLIST:"orderedList",TABLECONTENTS:"tableContents",CALENDAR:"calendar",SCHEDULER:"scheduler",FORM:"form",SINGLEFORM:"singleForm",CONTROL:"control",COLUMN:"column",PAGE:"page",TREE:"tree",TITLEBAR:"titlebar",DIV:"div",DIVCONTAINER:"divContainer",UL:"ul",TIMELINE:"timeline",BOOKMARK:"bookmark",LINE:"line",STEPPROGRESS:"stepProgress",FILELIST:"fileList",ATTACHFILELIST:"attachFileList",SCOREBOX:"scoreBox",PRINTCONTENT:"printContent",BATCHSETUP:"batchSetup",BOARDVIEW:"boardView",BOARDLISTVIEW:"boardListView",SINGULAR:"singular",JOURNALVIEW:"journalView",SETTINGPANELCONTAINER:"settingPanelContainer",EP:"ep",SECTIONUNION:"sectionUnion",ORGCHART:"orgChart",REPORT:"report",REPORTCONTAINER:"reportContainer",DRAGCONTAINER:"dragContainer",DRAWINGPAPER:"drawingPaper",DRAWINGPAPERCELL:"drawingPaperCell",DRAWINGPAPERCONTROL:"drawingPaperControl",CANVASEDITORCONTAINER:"canvasEditorContainer",CLOUD:"cloud",CROP:"crop",GRAPH:"graph",header:function(){return function(){var t={btnItems:[],favorite:{},contentsOptions:{},progressMark:{}};return{setTitle:function(n){return t.title=n,this},getTitle:function(){return t.title},add:function(i,r,u){var f,e;return arguments.length===1&&typeof i!="string"?(f=arguments[0].end?arguments[0].end():arguments[0],f.containerName=widget.generator.HEADER,n(t.btnItems,f)):(e={type:i,items:[],hidden:u},n(e.items,r&&r.end?r.end():r),n(t.btnItems,e)),this},addItemsLeft:function(i){var u={},r;for($.isArray(i)||(i=[i]),r=0;r<i.length;r++)u=i[r].end?i[r].end():i[r],u.containerName=widget.generator.HEADER,u.direction="left",n(t.btnItems,u);return this},addItemsRight:function(i){var u={},r;for($.isArray(i)||(i=[i]),r=0;r<i.length;r++)u=i[r].end?i[r].end():i[r],u.containerName=widget.generator.HEADER,u.direction="right",n(t.btnItems,u);return this},addToolbar:function(n){var i=n.end?n.end():n;return i.containerName=widget.generator.HEADER,t.toolbarOptionsList||(t.toolbarOptionsList=[]),t.toolbarOptionsList.push(i),this},addContents:function(n){for(var r,s,o,e,h,u=n.end?n.end():n,f=0,c=u.items.length,i;f<c;f++)if(i=u.items[f].end?u.items[f].end():u.items[f],i.containerName=widget.generator.HEADER,i.__type===widget.generator.TABCONTENTS)for(r=0,s=i.tabItems.length;r<s;r++)for(o=i.tabItems[r].end?i.tabItems[r].end():i.tabItems[r],e=0,h=o.length;e<h;e++)o[e].containerName=widget.generator.HEADER;return t.contentsOptions=u,this},notUsedBookmark:function(){return t.favorite.isUseFavorites=!1,this},enableEnote:function(n){return t.enableEnote=!0,n&&(t.independenceEnote=n.independenceEnote,t._noMaxWidth=n._noMaxWidth),this},setEnoteMenu:function(n){return t.enoteMenu=n,this},useQuickSelect:function(n,i,r,u){return t._useQuickSelect=!0,t._isShowQuickSelect=n,t._quickSelectOption=i,t._quickSelectOptions=r||{},t._quickSelectedValue=u,this},useQuickSearch:function(n,i,r){return t._useQuickSearch=!0,t._isShowQuickSearch=n,t._noInputBox=i,t._quickSearchSerializeKey=r,this},useQuickLabel:function(n,i,r){return t._useQuickLabel=!0,t._isShowQuickLabel=n,t._quickLabelData=i,t._quickLabelParams=r,this},useQuickInactive:function(n){return t._useQuickInactive=!0,t._isShowQuickInactive=n,this},maxbytes:function(n,i){return t._maxBytes=n,t._bytesMessage=i,this},maxLength:function(n,i){return t._maxLength=n,t._maxMessage=i,this},disable:function(){return t.hidden=!0,this},setOptions:function(n){return _.extend(t,n||{}),this},progressMark:function(n,i){return t.progressMark.progressTitle1=n,t.progressMark.progressTitle2=i,this},hideHeaderTitle:function(n){return Boolean(n)===!0&&(t._isHideHeaderTitle=!0),this},addLayout:function(n){return n=n.__type?n:n.end(),t.layout=n,this},setBoardReceiverData:function(n){return t.receiverDatas=n,this},setCsShared:function(){return t._isCsShared=!0,this},setShared:function(){return t._isShared=!0,this},noMaxWidth:function(){return t._noMaxWidth=!0,this},value:function(n){return setAttr("value",n),this},setData:function(n){return t.data=n,this},end:function(){return t==null?null:_.extend({__type:widget.generator.HEADER},t)}}}()},tabs:function(){return function(){function i(n,t){return{id:n,name:t}}function t(t,r,u,f){return f=f||{},u&&u.length>0&&(n.buttonList[t]=u,n.forceRefreshFooter=!0),_.extend(i(t,r),f)}var n={items:[],orgName:[],buttonList:{},forceRefreshFooter:!1};return{addRight:function(i,r,u,f,e,o,s){return n.items.push(t(i,r,u,{right:!0,css:f,needRemove:e,hidden:o,parentTabId:s})),this},add:function(i,r,u,f,e,o,s){return n.items.push(t(i,r,u,{css:f,needRemove:e,hidden:o,parentTabId:s})),this},addPreset:function(i,r,u){return n.items.push(t(i,r,null,{isDynamicTab:!0,isPreset:!0,isMainTab:u})),this},addActive:function(i,r,u,f,e,o,s){return n.items.push(t(i,r,u,{active:!0,css:f,needRemove:e,hidden:o,parentTabId:s})),this},addActiveRight:function(i,r,u,f,e,o,s){return n.items.push(t(i,r,u,{right:!0,active:!0,css:f,needRemove:e,hidden:o,parentTabId:s})),this},addOrgName:function(t,i){n.orgName.push({id:t,name:i})},addDropdownItems:function(t,i,r,u){for(var f=0;f<n.items.length;f++)n.items[f].id===t&&(n.items[f].dropdownTabItems=i,n.items[f].activedDropdownTabItemID=r,n.items[f].activedDropdownTabItemLabel=u);return this},setLinkAction:function(t,i){if(n.items){var r=n.items.filter(function(n){return n.id==t});r&&r.length>0&&(r[0].linkAction=_.isBoolean(i)?i:!0)}return this},setActivedDropdownItem:function(t,i){for(var f,e="",r={},u=0;u<n.items.length;u++)if(n.items[u].id===t){for(r=n.items[u].dropdownTabItems!=undefined?n.items[u].dropdownTabItems:[],f=0;f<r.length;f++)r[f].id===i&&(e=r[f].label);e.length==0&&r[0]!=undefined?(r[0].activedDropdownTabItemID=i,r[0].activedDropdownTabItemLabel=e):(n.items[u].activedDropdownTabItemID=i,n.items[u].activedDropdownTabItemLabel=e)}return this},hide:function(t){for(var i=0,r=n.items.length;i<r;i++)if(n.items[i].id===t){n.items[i].hidden=!0;break}return this},setStandAloneType:function(t){return t!=!1&&(n.__type="standAloneTab"),this},setTabMenuItems:function(t){return n.tabMenuItems=t,this},setEnableDBClick:function(t){return n.enableDBClick=t,this},disableTabContextMenu:function(){return n.disableTabContextMenu=!0,this},end:function(){return _.extend({__type:widget.generator.TABS},n)}}}()},tabPane:function(){var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},item:function(t){return n.item=t,this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addToolbar:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.HEADER,n.toolbarOptionsList||(n.toolbarOptionsList=[]),n.items.push(i),this},css:function(t){return n.css=t,this},setOptions:function(t){return _.extend(n,t||{}),this},setStandAloneType:function(t){return t!=!1&&(n.__type="standAloneTabPane"),this},end:function(){return _.extend({__type:widget.generator.TABPANE},n)}}},toolbar:function(){return function(){function t(n,t){var i,r,u;for($.isArray(n)||(n=n.__type?[n]:[n.end()]),i=0,r=n.length;i<r;i++)u=n[i].end?n[i].end():n[i],t.push(u)}var n={itemLeft:[],itemRight:[],cssToolbar:""};return{setId:function(t){return n.id=t,this},setOptions:function(t){return _.extend(n,t),this},getOptions:function(t,i){return i?t?n[t]:n:Object.clone(t?n[t]:n)},setTarget:function(n){return n=n,this},addRight:function(i){return t(i,n.itemRight),this},addLeft:function(i){return t(i,n.itemLeft),this},setPrimaryIndex:function(t){return n._primIndex=t,this},attach:function(t){return n.attachList||(n.attachList=[]),n.attachList.push(t.__type?t:t.end()),this},addGroup:function(t,i){var r;return n._groups||(n._groups=[]),r=typeof t=="string"?t:t.id,n._groups.push({key:r,display:i!==!1,members:[]}),this},setFormSetGroup:function(t){return n._FormGroupID=t,this},columns:function(){n.columns=[];for(var t=0,i=arguments.length;t<i;t++)n.columns.push({column:arguments[t]});return this},css:function(t){return n.css=t,this},addKeyMember:function(t){var i=t.inline().end(),r=n._groups[n._groups.length-1];return i.__GROUP_KEY=r.key,r.hasKeyControl=r.key!==undefined,r.memberDisplay=i.data&&i.data.length>0&&i.data[0].selected===!0,r.members.push(i),this},addMember:function(t){var i=n._groups[n._groups.length-1];return i.memberDisplay||t.hide(),i.members.push(t.inline().end()),this},alignCenter:function(){return n.cssToolbar==""?n.cssToolbar="text-center":n.cssToolbar+=" text-center",this},search:function(t,i,r,u){return n.search=t,r&&(n.itemType=r),i&&(n.itemOptions=i),u&&(n._appendOption=u),this},drag:function(t){n.drag=t},report:function(t){return n.report=t,this},draggablePlace:function(t){return n.draggablePlace=t,this},addReport:function(t){return n.itemLeft.push(t),this},remark:function(t){return n.remark=t,this},isUseCollapseButton:function(t,i){return t==undefined&&(t=!0),n._isUseCollapseButton=t===!0?!0:!1,n._defaultFoldState=i===!1?!1:!0,this},isCollapseSmallButton:function(t){return t==undefined&&(t=!0),n._isCollapseSmallButton=t===!0?!0:!1,this},hide:function(t){return $.isNull(t)&&(t=!0),n.hidden=t,this},width:function(t){return n._width=t,this},wholeRow:function(t){return n.isWholeRow=t!==!1,this},style:function(t){return n.style=t,this},end:function(){return _.extend({__type:widget.generator.TOOLBAR},n)}}}()},footer:function(){return function(){var n={toolbar:[]};return{add:function(t){var i=t.end();return i.containerName=widget.generator.FOOTER,n.toolbar.push(i),this},disable:function(){return n.hidden=!0,this},end:function(){return n==null?null:_.extend({__type:widget.generator.FOOTER},n)}}}()},section:function(){return function(){var n={items:[]};return{add:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.SECTION,n.items.push(i),this},disable:function(){return n.hidden=!0,this},end:function(){return n==null?null:_.extend({__type:widget.generator.SECTION},n)}}}()},form:function(){return function(){var n={fOptions:{},rows:[],controls:[],colSize:1,isMultiCell:!1,mergeBodyOptions:[],mergeHeaderOptions:[]},i=0,t=0;return{request:function(t,i){return n.url=t,n.fOptions=i||{},this},setURL:function(t){return n.url=t,this},setType:function(t){return n.fOptions.formType=t,this},setFormId:function(t){return n.id=t,this},setTypeMaster:function(t){return n.fOptions.formTypeMaster=t,this},setSeq:function(t){return n.fOptions.formSeq=t,this},setVertical:function(){return n._isVertical=!0,this},setTable:function(){return n._isTableForm=!0,this},useChangeSelectedForm:function(){return n._useChangeSelectedForm=!0,this},useChangeItemForm:function(t){return n._useChangeItemForm=!0,t&&(n._useChangeSelectedForm=!0),this},useOriginForm:function(){return n._useOriginForm=!0,this},useAdminForm:function(){return n._useAdminForm=!0,this},setGeneralForm:function(){return n._isGeneralForm=!0,this},setColumns:function(t,i){return n.columnSet=t,n.tableRowData=i,this},setRowLength:function(t){return n.tableLength=t,this},useTableHeader:function(){return n._useTableHeader=!0,this},useTableRowIndex:function(){return n._useTableRowIndex=!0,this},useTableCheckbox:function(t,i,r){n._useTableHeaderCheckbox=t;n._tableCheckboxValue=i;n._isChecked=$.isNull(r)?!0:r},setFlexible:function(){return n._isFlexible=!0,this},useInputForm:function(){return n._isInputForm=!0,this},setNumberOfColumns:function(t){n._numberOfColumns=t||1},useTableType:function(){return n._isTableType=!0,this},useBaseForm:function(t){return n._isBaseForm=!0,t&&(n._styleType=t),this},useTableForm:function(){return n._isTableForm=!0,this},useCustomForm:function(){return n._isCustomForm=!0,this},useSetupForm:function(){return n._isSetupForm=!0,this},setGeneralForm:function(){return n._isGeneralForm=!0,this},noBorderTable:function(){return n.noBorderTable=!0,this},useFixed:function(){return n._isFixed=!0,this},useDynamicColSize:function(){return n._useDynamicColSize=typeof arguments[0]=="boolean"?arguments[0]:!0,this},setReturnType:function(t){return n.fOptions.returnType=t,this},setBasicType:function(t){return n.fOptions.basicType=t,this},setIsConvertColumnCode:function(t){return n.fOptions.isConvertColumnCode=t,this},setViewType:function(t){return n.fOptions.viewType=t,this},setOptions:function(t){return _.extend(n,t),this},setColSize:function(t){return n.colSize=t,this},setMultiColSettings:function(t){return _.isArray(t)&&(n.multiColSettings=t),this},setEmptyRowCount:function(t){return n.emptyRowCount=t,n.allowEmptyRow=t>0,this},useResizable:function(){return n.useResizable=!0,this},useInputPage:function(){return n.pageType="input",this},template:function(t){return n.templateType=t,n.pageType=t,this},templateType:function(t){return n.templateType=t,this},customTemplate:function(t){return n.template=t,this},css:function(t){return n.css=t,this},hideRow:function(t){n._hideRowList||(n._hideRowList=[]);for(var i=0;i<t.length;i++)n._hideRowList.push(t[i]);return this},hideCellTitle:function(t){return _.isBoolean(t)||(t=!1),n.hideCellTitle=t,this},showLeftAndRightBorder:function(t){return n.isShowLeftAndRightBorder=$.isEmpty(t)?!0:t,this},style:function(t){var i=[];for(var r in t)i.push(r+":"+t[r]);return n.style=i.join(";")+";",this},rowspan:function(t,i){return n._rowspan||(n._rowspan={}),$.isNull(i)&&(i=n.rows.length.toString()),n._rowspan[i]=parseInt(t)||0,this},thSubTitleSpan:function(t,i){return n._thSubTitleRowspan||(n._thSubTitleRowspan={}),$.isNull(i)&&(i=n.rows.length.toString()),n._thSubTitleRowspan[i]=parseInt(t)||0,this},thSubTitleColGroup:function(t){return $.isArray(t)||(t=[t]),n.thSubTitleColgroup=t,this},colgroup:function(t){return n._useCustomColGroup=!0,$.isArray(t)||(t=[t]),n.colgroup=t,this},add:function(){var t,r,u,f,o,i;if($.isArray(arguments[0]))return arguments[0].length===0?this:this.add.apply(this,arguments[0]);function e(n){if(n.name&&n.name.indexOf("P_DES")==0&&(n.isResettableSubTitle==undefined||n.isResettableSubTitle=="")){var t=n.subTitle.split(""),i=t.shift();i.toUpperCase()!="D"&&(n._alreadyModify=!0,n.subTitle=t.join(""))}}if(t=Array.prototype.slice.call(arguments),r=0,t.length==1)r=1,e(t[0].end?t[0].end():t[0]),n.rows.push(t[0].end?t[0].end():t[0]);else{for(u=[],f=0,o=t.length;f<o;f++)i=t[f],e(i.end?i.end():i),u.push(i.end?i.end():i);r=u.length;r>0&&n.rows.push(u)}return n.colSize=Math.max(r,n.colSize),this},addControls:function(t,i){return t=$.isArray(t)?t.clone():[t.clone()],n.controls=i===!0?n.controls.concat(t):t,this},addMergedBody:function(t,i){return n.mergeBodyOptions.push({control:i,start:n.rows.length-t,count:t}),this},addMergedHeader:function(r){return n.mergeHeaderOptions.length!==0?(i+=t,n.decidedCount=n.rows.length-i,n.mergeHeaderOptions[n.mergeHeaderOptions.length-1].count=t):t=0,n.mergeHeaderOptions.push({start:n.rows.length,count:t,header:r}),this},insertBorder:function(){return n._border=!0,this},filter:function(t){return n.filter=t,this},hideLRBorder:function(){return n._hideLRBorder=!0,this},getRowCount:function(){return n.rows.length},setOptions:function(t){return t=t||{},_.extend(n,t),this},executeValidateIfVisible:function(){return n._executeValidateIfVisible=!0,this},setFormSetGroup:function(t){return n._FormGroupID=t,this},hide:function(){return n.hidden=!0,this},addExplanationTd:function(t,i,r){return n.explanation={startIndex:t,endIndex:i,msg:r},this},setEmptyMessage:function(t){n.emptyMessage=$.isString(t)?t:""},end:function(){return n.colSize>1&&!n.pageType&&(n.pageType="input"),n.mergeHeaderOptions.length===1?n.mergeHeaderOptions[0].count=n.rows.length:n.mergeHeaderOptions.length>1&&(n.mergeHeaderOptions[n.mergeHeaderOptions.length-1].count=n.rows.length-i),_.extend({__type:widget.generator.FORM},n)}}}()},batchSetup:function(){return function(){function r(t){for(var r=-1,i=0;i<n.setupList.length;i++)if(n.setupList[i].id==t){r=i;break}return r}function f(u,f,e,o){o||(o={});r(u)==-1&&(o.title=e,o.id=u,o.name=f,n.setupList.push(o));i++;t=u}function u(t,i){var u=r(t);n.setupList[u].items||(n.setupList[u].items=[]);n.setupList[u].items.push(i)}var n={setupList:[]},t=null,i=0;return{addLayer:function(n,t,i,r){if(arguments.length==0){var u=arguments[0];n=u.id;t=u.name;i=u.title;r=u.option}return f(n,t,i,r),this},add:function(n){if(t){var i=_.extend({},n.end?n.end():n);i.containerName=widget.generator.CONTENTS;i.__type&&_.extend(i.includeParameter,{includeSetupId:t});u(t,i)}return this},hide:function(){return n.setupList[cTabID].hide=!0,this},setOptions:function(t){return _.extend(n,t),this},setDetailOptions:function(t,i){return _.extend(n.setupList[t],i),this},css:function(t){return n.css=t,this},detailCss:function(t){n.setupList[cTabID].css=t},addGrid:function(n,i,r,f){if(t){var e={};e.id=n;e.settings=i||widget.generator.grid();e.containerName=widget.generator.CONTENTS;e.__type=widget.generator.GRID;e.settings.__ecGridHidden=r===!1;e.settings.__layoutSettings=f;u(t,e)}return this},end:function(){return n.setupItemCount=i,_.extend({__type:n.__type||widget.generator.BATCHSETUP},n)}}}()},sectionUnion:function(){return function(){function r(t){for(var r=-1,i=0;i<n.setupList.length;i++)if(n.setupList[i].id==t){r=i;break}return r}function f(u,f,e,o){o||(o={});r(u)==-1&&(o.title=e,o.id=u,o.name=f,n.setupList.push(o));i++;t=u}function u(t,i){var u=r(t);n.setupList[u].items||(n.setupList[u].items=[]);n.setupList[u].items.push(i)}var n={setupList:[]},t=null,i=0;return{addLayer:function(n,t,i,r){if(arguments.length==0){var u=arguments[0];n=u.id;t=u.name;i=u.title;r=u.option}return f(n,t,i,r),this},add:function(n){if(t){var i=_.extend({},n.end?n.end():n);i.containerName=widget.generator.CONTENTS;i.__type&&_.extend(i.includeParameter,{includeSetupId:t});u(t,i)}return this},hide:function(){return n.setupList[cTabID].hide=!0,this},setOptions:function(t){return _.extend(n,t),this},setDetailOptions:function(t,i){return _.extend(n.setupList[t],i),this},css:function(t){return n.css=t,this},detailCss:function(t){n.setupList[cTabID].css=t},addGrid:function(n,i,r,f){if(t){var e={};e.id=n;e.settings=i||widget.generator.grid();e.containerName=widget.generator.CONTENTS;e.__type=widget.generator.GRID;e.settings.__ecGridHidden=r===!1;e.settings.__layoutSettings=f;u(t,e)}return this},addUnionData:function(t){return n.unionData=t,this},noHeader:function(t){return n._noHeader=t!=!1,this},isLeftMenu:function(t,i){return n._isLeftMenu=!0,n._noHeader=t!=!1,n._noSurffixIndex=i!=!1,this},showBackground:function(t){return n.showBackground=t,this},setUnionWidth:function(t){return n.unionWidth=t,this},end:function(){return n.setupItemCount=i,_.extend({__type:n.__type||widget.generator.SECTIONUNION},n)}}}()},tabContents:function(){return function(){function u(t,i){i.__type==widget.generator.FORM&&(n.maxColSize=Math.max(i.colSzie||1,n.maxColSize));n.onSingleMode&&n.activeTabId?n.tabItems[n.activeTabId].push(i):n.tabItems[t].push(i)}function e(n,i,r){t===null&&(t=widget.generator.tabs());t.addPreset(n,i,r)}function r(r,u,e,o,s,h,c,l,a){r!==i&&(t===null&&(t=widget.generator.tabs()),i=r);e&&e.length>0&&(n.buttonList[r]=e,n.forceRefreshFooter=!0);o?s==="left"?t.addActive(r,u,e,h,c,l,a):t.addActiveRight(r,u,e,h,c,l,a):s==="left"?t.add(r,u,e,h,c,l,a):t.addRight(r,u,e,h,c,l,a);f++;n.onSingleMode&&n.activeTabId?n.tabItems[n.activeTabId]?n.tabItems[r]=[]:n.tabItems[n.activeTabId]=[]:n.tabItems[r]=[]}function s(i,r){var u={},f;for(activedDropdownTabItemID="",activedDropdownTabItemLabel="",f=0;f<r.length;f++)u=r[f],u&&(n.tabItems[u.id]=[],u.isActived===!0&&(activedDropdownTabItemID=u.id,activedDropdownTabItemLabel=u.label,n.activeTabId===i&&(n.activeDropdownTabID=u.id)));(activedDropdownTabItemID==null||activedDropdownTabItemID.length==0)&&(activedDropdownTabItemID=r[0]!=undefined?r[0].id:"",activedDropdownTabItemLabel=r[0]!=undefined?r[0].label:"");t.addDropdownItems(i,r,activedDropdownTabItemID,activedDropdownTabItemLabel)}function h(n,i){t.setActivedDropdownItem(n,i)}var n={tabItems:{},fOptions:{},buttonList:{},forceRefreshFooter:!1,maxColSize:0},t=null,i=null,o=null,f=0;return{createTab:function(t,i,u,f,e,o,s,h,c){if(arguments.length===1){var l=arguments[0];t=l.id;i=l.name;u=l.mappingBtn;f=l.isActive;e=l.direction;o=l.css;s=l.needRemove;h=l.hidden;c=l.parentTabId}return f&&(n.activeTabId=t),r(t,i,u,f,e||"left",o,s,h,c),this},createPreset:function(n,t,i){if(arguments.length===1&&Array.isArray(arguments[0])){var r=arguments[0];return r.forEach(function(n){e(n.id,n.name,n.isMainTab)}),this}return e(n,t,i),this},createRightTab:function(t,i,u,f,e,o,s,h,c){if(arguments.length===1){var l=arguments[0];t=l.id;i=l.name;u=l.mappingBtn;f=l.isActive;e=l.direction;l.css;h=l.hidden;c=l.parentTabId}return f&&(n.activeTabId=t),r(t,i,u,f,e||"right",o,s,h,c),this},createActiveTab:function(t,i,u){return n.activeTabId=t,r(t,i,u,!0,"left"),this},createRightActiveTab:function(t,i,u){return n.activeTabId=t,r(t,i,u,!0,"right"),this},add:function(t){if(i){var r=_.extend({},t.end?t.end():t);r.containerName=widget.generator.CONTENTS;r.__type&&_.extend(r.includeParameter,{includeTabId:i});u(i,r)}else n.commonItems||(n.commonItems=[]),n.commonItems.push(t);return this},setTabToggleIcon:function(){return n.useTabToggleIcon=!0,this},addDropdownTabItems:function(n){return $.isArray(n)||(n=[n]),n.length>0&&s(i,n),this},addOptionsForDropdownTabItem:function(n,t){if(n){var i=_.extend({},t.end?t.end():t);i.containerName=widget.generator.CONTENTS;i.__type&&_.extend(i.includeParameter,{includeTabId:n});u(n,i)}return this},setActivedDropdownTabItem:function(t){return t!=null&&t.length>0&&(n.activeTabId===i&&(n.activeDropdownTabID=t),h(i,t)),this},hide:function(){return t.hide(i),this},addGrid:function(n,t,r,f){if(i){var e={};e.id=n;e.settings=t||widget.generator.grid();e.containerName=widget.generator.CONTENTS;e.__type=widget.generator.GRID;e.settings.__ecGridHidden=r===!1;e.settings.__layoutSettings=f;u(i,e)}return this},useDynamicAdd:function(t,i,r){if(arguments.length===1&&$.isPlainObject(arguments[0])){var u=arguments[0];t=u.use;i=u.isNewVersion;r=u.dynamicDropdownItems}return n._useDynamicAdd=t!==!1,n._isNewVersion=i,n._dynamicDropdownItems=r,this},usePreset:function(){return n._usePreset=!0,this},blockPresetFeatures:function(t,i){return n._blockPresetFeatureList=t,n._blockPresetCallback=i,this},setDynamicAddRange:function(t){return n.tabIndexRange=t,this},setTabVersion:function(t){return n.tabVer=t?t:"",this},onSingleMode:function(){return n.onSingleMode=!0,this},onSync:function(){return n.onSync=!0,this},addNonSyncTab:function(t){if(t!==undefined&&t!==!1)return n.nonSyncTabs||(n.nonSyncTabs=[]),$.isArray(t)?n.nonSyncTabs=n.nonSyncTabs.concat(t):n.nonSyncTabs.push(t),this},setColSize:function(t){return n.colSize=t,this},request:function(t,i){return n.url=t,n.fOptions=i,this},setURL:function(t){return n.url=t,this},setType:function(t){return n.fOptions.formType=t,this},setFormInfo:function(t){return n.fOptions.formInfoObject=t,this},setTypeCode:function(t){return n.fOptions.formTypeCode=t,this},setTypeMaster:function(t){return n.fOptions.formTypeMaster=t,this},setSeq:function(t){return n.fOptions.formSeq=t,this},setReturnType:function(t){return n.fOptions.returnType=t,this},setBasicType:function(t){return n.fOptions.basicType=t,this},setIsConvertColumnCode:function(t){return n.fOptions.isConvertColumnCode=t,this},setViewType:function(t){return n.fOptions.viewType=t,this},setLinkAction:function(n){var r=t;return r.setLinkAction(i,n),this},setOptions:function(t){return _.extend(n,t),this},useAdditionalField:function(t,i,r){return n.additionalField={name:t,tabId:r,sibling:i},this},template:function(t){return n.pageType=t,this},colgroup:function(t){return $.isArray(t)||(t=[t]),n.colgroup=t,this},filter:function(t){return n.filter=t,this},css:function(t){return n.css=t,this},tabPaneContanierCss:function(t){return n._tabPaneContanierCss=t,this},setColWidth:function(t){return n.colWidth=Array.isArray(t)?t:[],this},layout:function(t){return n.__type=t,this},addSign:function(t){return n._sign=t,this},useDefaultDynamicActiveTab:function(t){return t===undefined&&(t=!0),n._useDefaultDynamicActiveTab=t,this},setReport:function(t){return t===undefined&&(t=!0),n.report=t,this},setPriorityActiveArea:function(t){return n.prioritySection=t,this},end:function(){return t&&(n.tabOptions=t.end(),n.tabOptions.itemCount=f),n.onSingleMode&&(n._activeTabId=o),_.extend({__type:n.__type||widget.generator.TABCONTENTS},n)}}}()},contents:function(){return function(){var n={items:[]};return{setTabId:function(t){return n.tabId=t,this},setType:function(t){return n.contentType=t,this},addControl:function(t,i,r){return n.items.push(_.extend({containerName:widget.generator.CONTENTS,type:widget.generator.CONTROL,controlType:t,id:i,pId:n.tabId},r||{})),this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i||widget.generator.grid(),f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addColGroup:function(t,i){n.colGroup||(n.colGroup=[]);var r=i.end();return r.containerName=widget.generator.CONTENTS,n.tabId&&(r.tabId=n.tabId),n.colGroup.push({size:t,item:r}),n.items.push(r),this},addColGroupParentAttr:function(t){return n.colGroupParentAttr=t,this},addDataView:function(t,i,r){var u={};return u.id=t,u.settings=i||widget.generator.dataView(),u.containerName=widget.generator.CONTENTS,u.__type=widget.generator.DATAVIEW,u.settings.__ecHideDataView=r===!1,n.items.push(u),this},add:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.CONTENTS,n.tabId&&(i.tabId=n.tabId),n.items.push(i),this},disable:function(){return n.hidden=!0,this},useBgSection:function(t){return n.useBgSection=!0,n.bgSectionType=t,this},useContract:function(){return n.useContract=!0,this},useScrollEvent:function(t){return n.useScrollEvent=!0,typeof t=="function"&&(n.scrollCallback=t),this},addGraph:function(t,i){var r={};return r.id=t,r.settings=i||widget.generator.graph(),r.containerName=widget.generator.CONTENTS,r.__type=widget.generator.GRAPH,n.tabId&&(r.tabId=n.tabId),n.items.push(r),this},end:function(){return n.__type=widget.generator.CONTENTS,n}}}()},row:function(){return function(){var n={items:[]};return{setTabId:function(t){return n.tabId=t,this},setType:function(t){return n.contentType=t,this},addControl:function(t,i,r){return n.items.push(_.extend({containerName:widget.generator.ROW,type:widget.generator.CONTROL,controlType:t,id:i,pId:n.tabId},r||{})),this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i||widget.generator.grid(),f.containerName=widget.generator.ROW,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addColGroup:function(t,i,r,u,f,e){var o={},c=[],s,h;for(n.colGroup||(n.colGroup=[]),$.isArray(i)||(i=[i]),h=0;h<i.length;h++)s=i[h],o=s.end&&typeof s.end=="function"?s.end():s,o.containerName=widget.generator.ROW,n.tabId&&(o.tabId=n.tabId),n.items.push(o),c.push(o);return n.colGroup.push({columnSize:t,items:c,columnType:r,colClass:u,colFixed:f,marginTop:e}),this},add:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.ROW,n.tabId&&(i.tabId=n.tabId),n.items.push(i),this},disable:function(){return n.hidden=!0,this},width:function(t){return n._width=t,this},css:function(t){return n.css=t,this},end:function(){return n.__type=widget.generator.ROW,n}}}()},divContainer:function(){return function(){var n={items:[]};return{setTabId:function(t){return n.tabId=t,this},setType:function(t){return n.contentType=t,this},addControl:function(t,i,r){return n.items.push(_.extend({containerName:widget.generator.CONTENTS,type:widget.generator.CONTROL,controlType:t,id:i,pId:n.tabId},r||{})),this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i||widget.generator.grid(),f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.tabId&&(f.tabId=n.tabId),n.items.push(f),this},addColGroup:function(t,i){n.colGroup||(n.colGroup=[]);var r=i.end();return r.containerName=widget.generator.CONTENTS,n.tabId&&(r.tabId=n.tabId),n.colGroup.push({size:t,item:r}),n.items.push(r),this},add:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.CONTENTS,n.tabId&&(i.tabId=n.tabId),n.items.push(i),this},disable:function(){return n.hidden=!0,this},id:function(t){return n.id=t,this},css:function(t){return $.isString(t)&&(n.css=t),this},text:function(t){return $.isString(t)&&(n.text=t),this},useScrollEvent:function(t){return n.useScrollEvent=!0,typeof t=="function"&&(n.scrollCallback=t),this},end:function(){return n.__type=widget.generator.DIVCONTAINER,n}}}()},ul:function(){return function(){var n={items:[]};return{setTabId:function(t){return n.tabId=t,this},setType:function(t){return n.contentType=t,this},add:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.CONTENTS,n.tabId&&(i.tabId=n.tabId),n.items.push(i),this},disable:function(){return n.hidden=!0,this},id:function(t){return n.id=t,this},css:function(t){return $.isString(t)&&(n.css=t),this},liCss:function(t){return $.isString(t)&&(n.liCss=t),this},text:function(t){return $.isString(t)&&(n.text=t),this},setUserData:function(t){return _.isPlainObject(t)&&(n.userData=t),this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.UL,n}}}()},timeline:function(){return function(){var n={items:[]};return{id:function(t){return n.id=t,this},setTabId:function(t){return n.tabId=t,this},css:function(t){return $.isString(t)&&(n.css=t),this},liCss:function(t){return $.isString(t)&&(n.liCss=t),this},setData:function(t){return n.data=t,this},setNoDataText:function(t){return n.noDataText=t||"",this},setNoSearchText:function(t){return n.noSearchText=t||"",this},setTitle:function(t){return n.title=t||"",this},disable:function(t){return n.hidden=t===!1?!1:!0,this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.TIMELINE,n}}}()},bookmark:function(){return function(){var n={items:[]};return{id:function(t){return n.id=t,this},setTabId:function(t){return n.tabId=t,this},css:function(t){return $.isString(t)&&(n.css=t),this},liCss:function(t){return $.isString(t)&&(n.liCss=t),this},setData:function(t){return n.data=t,this},setNoDataText:function(t){return n.noDataText=t||"",this},setNoSearchText:function(t){return n.noSearchText=t||"",this},disable:function(t){return n.hidden=t===!1?!1:!0,this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.BOOKMARK,n}}}()},dragContainer:function(){function t(n,t){var i,r,u;for($.isArray(n)||(n=n.__type?[n]:[n.end()]),i=0,r=n.length;i<r;i++)u=n[i].end?n[i].end():n[i],t.push(u)}ecount.layout.dragContainer._export&&(ecount.layout.dragContainer._export().create(),ecount.layout.dragContainer._export=null);var n={itemEnabled:[],itemDisabled:[]};return{addEnabled:function(i){return t(i,n.itemEnabled),this},addDisabled:function(i){return t(i,n.itemDisabled),this},minNotificationOptions:function(t){return n.minNotificationCount=t.count,this},draggablePlace:function(t){return n.draggablePlace=t,this},css:function(t){return n.css=t,this},end:function(){return n.__type=widget.generator.DRAGCONTAINER,n}}},singular:function(){ecount.layout.singular._export&&(ecount.layout.singular._export().create(),ecount.layout.singular._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},css:function(t){return n.css=t,this},end:function(){return n.__type=widget.generator.SINGULAR,n}}},journalView:function(){ecount.layout.journalView._export&&(ecount.layout.journalView._export().create(),ecount.layout.journalView._export=null);var n={};return{setGridId:function(t){return n._gridID=t,this},hasButton:function(t){return n._showButton=!0,t=$.isArray(t)?t:[t],n.buttonList=t,this},hideButton:function(){return n._hideButton=!0,this},end:function(){return n.__type=widget.generator.JOURNALVIEW,n}}},panel:function(){ecount.layout.panel._export&&(ecount.layout.panel._export().create(),ecount.layout.panel._export=null);var n={items:[]};return{header:function(t){return n.header=t,this},footer:function(t){return n.footer=t,this},setAlign:function(t){return n._align=t,this},add:function(t){return n.items.push(t.end?t.end():t),this},setText:function(t){return n._text=t,this},item:function(t){return n.item=t,this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addToolbar:function(t){var i=t.end?t.end():t.end;return i.containerName=widget.generator.HEADER,n.toolbarOptionsList||(n.toolbarOptionsList=[]),n.items.push(i),this},setPanelId:function(t){return n.id=t,this},setTitle:function(t){return n.title=t,this},css:function(t){return n.css=t,this},setOptions:function(t){return _.extend(n,t||{}),this},width:function(t){return n._width=t,this},setRelative:function(){n.relative=!0},usingCollapse:function(t){return n._isUsingCollapse=!0,n._defaultCollapse=t===!0,this},usingToggle:function(){return n._isUsingToggle=!0,this},noBorderTable:function(){n.noBorderTable=!0},usingCollapseArrow:function(){return n._isUsingCollapseArrow=!0,this},hasScroll:function(){return n.hasScroll=!0,this},hidePanelScroll:function(t){n.hidePanelScroll=t},end:function(){return n.__type=widget.generator.PANEL,n}}},panelModal:function(){var n={items:[]};return{setData:function(t){return n.data=t,this},add:function(t){return n.items.push(t.end?t.end():t),this},addItems:function(t){for(var r,i=0;i<t.length;i++)r=t[i],n.items.push(r.end?r.end():r);return this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.PANELMODAL,n}}},panelGroup:function(){ecount.layout.panelGroup._export&&(ecount.layout.panelGroup._export().create(),ecount.layout.panelGroup._export=null);var n={items:[]};return{header:function(t){return n.header=t,this},footer:function(t){return n.footer=t,this},setAlign:function(t){return n._align=t,this},add:function(t){return t.containerName=widget.generator.CONTENTS,n.items.push(t.end?t.end():t),this},setText:function(t){return n._text=t,this},item:function(t){return n.item=t,this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addToolbar:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.HEADER,n.toolbarOptionsList||(n.toolbarOptionsList=[]),n.items.push(i),this},setPanelId:function(t){return n.id=t,this},css:function(t){return n.css=t,this},setOptions:function(t){return _.extend(n,t||{}),this},width:function(t){return n._width=t,this},setRelative:function(){n.relative=!0},usingCollapse:function(){return n._isUsingCollapse=!0,this},usingPanelGroup:function(){n._isUningPanelGroup=!0},end:function(){return n.__type=widget.generator.PANELGROUP,n}}},panelTree:function(){var n={items:[]};return{header:function(t){return n.header=t,this},footer:function(t){return n.footer=t,this},setAlign:function(t){return n._align=t,this},add:function(t){return n.items.push(t.end?t.end():t),this},setText:function(t){return n._text=t,this},item:function(t){return n.item=t,this},addColGroup:function(t){return n.colGroup||(n.colGroup=[]),n.colGroup.push(t),this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addToolbar:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.HEADER,n.toolbarOptionsList||(n.toolbarOptionsList=[]),n.items.push(i),this},setPanelId:function(t){return n.id=t,this},setTitle:function(t){return n.title=t,this},css:function(t){return n.css=t,this},setOptions:function(t){return _.extend(n,t||{}),this},width:function(t){return n._width=t,this},setRelative:function(){n.relative=!0},usingCollapse:function(){return n._isUsingCollapse=!0,this},usingToggle:function(){return n._isUsingToggle=!0,this},noBorderTable:function(){n.noBorderTable=!0},end:function(){return n.__type=widget.generator.PANELTREE,n}}},widgetTree:function(){ecount.layout.widgetTree._export&&(ecount.layout.widgetTree._export().create(),ecount.layout.widgetTree._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},addItems:function(t){for(var r,i=0;i<t.length;i++)r=t[i],n.items.push(r.end?r.end():r);return this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.WIDGETTREE,n.containerName=widget.generator.CONTENTS,n}}},orgChart:function(){ecount.layout.orgChart._export&&(ecount.layout.orgChart._export().create(),ecount.layout.orgChart._export=null);var n={items:[]};return{addItems:function(t){return n.items=t,this},end:function(){return n.__type=widget.generator.ORGCHART,n.containerName=widget.generator.CONTENTS,n}}},settingPanel:function(){ecount.layout.settingPanel._export&&(ecount.layout.settingPanel._export().create(),ecount.layout.settingPanel._export=null);var n={};return{setId:function(t){return n.id=t,this},header:function(t){return n._header||(n._header={}),n._header.title=t,arguments.length>1&&(arguments.length==2?typeof arguments[1]=="string"?n._header.description=arguments[1]:typeof arguments[1]=="object"&&(n._header.items=arguments[1].end?arguments[1].end():arguments[1]):(n._header.description=arguments[1],n._header.items=arguments[2].end?arguments[2].end():arguments[2])),this},addHeaders:function(t){return n._header&&(n._header.items=t.end?t.end():t),this},addContents:function(t){return n._contents||(n._contents={items:[]}),n._contents.items.push(t.end?t.end():t),this},addFooterItemLeft:function(t){return n._footer||(n._footer={leftItems:[]}),n._footer.leftItems.push(t.end?t.end():t),this},addFooterItemRight:function(t){return n._footer||(n._footer={rightItems:[]}),n._footer.rightItems.push(t.end?t.end():t),this},useFormLayout:function(){return n._useFormLayout=!0,this},setLabelColumnWidth:function(t){return n._labelColumnWidth=t,this},hideBottomSeparatedLine:function(){return n._isHideBottomSeparatedLine=!0,this},useBottomLine:function(){return n._isUseBottomLine=!0,this},focusIndex:function(t){return n._focusIndex=t,this},setOptions:function(t){return t=t||{},_.extend(n,t),this},hide:function(){return n.hidden=!0,this},wholeRow:function(t){return n.isWholeRow=t!==!1,this},end:function(){return n.__type=widget.generator.SETTINGPANEL,n}}},orderedList:function(){ecount.layout.orderedList._export&&(ecount.layout.orderedList._export().create(),ecount.layout.orderedList._export=null);var n={itemTitles:[],items:[],unorderdList:[]};return{add:function(t,i){var r=t.end?t.end():t;return n.items.push(r),n.itemTitles.push(i),this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.ORDEREDLIST,n.containerName=widget.generator.CONTENTS,n}}},unorderedList:function(){ecount.layout.unorderedList._export&&(ecount.layout.unorderedList._export().create(),ecount.layout.unorderedList._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.UNORDEREDLIST,n.containerName=widget.generator.CONTENTS,n}}},tableContents:function(){ecount.layout.tableContents._export&&(ecount.layout.tableContents._export().create(),ecount.layout.tableContents._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},addItems:function(t){for(var r,i=0;i<t.length;i++)r=t[i],n.items.push(r);return this},addHead:function(t){return _.merge(t,{tableIndex:"head"}),n.items.push(t.end?t.end():t),this},addBody:function(t){return _.merge(t,{tableIndex:"body"}),n.items.push(t.end?t.end():t),this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.TABLECONTENTS,n.containerName=widget.generator.CONTENTS,n}}},calendar:function(){ecount.layout.calendar._export&&(ecount.layout.calendar._export().create(),ecount.layout.calendar._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},item:function(t){return n.item=t,this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addToolbar:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.HEADER,n.toolbarOptionsList||(n.toolbarOptionsList=[]),n.items.push(i),this},css:function(t){return n.css=t,this},setOptions:function(t){return _.extend(n,t||{}),this},width:function(t){return n._width=t,this},end:function(){return n.__type=widget.generator.CALENDAR,n}}},scheduler:function(){ecount.layout.scheduler._export&&(ecount.layout.scheduler._export().create(),ecount.layout.scheduler._export=null);var n={items:[]};return{addLeft:function(t){var i=t.end();return i.panelPosition="leftPanel",i.containerName=widget.generator.CONTENTS,n.items.push(i),this},addRight:function(t){var i=t.end();return i.panelPosition="rightPanel",i.containerName=widget.generator.CONTENTS,n.items.push(i),this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.panelPosition="rightPanel",f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},css:function(t){return n.css=t,this},setOptions:function(t){return _.extend(n,t||{}),this},width:function(t){return n._width=t,this},end:function(){return n.__type=widget.generator.SCHEDULER,n}}},line:function(){ecount.layout.line._export&&(ecount.layout.line._export().create(),ecount.layout.line._export=null);var n={_items:[]};return{add:function(t){return n._items.push(t.end?t.end():t),this},setFormSetGroup:function(t){return n._FormGroupID=t,this},hide:function(){return n.hidden=!0,this},end:function(){return n.__type=widget.generator.LINE,n}}},subTitle:function(){ecount.layout.subTitle._export&&(ecount.layout.subTitle._export().create(),ecount.layout.subTitle._export=null);var n={_items:[]};return{setId:function(t){return n.id=t,this},title:function(t){return n.title=t,this},inline:function(){return n._inline=!0,this},insertBorder:function(){return n._border=!0,this},add:function(t){return n._items.push(t.end?t.end():t),this},setFormSetGroup:function(t){return n._FormGroupID=t,this},setAddonPopover:function(t){return Object.keys(t).length<1&&(t.content=""),n.addonPopoverOptions=t,this},hide:function(){return n.hidden=!0,this},css:function(t){return n.wrapperCss=t,this},wrap:function(t){return $.isEmpty(t)&&(t=!0),n.wrap=t,this},end:function(){return n.__type=widget.generator.SUBTITLE,n}}},remark:function(){ecount.layout.remark._export&&(ecount.layout.remark._export().create(),ecount.layout.remark._export=null);var n={_items:[]};return{title:function(t){return n.title=t,this},css:function(t){return n.css=t,this},end:function(){return n.__type=widget.generator.REMARK,n}}},titlebar:function(){ecount.layout.titlebar._export&&(ecount.layout.titlebar._export().create(),ecount.layout.titlebar._export=null);var n={};return{setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.TITLEBAR,n}}},div:function(){ecount.layout.div._export&&(ecount.layout.div._export().create(),ecount.layout.div._export=null);var n={items:[]};return{id:function(t){return n.id=t,this},css:function(t){return n.css=t,this},style:function(t){return n.style=t,this},html:function(t){return n.html=t,this},hide:function(){return n.hideDiv=!0,this},add:function(t){return n.items.push(t.end?t.end():t),this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i||widget.generator.grid(),f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},useScrollEvent:function(t){return n.useScrollEvent=!0,typeof t=="function"&&(n.scrollCallback=t),this},useResizeChangeScrollBarEvent:function(t){return n.resizeChangeScrollBarEvent=!0,typeof t=="function"&&(n.resizeChangeScrollBarEvent=t),this},end:function(){return n.__type=widget.generator.DIV,n}}},stepProgress:function(){ecount.layout.stepProgress._export&&(ecount.layout.stepProgress._export().create(),ecount.layout.stepProgress._export=null);var n={step:[]};return{id:function(t){return n.id=t,this},css:function(t){return n.css=t,this},addStep:function(t,i){return n.step.push({title:t,active:i}),this},end:function(){return n.__type=widget.generator.STEPPROGRESS,n}}},grid:function(n){var t=new ecount.events;return ecount.layout.grid._export&&(ecount.layout.grid._export().create(),ecount.layout.grid._export=null),n!="v3"?new ecount.gridV2.setting({events:t}):new ecount.gridV3.settings({events:t})},dataView:function(){ecount.layout.dataView._export&&(ecount.layout.dataView._export().create(),ecount.layout.dataView._export=null);var n={dataUrl:"",topHTML:"",columnType:ecount.grid.constValue.columnType.columnFix,headerLeftHTML:"",headerRightHTML:"",headerClassNames:[],footerLeftHTML:"",footerRightHTML:"",theadColumns:[],tbodyColumns:[],tfootColumns:[],theadColumnRowCustomData:[],theadRowData:[],tbodyRowData:[],tfootRowData:[]};return{setTopHTML:function(t){n.topHTML=t},setHeaderToolbarLeftHTML:function(t){n.headerLeftHTML=t},setHeaderToolbarRightHTML:function(t){n.headerRightHTML=t},setFooterToolbarLeftHTML:function(t){n.footerLeftHTML=t},setFooterToolbarRightHTML:function(t){n.footerRightHTML=t},setTheadColumns:function(t){return n.theadColumns=t,this},setTbodyColumns:function(t){return n.tbodyColumns=t,this},setTfootColumns:function(t){return n.tfootColumns=t,this},setTheadColumnCopyHeaderMergeInfo:function(){return this},setTheadColumnRowCustom:function(t,i){return n.theadColumnRowCustomData=i,n.columnType=ecount.grid.constValue.columnType.separate,this},setTheadRowDatas:function(t){return n.theadRowData=t,this},setTbodyRowDatas:function(t){return n.tbodyRowData=t,this},setTfootRowDatas:function(t){return n.tfootRowData=t,this},setRowDataUrl:function(t){return n.dataUrl=t,this},setTheadColumnFix:function(t){return n.theadColumnFix=t===!1?!1:!0,this},getCommonColumnType:function(){return n.columnType},end:function(){return n}}},page:function(n,t,i){ecount.layout.page._export&&(ecount.layout.page._export().create(),ecount.layout.page._export=null);var r={source:n,_ecParent:i,__type:widget.generator.PAGE,container:"div.page.include",pageID:t,includeParameter:{}};return{param:function(n){return _.extend(r.includeParameter,n),this},sync:function(n){r._sync=n},loadedParentPage:function(n){return r.__ecParentPageLoaded=n,this},setOptions:function(n){return n=n||{},_.extend(r,n),this},end:function(){return r}}},control:function(){return function(){function e(n,t,i){for(var r=0,u=n.length;r<u;r++)n[r][t]=i}function o(n,t,i){for(var r=0,f=n.length,u;r<f;r++)u=n[r],u[t==="to"?"from":"to"]=i,u.category="month"}function s(n,t,i){for(var r=0,u=n.length;r<u;r++)n[r].value=i.padLeft(2,"0")}function i(n,t,i,r){i&&(i.length==8&&(i=i.substring(0,4)+"-"+i.substring(4,6)+"-"+i.substring(6,8)),i=i.indexOf("T")>-1?new Date(i).format("yyyy-MM-dd hh:mm").split(/-|\s|:/):i.split(/-|\s|:/),i.length==1?(i.push(""),i.push("")):i.length==2&&i.push(""),r?(n[t++].selectedValue=i[0].padLeft(2,"0").replace("0000",""),n[t++].selectedValue=i[1].padLeft(2,"0").replace("00",""),n[t++].value=i[2].padLeft(2,"0").replace("00","")):(n[t++].selectedValue=i[0].padLeft(2,"0"),n[t++].selectedValue=i[1].padLeft(2,"0"),n[t++].value=i[2].padLeft(2,"0")),(n.length==5||n.length==7||n.length==10)&&(n[t++].selectedValue=i[3].padLeft(2,"0"),n[t++].selectedValue=i[4].padLeft(2,"0")),n.length==7&&(n[t++].selectedValue=i[5].padLeft(2,"0"),n[t++].selectedValue=i[6].padLeft(2,"0")))}function y(t,i,r,u){r.length==8&&(r=r.substring(0,4)+"-"+r.substring(4,6)+"-"+r.substring(6,8));r=r.split(/-|\s|:/);d=null;n.controlType==="widget.date"?(t.data.length!=3&&(t.data=[{},{},{}]),d=t.data,e([d[0]],i,r[0]),o([d[1]],i,r[1].padLeft(2,"0")),u==2&&s([d[u]],i,r[2].padLeft(2,"0"))):n.controlType==="widget.date.time"?(t.data.length!=5&&(t.data=[{},{},{},{},{}]),d=t.data,e([d[0]],i,r[0]),o([d[1]],i,r[1].padLeft(2,"0")),u==2&&s([d[u]],i,r[2].padLeft(2,"0"))):n.controlType==="widget.date.timeRange"?(t.data.length!=7&&(t.data=[{},{},{},{},{},{},{}]),d=t.data,e([d[0]],i,r[0]),o([d[1]],i,r[1].padLeft(2,"0")),u==2&&s([d[u]],i,r[2].padLeft(2,"0"))):n.controlType==="widget.dualTime"?(t.data.length!=10&&(t.data=[{},{},{},{},{},{},{},{},{},{}]),d=t.data,e([d[0]],i,r[0]),o([d[1]],i,r[1].padLeft(2,"0")),u==2&&s([d[u]],i,r[2].padLeft(2,"0"))):(t.data.length!=6&&(t.data=[{},{},{},{},{},{}]),d=t.data,e([d[0],d[3]],i,r[0]),o([d[1],d[4]],i,r[1].padLeft(2,"0")),s([d[u]],i,r[2].padLeft(2,"0")))}function t(t,i){var r,e,u,f;for(a(n.data),i=$.isArray(i)?i:[i],r=0,e=i.length;r<e;r++)u=i[r],n.data[r]?n.data[r][t]=u:(f={},f[t]=u,n.data.push(f))}function a(n){n.length===0&&n.push({})}var n=null,l=[],r=new Date,it=r.getFullYear(),b=(r.getMonth()+1).toString().padLeft(2,"0"),v=r.getDate().toString().padLeft(2,"0"),k=r.addYears(1).getFullYear(),g=r.addYears(-2).getFullYear(),p=r.getHours(),w=r.getMinutes(),u=[g,b,v].join("-")+" "+[p,w].join(":"),h=[k,v,v].join("-")+" "+[p,w].join(":"),f={define:function(t,i,r,u,f,e){switch(t){case"widget.fileGroup":t="widget.combine.fileGroup";break;case"widget.button.dropdownList":t="widget.select.font";break;case"widget.select.exchangeType":e!="isCombine"&&(t="widget.combine.exchangeType");break;case"widget.select.exchangeType.inputCommon":e!="isCombine"&&(t="widget.combine.exchangeType.inputCommon");break;case"widget.button.loadSlip":t="widget.combine.loadSlip";break;case"widget.radio.paymentDate":t="widget.combine.paymentDate"}return n={controlType:t,id:i,name:r,subTitle:u,groupId:f,option:e,data:[]},ecount.control.lazyLoad(t),this},iconType:function(t){return n.iconType=t||undefined,this},setRecommendValue:function(t){var i;return _.isObject(t)?i={dataValue:t.value+"∬"+t.label,value:t.value,label:t.label}:n.controlType.indexOf("widget.select")===0?i=t:(n.controlType.indexOf("widget.input")===0||n.controlType.indexOf("widget.textarea")===0)&&(i={dataValue:t,label:t}),n.recommendValue=i,n.useRecommendOption=!0,this},resetRecommend:function(){return n.recommeqndValue={dataValue:"",label:""},n.useRecommendOption=!1,this},exchangeControlType:function(t){return n.controlType=t,ecount.control.lazyLoad(t),this},exchangeSubTitle:function(t){return n.subTitle=t,this},useHTML:function(){return n.useHTML=!0,this},setHtmlContent:function(t){return n.htmlContent=t,this},setHtmlContentWrap:function(t){return n.htmlContentWrap=t,this},setMappingDatas:function(t){return n.mappingDatas=t,this},setGridPagingInfo:function(t,i,r){return n._currentPage=t,n._pagePerRowCount=i,n._maxRowCount=r,this},setPagingInfo:function(t,i){return n._currentPage=t,n._totalPage=i,this},setPagingMoveHandler:function(t){return n.pagingMoveHandler=t,this},setOptions:function(t){return t=t||{},_.extend(n,t),this},getOptions:function(t,i){return i?t?n[t]:n:Object.clone(t?n[t]:n)},setContainsType:function(t){return n.controlType.indexOf("widget.combine")==-1&&n.controlType.indexOf("widget.custom")==-1&&$.isArray(t)&&(t=t[0]),(t||n.containsType)&&(n.containsType=t||n.containsType),this},popover:function(t,i,r){return n._popover={message:t,placement:i||"right",target:r},this},setUnordered:function(t){return t&&(n._unordered=t),this},tooltip:function(t,i){return n._tooltip={message:t,placement:i||"right"},this},setPlaceHolder:function(t){return n._placeHolder=t,this},setMultiple:function(t){return n._multiple=t,this},setErrorPlacement:function(t){return n._errPlacement=t,this},setLabelToggleButtonOptions:function(t){return n.labelToggleButtonType=t.type,n.labelToggleButtonData=t.data,this},splitError:function(t){return n._splitError=t,this},hasDropdown:function(t,i){return t&&(n.hasDropdown=!0,n.dropdownAdditionalOptions=i,n.ownDropdownOptions=t),this},useDropdownLayer:function(t){return _.isBoolean(t)?n.useDropdownLayer=t:_.isObject(t)&&(n.useDropdownLayer=t),this},isSetDropdownSize:function(t){return n.isSetDropdownSize=t,this},preventLayerOpenByHover:function(){return n.preventLayerOpenByHover=!0,this},hasFn:function(t,i){var r=i;return t&&(n.hasFn=!0,n.dropdownOptions=t),i&&(i.useSimpleSearch==!0&&(r=_.extend({useSimpleSearchEndDate:!1,useSimpleSearchSettingButton:!1,useDefaultSimpleSearchActive:!0},i)),n.fnOptions=r),this},extendFnOptions:function(t){return n.extendFnOptions=t,this},hasWrapperSet:function(t){return n.useWrapperSet=t,this},fnDirection:function(t){return t&&(n.direction=t),this},fnDynamicView:function(t){return n.fnDynamicView=t==undefined?!0:t,this},displayFnButton:function(t){return n.displayFnButton=t==undefined?!0:t,this},fnAlwaysShow:function(t){return n.fnAlwaysShow=t==undefined?!0:t,this},triggerChangeEventOnce:function(t){return n.triggerChangeEventOnce=t==undefined?!0:t,this},hasLayerList:function(t,i,r){return n._hasLayer=!0,n.useCheckboxLayer=t&&t.useCheckboxLayer?t.useCheckboxLayer:!1,typeof t=="object"&&t.title?(n._layerTitle=t.title,n._layerList=t.list,n._layerWidth=t.width,n._layerCss=t.css):(n._layerTitle=t,n._layerList=i,n._layerCss=r),ecount.layout.layerList._export&&(ecount.layout.layerList._export().create(),ecount.layout.layerList._export=null),this},layerListAutoPosition:function(t){return n._layerAutoPosition=n._layerPlacement||n._layerDirection||t!=!0?!1:!0,this},layerListPosition:function(t,i){return t&&(n._layerPlacement=t),i&&(n._layerDirection=i),this},addControlLayer:function(t){return n.items=t,this},addDragLayer:function(t){return t&&t.length>0&&(n.dragLayer=!0,n.layerList=t),this},addDragButtons:function(t){return t&&t.length>0&&(n.dragLayer=!0,n.dragButtons=t),this},addUnionData:function(t){return n.data=[{}],n.unionData=t,this},showBackground:function(t){return n.showBackground=t,this},setUnionWidth:function(t){return n.unionWidth=t,this},setController:function(t){return n._isController=!0,n._controllerOption=t,this},notUsingTitle:function(){return n.notUsingTitle=!0,this},setAddtionalData:function(t){return n._additionalData=t,this},setAdditionalData:function(t){return n._additionalData=t,this},setQuickLabelOptions:function(t){return n._quickLabelParams=t.quickLabelParams,this},addGroup:function(t){return n.dropdownOptions=t,this},from:function(t){return y(n,"to",t,2),this},to:function(t){return y(n,"from",t,5),this},addCode:function(t){return n.codes||(n.codes=[]),$.isArray(t)?n.codes=n.codes.concat(t):n.codes.push(t),this},useChangeEventPostpone:function(t){return n.isChangeEventPostpone=t||!0,this},request:function(t){return n.request=t,this},setDefault:function(t){return n.initOptions=t,this},defaultOptions:function(t){return n._defaultOptions=t,this},addSpace:function(){return this},addControl:function(t){var i;return n._controls||(n._controls=[]),i=t.end&&typeof t.end=="function"?t.end():t,i.data&&i.data.length>0&&i.data.forEach(function(t){t.pcid=n.id}),i._pcid=n.id,n._controls.push(i),this},getControlOption:function(t){return!(n.extractData&&n.extractData._controls)&&!n._controls?null:n.extractData?n.extractData._controls[t]:n._controls[t]},noInlineDivider:function(){return n._noInlineDivider=!0,this},label:function(i){var r=["widget.link","widget.link.icon"].filter(function(t){return t===n.controlType}).length>0;return r&&$.isArray(i)?(n.baseType=!0,n.data=i):((_.isUndefined(i)||_.isNil(i))&&(i=""),t("label",i)),this},checkBoxLabel:function(n){return t("num",n),this},colLabel:function(n){if(_.isArray(n)||(n=[n]),n.length<2)for(var i=n.length;i<2;i++)n.push("");return t("label",n),this},bgColor:function(n){return t("bgColor",n),this},value:function(n){return t("value",n),this},setCellViewMode:function(t){return n.cellViewMode=t||"widget",this},text:function(n){return t("text",n),this},readOnly:function(t){return n._readOnly=t===undefined?!0:typeof t=="boolean"||$.isArray(t)?t:!1,this},readOnlyByIndex:function(t){return $.isArray(t)||(t=[t]),n._readOnlyIndex=t,this},attrDisabled:function(t){return n.attrDisabled=$.isNull(t)?!0:t,this},isNotChangeWidth:function(t){return n.isNotChangeWidth=$.isNull(t)?!0:t,this},maxLength:function(t){return arguments.length==2?n.__checkMaxlength={total:arguments[0],message:arguments[1]}:n.maxLength=t,this},setPageSize:function(t){return n.pageSize=t,this},alignRight:function(){return n.alignRight=!0,this},preventShowErrorFirst:function(){return n.preventShowErrorFirst=!0,this},setFocusPopover:function(t){return $.isString(t)&&(n._focusPopover=!0,n._focusPopoverMsg=t),this},numericOnly:function(t,i,r,u,f){return arguments.length===1?(n.numericMsg=t,this):(n.numericOnly=!0,n.numericMsg=r||ecount.resource.MSG01396,i==undefined&&(i=i||ecount.common.number.defaultPointLength),t=t||ecount.common.number.defaultLength,n.numericRange=[t-i,i],n.numericPattern="",n._useNumericRequired=u,n._isPositiveInteger=f,this)},numericViewType:function(t,i){return n.numericViewType=!~_.indexOf(["round","ceil","floor"],t)?"round":t,n.numericViewKeepOrigin=_.isBoolean(i)?i:!0,this},setNumericOnlySeparator:function(t,i){return n._customSeparator=!0,n.THOU_SEPARATOR=t,n.DEC_SEPARATOR=i,this},equation:function(t){return n.equation=t,this},option:function(t){return a(n.data),n.data[0].option=$.isArray(t[0])?Array.prototype.slice.apply(arguments[0]):Array.prototype.slice.apply(arguments),this},moreOptionButton:function(t){return a(n.data),n.data[0].option=$.isArray(t[0])?Array.prototype.slice.apply(arguments[0]):Array.prototype.slice.apply(arguments),this},select:function(){var r=Array.prototype.slice.call(arguments),k=["widget.select.eTaxInvoiceType","widget.select.exchangeType","widget.select.foreignType","widget.select.inoutType","widget.select.taxType","widget.select.enoteCat","widget.select.ioType","widget.select.ioType.purchase","widget.select.ioType.sale","widget.select.adjustBalance","widget.select.currency","widget.select.ioType.inputCommon","widget.select.exchangeType.inputCommon","widget.select.exchangeType.selectCommon","widget.combine.exchangeType.inputCommon","widget.select.theme","widget.select.font"],v,s,y,l,c,p,w,b,o,f,a,e;if(n.controlType==="widget.date.label")return t("value",r[0]),this;if(n.controlType.indexOf("widget.multiDate")==0||n.controlType.indexOf("widget.dualDate")==0)return n.data.length==6?(n.data[0].to||this.from(u),n.data[0].from||this.to(h)):(n.data=[{},{},{},{},{},{}],this.from(u),this.to(h),r[0]===""&&(n.data[2].value=""),(r[1]===""||r[0]===""&&$.isNull(r[1]))&&(n.data[5].value="")),i(n.data,0,r[0]),i(n.data,3,r[1]),this;if(n.controlType.indexOf("widget.date.timeRange")==0)return r.length>0&&!["","--"].contains(r[0])&&(n.data.length!=7&&(n.data=[{},{},{},{},{},{},{}],this.from(u),this.to(h)),i(n.data,0,r[0])),this;if(n.controlType.indexOf("widget.date.time")==0)return r.length>0&&!["","--"].contains(r[0])&&(n.data.length!=5&&(n.data=[{},{},{},{},{}],this.from(u),this.to(h)),i(n.data,0,r[0])),this;if(n.controlType.indexOf("widget.date")==0)return(n._isDateSpace&&r[0].length>2||r.length>0&&!["","--"].contains(r[0])&&r[0]&&r[0].length>6)&&(n.data.length!=3?(n.data=[{},{},{}],this.from(u)):n.data[0].to||this.from(u),i(n.data,0,r[0],n._isDateSpace)),this;if(n.controlType.indexOf("widget.dualTime")==0)return r.length>0&&!["","--"].contains(r[0])&&(n.data.length!=5&&(n.data=[{},{},{},{},{},{},{},{},{},{}],this.from(u),this.to(h)),i(n.data,0,r[0]),i(n.data,5,r[1])),this;if(n.controlType==="widget.list.image"&&r.length>0){if(r=_.isArray(r[0])?r[0]:r,n.imageList&&_.isArray(n.imageList))for(o=0;o<n.imageList.length;o++)!~_.indexOf(r,n.imageList[o].value)||(n.imageList[o].checked=!0);return this}if(!~_.indexOf(["widget.checkbox","widget.checkbox.whole","widget.checkbox.noticeWay"],n.controlType)){if(n.controlType=="widget.checkbox.flipSwitch")return r[0]&&(n.data[0]?n.data[0].selected=!0:n.data[0]={selected:!0}),this}else{if(v=r,r.length==1&&_.isArray(r[0])&&r[0].length>1&&(v=r[0]),r.length>0)for(s=0,y=n.data.length;s<y;s++)for(l=n.data[s],c=0,p=v.length;c<p;c++)l.value==v[c]&&(l.selected=!0);else for(f=0,a=n.data.length;f<a;f++)e=n.data[f],e.value==r[0]&&(e.selected=!0);return this}if($.isEmpty(n.data)&&n.controlType!="widget.date.label"&&!k.contains(n.controlType))return this;if(n.data.length==0&&k.contains(n.controlType))return n._selectedValue=r[0],this;if(n.data[0].option)return n.data[0].selectedValue=r[0],this;if(r.length>1)for(s=0,y=n.data.length;s<y;s++)for(l=n.data[s],c=0,p=r.length;c<p;c++)l.value==r[c]&&(l.selected=!0);else if(n.controlType.indexOf("widget.radio")!=-1){for(w=[],b=!1,f=0,a=n.data.length;f<a;f++)e=n.data[f],e.value==r[0]?(e.selected=!0,b=!0):e.selected==!0&&w.push(n.data[f]);if(b)for(o=0;o<w.length;o++)delete w[o].selected}else for(f=0,a=n.data.length;f<a;f++)e=n.data[f],e.value==r[0]&&(e.selected=!0);return this},fixedSelect:function(t){return $.isArray(t)?n._fixedSelectedValue=t:_.isNil(t)||(n._fixedSelectedValue=Array.prototype.slice.call(arguments)),this},moreOptionButton:function(t){return $.isArray(t)&&(n.moreOptionButton=!0,n.moreOptionData=t),this},setDay:function(t){return n._setDaycallBack=t,this},setDataFilter:function(t){return n._dataFilter=t,this},setDateConverter:function(t){return n._dataFilter=t,this},setMonth:function(t){return n.month=t,this},setYear:function(t){return n.year=t,this},setDisableYear:function(){return n.disableControl="y",this},setDisableWeekend:function(t){return n.disableWeekend=t,this},setAnnouncement:function(){return n.announcement={},n.announcement.msg=arguments[0],n.announcement.css=arguments[1],this},setCalendarApiUrl:function(t){return n.calendarApiUrl=t,this},minimumDate:function(t,i){return n._minimumDate=t,n._minimumError=i,this},setYMM:function(){return n.onlyFirstYear=!0,this},setURL:function(n,i){return n&&t("url",n),i&&t("target",i),this},css:function(n){return n&&typeof n=="string"&&n.replace(/btn-group-select-inline/g,"").indexOf("select-inline")>-1&&(n=n.replace(/select-inline/g,"btn-group-select-inline")),t("css",n),this},addCss:function(t){return _.isArray(t)&&(t=t.join(" ")),n.addCss=ecount.convertor.uniqSumClass(t),this},removeCss:function(t){return n.addCss&&(n.addCss=ecount.convertor.removeClass(n.addCss,t)),this},wrapperCss:function(t){return n.wrapperCss=t,this},wrapperSetCss:function(t){return n.wrapperSetCss=t,this},labelCSS:function(n){return t("labelCSS",n),this},iconCSS:function(n){return t("iconCSS",n),this},noneFlex:function(t){return n.noneFlex=t!=!1,this},hide:function(t){return $.isNull(t)&&(t=!0),n.hidden=t,this},hideElement:function(t){return $.isArray(t)||(t=[t]),n._hiddenIndexList=t,this},setNotUseItemFold:function(t){return n.isNotUseItemFold=t===!1?!1:!0,this},setInvisible:function(){return n.invisible=!0,this},setInputMode:function(t){return n._inputmode=t,this},dataRules:function(t,i){return $.isArray(t)||(t=[t]),n.dataRules=t,n.dataRulesMsg=i,this},executeValidateIfVisible:function(){return n._executeValidateIfVisible=!0,this},permission:function(){return this.dataRules({permission:Array.prototype.slice.apply(arguments)}),this},delegator:function(t){return n.delegator=t,this},columns:function(){n.columns=[];for(var t=0,i=arguments.length;t<i;t++)n.columns.push({column:arguments[t]});return this},displayColumn:function(t){return n.displayColumn=t,this},smallSize:function(){return n._isSmall=!0,this},setEditorMode:function(t){return n.editorMode=t,this},setCanvasConfig:function(t){return n.canvasConfig=t,this},overRowMsg:function(t){return n.overRowMsg=t,this},handler:function(t){return n.__handler=t,this},setDefaultDateTab:function(t){return t?(n.useDefaultDateTab=!0,n.defaultDateTab=t):n.useDefaultDateTab=!1,this},groupHandler:function(t){return n.__groupHandler=t,this},codeType:function(t){return n.codeType=t,this},disableCacheOnAutocomplete:function(t){return n._disableCacheOnAutocomplete=t===!1?!1:!0,this},onTarget:function(t){return n._ontarget=t,this},hideButton:function(){return n.hideSearchButton=!0,this},filter:function(t,i){return n.__filter||(n.__filter=[]),n.__filter=n.__filter.filter(function(n){return n.type!=t}),n.__filter.push(_.extend({type:t},i||{})),this},prettyFilter:function(t){return n.__prettyFilter=_.uniqBy(_.concat(t,n.__prettyFilter||[]),"type"),this},enableLabel:function(){return n.disableLabelInput=!1,this},disabledInputbox:function(){return n.disabledInputbox=!0,this},dataRulesLabel:function(t,i){return $.isArray(t)||(t=[t]),n.dataRulesLabel=t,n.dataRulesLabelMsg=i,this},disableOptions:function(t){return n.disableItem=$.isArray(t)?t:$.makeArray(t),this},rowSize:function(t){return n.rowSize=t,this},maxBytes:function(t,i){return n.maxBytes=t,n.bytesMessage=i,this},flexible:function(t){return n.flexible=t,this},notLineAlignment:function(){return n._notLineAlignment=!0,this},useHtmlFormat:function(){return n._isUseHtmlFormate=!0,this},clickOnce:function(){return n._clickOnce=!0,this},setVertical:function(){return n.isVertical=!0,this},inline:function(){return n._inline=!0,this},setInlineIndex:function(t){return n.inlineIndex=t,this},setChangeStateFuncName:function(t){return n.changeStateFuncName=t,this},fixWidth:function(){return n._fixWidth=!0,this},multiLine:function(){return n._multiLine=!0,this},maxSelectCount:function(t){return n.checkMaxCount=t,this},dataFilter:function(t){return n._dataFilter=t,this},getInstance:function(){var n=this.end(),t=ecount.common.createNamespace(n.controlType);return new t(n)},tooltipDirection:function(t){return n.errorContainer=t,this},hideCheckbox:function(t){return n._hideCheckbox=t,this},dateFormat:function(t,i){return opt=[10,11,12,13,14,15],n._dateFormat=opt.contains(parseInt(t))?t:"10",n._customMsg=i,this},preventSync:function(){return n._preventSync=!0,this},noTimeSync:function(){return n.noTimeSync=!0,this},hideCell:function(t){return n.isHideCell=$.isEmpty(t)?!0:t,this},singleCell:function(){return n.isMultiCell=!1,n.cellSize=1,this},multiCell:function(t){return n.isMultiCell=!0,n.cellSize=t,this},hideCellTitle:function(){return n.hideCellTitle=!0,this},useSlipDate:function(t){return n._useSlip=t,this},useSpace:function(){return n._isSpace=!0,this},useDateSpace:function(){return n._isDateSpace=!0,this},ecDateFormat:function(t){return n.ecDateFormat=t,this},disableDateManualInput:function(t){return n.notUseManualInput=t===undefined?!0:t,this},useManualInput:function(t){return n.useManualInput=t===undefined?!0:t,this},selectMode:function(t){var i=t==="select"?"button":t;return n.mode=i===undefined?"button":i,this},showLayerInputMode:function(t){return n.showLayerInputMode=t===undefined?!0:t,this},enableDirectInput:function(t){return n._enableDirectInput=t==undefined?!0:t,this},overTooltip:function(t){return n._overTooltip=t==undefined?!0:t,this},setEditable:function(t){return n._editable=$.isBoolean(t)?t:!0,this},caretDropdown:function(t,i,r){return $.isNull(t)||$.isEmpty(t)||(n._caretDropdown=!0,n._caretDropdownList=t,n.onClickCaretDropdownList=i,n.onClickCaret=r),this},setOrder:function(t){return n._order=t===!1?"ul":"ol",this},addImage:function(t){n._imageList||(n._imageList=[]);n.imgItemCount||(n.imgItemCount=0);t=$.isArray(t)?t:[t];for(var i=0;len=t.length,i<len;i++)t[i].selIndex!=null&&n._imageList.push({imgItemKey:"ecImgKey_"+n.imgItemCount++,selIndex:t[i].selIndex,fileName:t[i].fileName,fileUrl:t[i].fileUrl,ID_FILE:t[i].ID_FILE,NO_FILE:t[i].NO_FILE,DT_CREATEKEY:t[i].DT_CREATEKEY,FS_OWNER_KEY:t[i].FS_OWNER_KEY,ATTACH_INFO:t[i].ATTACH_INFO,FILE_ID:t[i].FILE_ID});return this},attachHandler:function(t,i){return n._attachedHandlerOptions||(n._attachedHandlerOptions={}),n._attachedHandlerOptions[t]=i,this},usePassword:function(){return n.isPassword=!0,this},passwordLevel:function(t){return n.passwordLevel=t,this},hideDateControl:function(t,i){return n._hideDateControl=t==undefined?!1:t,n._hideCheckboxLabel=i,this},isHideDateOptionChecked:function(t){return n._isDateOptionChecked=t==undefined?!1:t,this},baseDateControlId:function(t){return n._baseDateControlId=t,this},hideDateIndividual:function(t){return n._hideDateIndividual=!0,n._callBack=t,this},hideDateButton:function(){return n._hideDateButton=!0,this},useAlertBaseYM:function(t){return n._alertBaseYM=t,this},userData:function(t){n._cdata||(n._cdata=[]);t=$.isArray(t)?t:[t];for(var i=0;len=t.length,i<len;i++)n._cdata.push(t[i]);return this},addItem:function(t){return n.data||(n.data=[]),n.data.push(t),this},setBoardData:function(t){return n.data=t,this},setMiniStyle:function(){return n.miniStyle=!0,this},setMenuStyle:function(){return n.menuStyle=!0,this},setBorderShow:function(t){return n.isShowBorder=t,this},setAddonText:function(t){return n.addonText=t,this},setCalcList:function(t,i,r,u,f,e,o,s,h,c){var l=Array.prototype.slice.apply(arguments);return n.data||(n.data=[]),n.data.length==0&&n.data.push({}),l.length==1&&_.isObject(l[0])&&(t=l[0].codes,i=l[0].logics,r=l[0].comparisons,u=l[0].calcs,f=l[0].bracketFunction,e=l[0].bracket,o=l[0].joinString,s=l[0].inCodes,h=l[0].comma,c=l[0].commaBracketFunction),n.data[0].codes=t,o?(n.data[0].joinString=o,n._isJoinString=!0):(n.data[0].logics=i,n.data[0].comparisons=r,n.data[0].calcs=u,n.data[0].bracketFunction=f,n.data[0].bracket=e,n.data[0].inCodes=s,n.data[0].comma=h,n.data[0].commaBracketFunction=c),this},setCalcData:function(t,i){return n.data||(n.data=[]),n.data.length==0&&n.data.push({}),n.data[0].calcSql=t,n.data[0].calcGubun=i,this},setNumberCalcIds:function(t){return n.data||(n.data=[]),n.data.length==0&&n.data.push({}),n.data[0].numberCalcIds=t,this},nextSlipOptions:function(t){return n.slipType=t.slipType||"",n.slipParam=t.param||{},this},setDualType:function(t){return n.dualMode=!0,n.dualModeMaster=!0,n.dualPageType=t,this},setDualTypeAdditionalInitData:function(t,i){return n.additionalInitData={initDataType:t,additionalInitDataControlType:i},this},setInlineMode:function(t){return t&&_.isArray(t.inlineModeList)&&(n.inlineModeList=t.inlineModeList,n.fixedMode=t.fixedMode,n.activeInlineMode=t.activeInlineMode||t.inlineModeList[0].mode,n.showLayerFocusIn=t.showLayerFocusIn===!0?!0:!1),this},setScoreboxId:function(n){return t("subItemId",n),this},setHideScorebox:function(n){return t("hideData",n==undefined?!1:n),this},setScoreboxOptions:function(t){return n.data=t,this},useActiveMode:function(t){return n._useActiveMode=t&&Boolean(t)?t:!0,this},scoreboxSubItem:function(n){return t("subItem",n),this},noReplacement:function(){return n._noReplacement=!0,this},loadSlipOption:function(t){return n._loadSlipOption=t,this},addSubTitleLink:function(t,i,r,u,f){return n.subTitleLink=t,n.subLinkID=i,n.subLinkCss=r,n.subLinkButton=u,n.subLinkDropdown=f,this},setTitleLink:function(t){return n.titleLink=!0,n.titleLinkID=t,this},wholeRow:function(t){return n.isWholeRow=t!==!1,this},setSelectType:function(t){return n._selectType=t,this},setObserveHandler:function(t){return n.OBSERVE_CHANGE_STATE=t,this},serializeCustomizer:function(t){return n._serializeCustomizer=t,this},serializeAdditionalDataCustomizer:function(t){return n._serializeAdditionalDataCustomizer=t,this},noSerialize:function(){return n.noSerialize=!0,this},showZeroInPoint:function(t){return n._showZeroInPoint=t,this},showValueZero:function(t){return n._showValueZero=t,this},setGridID:function(t){return n._gridID=t,this},setTitle:function(t){return n._title=t,this},setAddonTitle:function(t,i){return n._addonTitle=t,i&&(n._addonTitleOption=i),this},setNationalFlag:function(t){return n.nationalFlagOptions=_.merge({nationalCode:_.lowerCase(ecount.company.STATE_CODE),isDisplay:!0,isMyCountryHidden:!0,isFnOption:!1,isFnUseOnReadOnly:!1},n.nationalFlagOptions,t),this},setAddonPopover:function(t){return Object.keys(t).length<1&&(t.content=""),n.addonPopoverOptions=t,this},setItemExcepted:function(t){return $.isNull(t)&&(t=!1),n.itemExcepted={},n.itemExcepted.display=t,this},setName:function(t){return n._originName||(n._originName=n.name),n.name=t,this},setId:function(t){return n._originId||(n._originId=n.id),n.id=t,this},setAddonOptions:function(t){return n._addonOptions=t,this},setDataAPIUrl:function(t){return $.isString(t)&&(n._dataApiUrl=t),this},setParameters:function(t){return n._params={},_.extend(n._params,t),this},setDataColumns:function(t){return $.isArray(t)||(t=[t]),n._columns=t,this},setListViewItems:function(t){return $.isArray(t)||(t=[t]),n._listViewItems=t,this},setCustomDataCell:function(t,i){return n._customDataCell==undefined&&(n._customDataCell={}),n._customDataCell[t]=i,this},isCollapseAllChildrenMenus:function(){return n._isCollapseAllChildrenMenus=!0,this},setItemTitleTemplate:function(t){return n._itemTitleTemplate=$.isString(t)?t:"",this},setItemDescriptionTemplate:function(t){return n._itemDescriptionTemplate=$.isString(t)?t:"",this},setDataItems:function(t){return $.isArray(t)||(t=[t]),n._dataItems=t,this},setHideAnchor:function(){return n._isShowAnchor=!1,this},isShowPaging:function(t){return Boolean(t)===!0&&(n._isShowPaging=!0),this},isUseViewMoreLogic:function(t){return Boolean(t)===!0&&(n._isUseViewMoreLogic=!0),this},setCallbackFunction:function(t){return t!=undefined&&typeof t=="function"&&(n._callback=t),this},setfileGroupCallback:function(t){return n._fileGroupCallback=t,this},setActivedIndexes:function(t){return $.isArray(t)||(t=[t]),n._activedIndexes=t,this},setLanType:function(t){return n._lanType=t,this},setSelectedIndexes:function(t){return $.isArray(t)||(t=[t]),n._selectedIndexes=t,this},setSearchList:function(t){return $.isArray(t)||(t=[t]),n.searchList=t,this},setSimpleSearchConfig:function(t){return n.simpleSearchConfig=t||null,this},setRemoveCalcFromFN:function(){return n.isRemoveCalcFromFN=!0,this},setCustomInitData:function(t){return n.customInitData=t||null,this},setCutInControlsTag:function(t){return $.isArray(t)||(t=[t]),n.cutInControlsTag=t,this},isIoTypeAllList:function(){n.isAllListView=!0},isNotEditorImage:function(){n._isNotEditorImage=!0},isSimpleImageUpload:function(){return n.isSimpleImageUpload=!0,this},setEditorToolbarButton:function(t,i,r){return n._toolbarBtnOptions={toolbarBtnLabel:t,toolbarBtnCss:i,toolbarBtnClickCallBack:r},this},hasWrapper:function(t){return n._hasWrapper=t!==!1,this},subLabel:function(t){return $.isString(t)&&t.length>0&&(n.subLabel=t),this},initGeneratorOptions:function(t,i){return n._initGeneratorOptions=n._initGeneratorOptions||{},n._initGeneratorOptions[t]=i,this},initSubOptions:function(t,i){return $.isNull(n._subOptions)&&(n._subOptions={}),$.isArray(i)||(i=[i]),n._subOptions[t]=i,this},addFile:function(t){n._fileList||(n._fileList=[]);t=$.isArray(t)?t:[t];for(var i=0;len=t.length,i<len;i++)_.extend(n._fileList,t);return this},thisYearOnly:function(){return n._onlyThisYear=!0,this},hideDateButton:function(){return n._hideDateButton=!0,this},isNoMoveFormset:function(){return n._isNoMoveFormset=!0,this},topBottomType:function(t){return n._viewType=t,this},isSerializeByAll:function(){return n._serializeByAll=!0,this},isSquare:function(){return n._isSquare=!0,this},isNoLabel:function(){return n._isNoLabel=!0,this},setDate:function(t,i){return n.controlType.contains("widget.combine",!0)&&(n.dates||(n.dates=[]),n.dates.push([t,i])),this},setGridViewEmpty:function(t){return n.setGridViewEmpty=t,this},isUserNameSet:function(){return n._isUserNameSet=!0,this},setBarcodeInfo:function(t){return n._objInfo=t,this},isCheckCodeTypeCheckBox:function(t){return n.isCheckCodeTypeCheckBox=t||!1,this},setMouseHoverTime:function(t,i){return n.mouseHoverInTime=t,n.mouseHoverOutTime=i,this},hideRow:function(){return n._hideRow=!0,this},setMenuData:function(t){return n._menuData=t,this},setResizable:function(t){return n.resizable=t,this},setInlineStyle:function(t){return n.inlineStyle=t,this},setFileFilter:function(t){return n._fileFilter=t,this},setGroups:function(){$.isArray(n._groupList)||(n._groupList=[]);for(var t=0;t<arguments.length;t++)n._groupList.push(arguments[t]);return this},setGroupFiles:function(){$.isArray(n._fileList)||(n._fileList=[]);for(var t=0;t<arguments.length;t++)n._fileList.push(arguments[t]);return this},setMaxCount:function(){$.isArray(n._maxCountList)||(n._maxCountList=[]);for(var t=0;t<arguments.length;t++)n._maxCountList.push(arguments[t]);return this},setReferenceConfig:function(t,i,r){return $.isArray(n._referenceConfigs)||(n._referenceConfigs=[]),n._referenceConfigs.push([t,i,r]),this},setMystorageConfig:function(t,i,r){return n._mystorageConfig={groupId:t,gwPermission:i,isViewMode:r===!0},this},setUploaderConfig:function(t,i){return $.isArray(n._uploaderConfigs)||(n._uploaderConfigs=[]),n._uploaderConfigs.push([t,i]),this},setNewFileStorageConfig:function(t,i){return $.isArray(n._newFileStorageConfigs)||(n._newFileStorageConfigs=[]),n._newFileStorageConfigs.push([t,i]),this},setMassStorageConfig:function(t,i){return $.isArray(n._massStorageConfigs)||(n._massStorageConfigs=[]),n._massStorageConfigs.push([t,i]),this},setMultiDataRules:function(){$.isArray(n._dataRules)||(n._dataRules=[]);for(var t=0;t<arguments.length;t++)n._dataRules.push(arguments[t]);return this},setCalendarTypeValue:function(t){return n._calendarTypeValue=t,this},canHoldItemState:function(t,i){return n.stateLevels=$.isArray(t)?t:[1],i==!0&&(n.hasMultiItemState=!0),n.canHoldItemState=!0,this},useUnloadEventCallback:function(){return n._useUnloadEventCallback=!0,this},setBeforeAddCodeCallback:function(t){return n._beforeAddCodeCallback=t,this},useCodeMode:function(t){return n._isUseCodeMode=$.isNull(t)?!0:t,this},hasLabelMode:function(t){return n.hasLabelMode=$.isNull(t)?!0:t,this},codeModeDefaultValue:function(t){return n._modeDefaultValue=t,this},enableCustomDualControl:function(t){return t===undefined&&(t={}),n.isCustomDualControl=!0,n.dualMode=!0,n.dualModeMaster=!0,n.useIndividual=$.isNull(t.useIndividual)?!0:t.useIndividual,this},enableSerialzeOnVisible:function(){return n.enableSerialzeOnVisible=!0,this},addDualControls:function(t){return n.dualControls||(n.dualControls=[]),typeof t.end=="function"&&(t=t.end()),t.isCustomDualControl=!0,t.isCustomDualAddedControl=!0,delete t.__type,n.dualControls.push(t),this},includeDualMaster:function(){return n.includeDualMaster=!0,this},disableIndividual:function(){return n.disableIndividual=!0,this},setDualLabel:function(t){return n.dualLabel=t,this},notUseHolidayConfig:function(){return n.notUseHolidayConfig=!0,this},withDivider:function(t){return n._withDivider=!0,n._dividerDirection=t||"right",this},minimalize:function(t,i){return n._minimalize={maxLen:t||50,suffixLen:i||0},this},setClickSlipMenu:function(t,i){return t=$.isArray(t)?t:[t],n._clickSlipMenu=!0,n._clickSlipMenuData=Array.prototype.slice.call(t),i&&(n._clickSlipMenuID=i),this},useSafeEscape:function(){return n._useSafeEscape=!0,this},compile:function(t,i){return i=Array.prototype.slice.call(arguments[1]),$.isNull(n.compileOption)&&(n.compileOption={}),$.isNull(n.compileOption[t])&&(n.compileOption[t]=[]),n.compileOption[t].push(i),this},setCompileOption:function(n,t){var u=widget.compiler.deCompile(n,t),i,r,f;for(i in u)for(r=0,f=u[i].length;r<f;r++)this[i].apply(this,u[i][r]);return this},notAllowDropdownShow:function(){return n._isNotAllowDropdownShow=!0,this},setHeight:function(t){return n._heightSize=t,this},style:function(t){var i=[];for(var r in t)i.push(r+":"+t[r]);return n.style=i.join(";")+";",this},noActionBtn:function(){return n.noActionBtn=!0,n.fixedDropdown=!0,this},setButtonArrowDirection:function(t){switch(t){case"up":n.buttonArrowDirection="up";break;case"down":n.buttonArrowDirection="down"}return this},setButtonPrimary:function(t){return n.isPrimary=t===!0?!0:!1,this},setButtonShortcut:function(t){return n.shortcut=t,this},reset:function(){n=null;l=[]},setExtendOptions:function(t){return $.isNull(t)?this:(n.extendOptions||(n.extendOptions=[]),_.isArray(t)||(t=[t]),n.extendOptions=n.extendOptions.concat(t),this)},end:function(){if(n.data)for(var t=0,i=n.data.length;t<i;t++)n.data[t].cid=n.id;return n.__type=widget.generator.CONTROL,n},setGroup:function(t){return n._group=t,this},setTreeAll:function(){return n._treeAll=!0,this},setTreeParent:function(t,i){return n._treeParent=t,n._treeType=i||"normal",this},setTreeChildren:function(t){return n._treeChildren=t,this},setToggleHeader:function(t){return n._toggleHeader=t,this},setTreeNewTable:function(){return n._treeNewTable=!0,this},setTreeOpen:function(){return n._treeOpen=!0,this},setTreeClose:function(){return n._treeOpen=!1,this},setIndent:function(){return n._treeIndent=!0,this},notArrow:function(){return n._notArrow=!0,this},hasArrow:function(t){return n.childComps||(n.childComps={}),n.childComps.arrow=t===null?null:t===!0?!0:!1,this},hasCheckbox:function(t){return n.childComps||(n.childComps={}),n.childComps.checkbox=t===null?null:t===!0?!0:!1,this},hasBookmark:function(t){return n.childComps||(n.childComps={}),n.childComps.bookmark=t===null?null:t===!0?!0:!1,this},hasFolder:function(t){return n.childComps||(n.childComps={}),n.childComps.folder=t===null?null:t===!0?!0:!1,this},hasLink:function(){return n.childComps||(n.childComps={}),n.childComps.link=!0,this},useServerDefaultDateParam:function(t){return n._isUsingServerDateParam=$.isNull(t)?!0:t,this},GMCrequest:function(t){return n.GMCrequest=t,this},minCount:function(t,i){return n._minCount=t,n._minCountErrMsg=i,this},limitCount:function(t){return n._limitCount=t,this},maxDepth:function(t){return n._max_depth=t,this},contextmenu:function(t){return n._contextmenu=t,this},show_at_node:function(t){return n._show_at_node=t,this},add:function(t){return n.items.push(t.end()),this},initData:function(t){return n._initData=t,this},addRoot:function(t){return n._addRoot=t,this},setContextMenuResx:function(t){return n._contextMenuResx=t,this},setRootContextMenu:function(t){return n._rootContextMenu=t,this},setNodeTypes:function(t){return n._nodeTypes=t,this},GMCrequest:function(t){return n.GMCrequest=t,this},minCount:function(t,i){return n._minCount=t,n._minCountErrMsg=i,this},limitCount:function(t){return n._limitCount=t,this},maxDepth:function(t){return n._max_depth=t,this},contextmenu:function(t){return n._contextmenu=t,this},show_at_node:function(t){return n._show_at_node=t,this},add:function(t){return n.items.push(t.end()),this},initData:function(t){return n._initData=t,this},addRoot:function(t){return n._addRoot=t,this},setContextMenuResx:function(t){return n._contextMenuResx=t,this},setNodeTypes:function(t){return n._nodeTypes=t,this},setCommand:function(t){return n._makeCommand=t,this},thSubTitle:function(t){return n.thSubTitle=t,this},useFocusHandler:function(){return n.useFocusHandler=!0,this},setOverrideFunc:function(t){return n._overrideFunc=_.merge({},n._overrideFunc,t),this}};for(var c in f)c!="compile"&&Object.prototype.hasOwnProperty.call(f,c)&&(f[c]=function(){var t=f[c],n=c;return function(){return["define","reset","end","from","to","setCompileOption"].contains(n)||f.compile(n,arguments),t.apply(f,arguments)}}());return f}()},cell:function(n){function u(n){t.className.indexOf(n)<0&&t.className.push(n)}function f(n){var i=t.className.indexOf(n);i>-1&&t.className.splice(i,1)}function e(n){var i,t,r;return t=n.end&&typeof n.end=="function"?n.end():n,t=_.extend({},t),t.isDummyControl=!0,ecount.control.cachedDummyControl[t.controlType]?(i=ecount.control.cachedDummyControl[t.controlType],i.init(t)):(r=ecount.common.createNamespace(t.controlType),i=new r(t),i.createView(),ecount.control.cachedDummyControl[t.controlType]=i),i.getComposedDomString()}function o(){var t,n,r;if(!i||!i.length)return"";for(t=[],n=0,r=i.length;n<r;n++)t.push(e(i[n]));return t.join("\n")}var t,r,i;return{init:function(){return this.reset(),this},setControlOptions:function(n){return _.extend(r,n),this},reset:function(){return t={style:{},className:[],attr:{},tag:"",cell:{data:""},tooltip:{use:!1},popover:{use:!1}},r=_.extend({},n),i=[],this},serialize:function(){var n=t;return n.cell.data=o(),n},style:function(n){return typeof n=="object"&&_.extend(t.style,n),this},css:function(n){var r,t,i;if($.isArray(n))for(t=0,i=n.length;t<i;t++)u(n[t]);else if(typeof n=="string")for(r=n.split(" "),t=0,i=r.length;t<i;t++)u(r[t]);return this},removeCss:function(n){var r,t,i;if($.isArray(n))for(t=0,i=n.length;t<i;t++)f(n[t]);else if(typeof n=="string")for(r=n.split(" "),t=0,i=r.length;t<i;t++)f(r[t]);return this},attr:function(n){return typeof n=="object"&&_.extend(t.attr,n),this},tag:function(n){return t.tag=n,this},useTooltip:function(n){return arguments.length?(t.tooltip.use=n,this):(t.tooltip.use=!0,this)},usePopover:function(n){return arguments.length?(t.popover.use=n,this):(t.popover.use=!0,this)},addControl:function(n){var t=n;return i.push(t),this},getControlDefaultOption:function(){return _.extend({},r)},getControlAll:function(){return i.slice(0)},getControlByIndex:function(n){return i[n]},getControlById:function(n){return i.find(function(t){return t.id==n})}}},column:function(){return function(){var n={columnItems:{},fOptions:{},buttonList:{},forceRefreshFooter:!1,maxColSize:0,items:[]};return{createColumn:function(){return ecount.layout.column._export&&(ecount.layout.column._export().create(),ecount.layout.column._export=null),this},cols:function(t){n.columns||(n.columns=[]);t=$.isArray(t)?t:[t];for(var i=0;len=t.length,i<len;i++)n.columns.push(t[i]);return this},setFixedColumnIndex:function(t,i){return n.fixedColumnIndex=t,n.fixedColumnHeight=i||500,this},addItem:function(t){return n.items||(n.items=[]),n.items.push(t.end?t.end():t),this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i||widget.generator.grid(),f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},setOptions:function(t){return _.extend(n,t),this},end:function(){return _.extend({__type:n.__type||widget.generator.COLUMN},n)}}}()},tree:function(){ecount.layout.tree._export&&(ecount.layout.tree._export().create(),ecount.layout.tree._export=null);var n={request:null};return{setOptions:function(t){return _.extend(n,t),this},setId:function(t){return n.tid=t,this},request:function(t){return n.request=t,this},GMCrequest:function(t){return n.GMCrequest=t,this},minCount:function(t,i){return n._minCount=t,n._minCountErrMsg=i,this},limitCount:function(t){return n._limitCount=t,this},maxDepth:function(t){return n._max_depth=t,this},contextmenu:function(t){return n._contextmenu=t,this},show_at_node:function(t){return n._show_at_node=t,this},add:function(t){return n.items.push(t.end?t.end():t),this},initData:function(t){return n._initData=t,this},hideCheckbox:function(t){return n._hideCheckbox=t,this},addRoot:function(t){return n._addRoot=t,this},setContextMenuResx:function(t){return n._contextMenuResx=t,this},setRootContextMenu:function(t){return n._rootContextMenu=t,this},setNodeTypes:function(t){return n._nodeTypes=t,this},end:function(){return n.__type=widget.generator.TREE,n}}},fileList:function(){ecount.layout.fileList._export&&(ecount.layout.fileList._export().create(),ecount.layout.fileList._export=null);var n={};return{fileLinkId:function(t){return n._fileLinkId=t||"fileUpload",this},addFile:function(t){n._fileList||(n._fileList=[]);t=$.isArray(t)?t:[t];for(var i=0;len=t.length,i<len;i++)_.extend(n._fileList,t);return this},callBack:function(t){return n._callBack=t,this},setOptions:function(t){return t=t||{},_.extend(n,t),this},useNewFilestorage:function(t){return n._newFilestorage=!0,n.storageHostNumber=t,this},setFilestorageLocation:function(t,i){return n.collection=t,n.partition=i,this},setOwnerKey:function(t){return n._ownerKey=t,this},setTmpFileLifeTime:function(t){return n._tmpFileLifeTime=t,this},setFileUpComCode:function(t){return n.fileUpComCode=t,this},setMultipartParams:function(t){return n._multipartParams=t,this},end:function(){return n.__type=widget.generator.FILELIST,n}}},attachFileList:function(){return ecount.layout.attachFileList._export&&(ecount.layout.attachFileList._export().create(),ecount.layout.attachFileList._export=null),function(){var n={};return{setId:function(t){return n.id=t,this},seAttachFileList:function(t){return n.attachFileList=t,this},end:function(){return n.__type=widget.generator.ATTACHFILELIST,n}}}()},printContent:function(){return function(){var n={_html:null,hidden:!1};return{add:function(t,i,r){return r&&(n.hidden=r),n._html=i,this},setOptions:function(t){return t=t||{},_.extend(n,t),this},end:function(){return n.__type=widget.generator.PRINTCONTENT,n}}}()},scoreBox:function(){return function(){var n={_items:[],hidden:!1};return{add:function(t,i){return n.option=i,n._items.push(t),this},handler:function(t){return n.__handler=t,this},end:function(){return n.__type=widget.generator.SCOREBOX,n}}}()},boardView:function(){return ecount.layout.boardView._export&&(ecount.layout.boardView._export().create(),ecount.layout.boardView._export=null),function(){var n={data:[]};return{setData:function(t){return n.data=t,this},setCollapseList:function(t){return $.isArray(t)&&t.length>0&&(n._collapseList=t),this},setEditable:function(t){return n._editable=$.isBoolean(t)?t:!0,this},syncOverflowedSize:function(t){return n._syncOverflowedSize=t,this},isOnlyDownload:function(t){return t&&(n._onlyDownloadTarget=t),this},hideDescription:function(t){return n._hideDescription=!!t,this},end:function(){return n.__type=widget.generator.BOARDVIEW,n}}}()},boardListView:function(){return ecount.layout.boardListView._export&&(ecount.layout.boardListView._export().create(),ecount.layout.boardListView._export=null),function(){var n={data:[]};return{setData:function(t){return n.data=t,this},setOpenDefault:function(t){return n.openDefault=t===!1?!1:!0,this},end:function(){return n.__type=widget.generator.BOARDLISTVIEW,n}}}()},settingPanelContainer:function(){return ecount.layout.settingPanelContainer._export&&(ecount.layout.settingPanelContainer._export().create(),ecount.layout.settingPanelContainer._export=null),function(){var n={items:[]};return{header:function(t){return n.header=t,this},footer:function(t){return n.footer=t,this},setAlign:function(t){return n._align=t,this},add:function(t){return n.items.push(t.end?t.end():t),this},setText:function(t){return n._text=t,this},item:function(t){return n.item=t,this},addGrid:function(t,i,r,u){var f={};return f.id=t,f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n.items.push(f),this},addToolbar:function(t){var i=t.end?t.end():t;return i.containerName=widget.generator.HEADER,n.toolbarOptionsList||(n.toolbarOptionsList=[]),n.items.push(i),this},setId:function(t){return n.id=t,this},css:function(t){return n.css=t,this},setOptions:function(t){return _.extend(n,t||{}),this},width:function(t){return n._width=t,this},end:function(){return n.__type=widget.generator.SETTINGPANELCONTAINER,n}}}()},ep:function(){ecount.layout.ep._export&&(ecount.layout.ep._export().create(),ecount.layout.ep._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},end:function(){return n.__type=widget.generator.EP,n}}},drawingPaperCell:function(){return function(){var n={__version:1,tagName:"td"};return{define:function(i){var r=this;return n.tagName=i,t(r,n,{tagName:function(t){return n.tagName=t,this}})},setVersion:function(t){return n.__version=t,this},end:function(){if(n.__version===void 0)throw new Error("version 정보가 설정되지 않았습니다.");return n.__type=widget.generator.DRAWINGPAPERCELL,n}}}()},drawingPaperControl:function(){return function(){var n={__version:1};return{define:function(i){var r=this;return function(){switch(i){case"text":return t(r,n);case"label":return t(r,n)}}()},end:function(){if(n.__version===void 0)throw new Error("version 정보가 설정되지 않았습니다.");return n.__type=widget.generator.DRAWINGPAPERCONTROL,n},setVersion:function(t){return n.__version=t,this}}}()},cloud:function(){ecount.layout.cloud._export&&(ecount.layout.cloud._export().create(),ecount.layout.cloud._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},addMenuPanel:function(t){return n._menuPanel||(n._menuPanel={items:[]}),n._menuPanel.items.push(t.end?t.end():t),this},setUploaderConfig:function(t,i){return $.isArray(n._uploaderConfigs)||(n._uploaderConfigs=[]),n._uploaderConfigs.push([t,i]),this},setNewFileStorageConfig:function(t,i){return $.isArray(n._newFileStorageConfigs)||(n._newFileStorageConfigs=[]),n._newFileStorageConfigs.push([t,i]),this},addFilePanel:function(t){return n._filePanel||(n._filePanel={items:[]}),n._filePanel.items.push(t.end?t.end():t),this},changeStateHandler:function(t){return _.isFunction(t)&&(n.changeStateHandler=t),this},uploadCompleteHandler:function(t,i){return _.isFunction(t)&&(n.uploadCompleteHandler=t),n.completeTimeout=i,this},uploadErrorHandler:function(t){return _.isFunction(t)&&(n.uploadErrorHandler=t),this},beforeUploadHandler:function(t){return _.isFunction(t)&&(n.beforeUploadHandler=t),this},addGrid:function(t,i,r,u){n._filePanel||(n._filePanel={items:[]});var f={};return f.id=t,f.settings=i||widget.generator.grid(),f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n._filePanel.items.push(f),this},end:function(){return n.__type=widget.generator.CLOUD,n}}},report:function(){function i(t){var i=$.makeArray(t);i.length!==0&&i.forEach(function(t){n.dependencies[t]=!0})}function t(n,t){var i=t.end?t.end():t;n.push(i);r(i)}function r(n){n&&u(n)}function u(n){if(n&&n.paste&&n.paste.image&&n.paste.image.use===!0)try{i(ecount.report.lib.imageUploader.getDependencies())}catch(t){}return}ecount.layout.report._export&&(ecount.layout.report._export().create(),ecount.layout.report._export=null);var n={items:[],dependencies:{}};return{addTop:function(i){return n._top||(n._top={items:[]}),t(n._top.items,i),this},addHeader:function(i){return n._header||(n._header={items:[]}),t(n._header.items,i),this},addBody:function(i){return n._body||(n._body={items:[]}),t(n._body.items,i),this},addGrid:function(t,i,r,u){n._body||(n._body={items:[]});var f={};return f.id=t,f.settings=i,f.containerName=widget.generator.CONTENTS,f.__type=widget.generator.GRID,n.tabId&&(f.tabId=n.tabId),f.settings.__ecGridHidden=r===!1,f.settings.__layoutSettings=u,n._body.items.push(f),this},addFooter:function(i){return n._footer||(n._footer={items:[]}),t(n._footer.items,i),this},addBottom:function(i){return n._bottom||(n._bottom={items:[]}),t(n._bottom.items,i),this},addItem:function(i){return t(n.items,i),this},setMarginData:function(t){return n.marginData=t||{},this},setGridGuideData:function(t){return n.gridGuideData=t||{},this},setWidth:function(t){return n.width=t||0,this},setViewAreaGuide:function(t){return n.viewAreaGuide=t||!1,this},setPaperStyle:function(t){return n.paperStyle=t,this},setCanDragMarginGuideLine:function(t){return n.canDragMarginGuideLine=t,this},validateMarginGuideLine:function(t){return n.validateMarginGuideLine=t,this},useMarginGuideLine:function(t){return n.useMarginGuideLine=t,this},isCustomReport:function(){return n.isCustomReport=!0,this},isHideHeader:function(t){return n.isHideHeader=t||!1,this},isHideFooter:function(t){return n.isHideFooter=t||!1,this},setMappingDataCollection:function(t){return n.mappingDataCollection=t,this},setClipboard:function(t){return n.clipboard=t,this},addCss:function(t){return _.isArray(t)&&(t=t.join(" ")),n.css=ecount.convertor.uniqSumClass(n.css,t),this},addStyle:function(t){return n.addStyle=t,this},addWrapperCss:function(t){return _.isArray(t)&&(t=t.join(" ")),n.wrapperCss=ecount.convertor.uniqSumClass(n.wrapperCss,t),this},useResizeHandle:function(t){return n.useResizeHandle=t,this},setScrollContainerSelector:function(t){return n.scrollContainerSelector=t,this},setBottomSpare:function(t){return n.bottomSpare=t,this},isHidePaper:function(t){return n.isHidePaper=t,this},end:function(){return n.__type=widget.generator.REPORT,n.dependencyList=Object.keys(n.dependencies),delete n.dependencies,n}}},reportContainer:function(){ecount.layout.reportContainer._export&&(ecount.layout.reportContainer._export().create(),ecount.layout.reportContainer._export=null);var n={items:[]};return{addSettingPanel:function(t){n._settingPanel||(n._settingPanel={});n._settingPanel.items||(n._settingPanel.items=[]);var i=t.end?t.end():t;return i.containerName=widget.generator.CONTENTS,n.tabId&&(i.tabId=n.tabId),n._settingPanel.items.push(i),this},addPanel:function(t){n._panel||(n._panel={});n._panel.items||(n._panel.items=[]);var i=t.end();return i.containerName=widget.generator.CONTENTS,n.tabId&&(i.tabId=n.tabId),n._panel.items.push(i),this},end:function(){return n.__type=widget.generator.REPORTCONTAINER,n}}},crop:function(){ecount.layout.crop._export&&(ecount.layout.crop._export().create(),ecount.layout.crop._export=null);var n={items:[]};return{setOptions:function(t){return _.merge(n,t),this},end:function(){return n.__type=widget.generator.CROP,n}}},canvasEditorContainer:function(){ecount.layout.canvasEditorContainer._export&&(ecount.layout.canvasEditorContainer._export().create(),ecount.layout.canvasEditorContainer._export=null);var n={items:[]};return{add:function(t){return n.items.push(t.end?t.end():t),this},drawingPaperId:function(t){return n.drawingPaperId=t,this},end:function(){return n.__type=widget.generator.CANVASEDITORCONTAINER,n}}},drawingPaper:function(){return function(){var n={id:"",mode:"edit",inputMode:"view&edit",isAdjustOutline:!1,css:"ec-canvas unselectable",style:{},content:"",shape:{table:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}},rectangle:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}},textbox:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}},verticalline:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}},horizontalline:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}},image:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}},sign:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}},checkbox:{use:!1,selectable:{use:!0},moveable:{use:!0},resizable:{use:!0}}},smartguide:{use:!1},contextmenu:{use:!1},mappingData:{use:!0},paste:{use:!0,image:{use:!0}},userData:{style:{},attr:{},font:{}},useFreeHeight:!1,useDefaultBox:!1,useNotEditableBox:{id:"",use:!1},useOuterPasteData:!0,boundaryLimit:{left:!1,right:!1,top:!1,bottom:!1},isValidTarget:null,validatePaste:null,getGrid:null,selectableRangeType:null,stringPasteContainerType:null,codeTable:null,initialAtive:!1,initMinHeight:null,isContract:!1,isDocumentEvidence:!1};return{id:function(t){return n.id=t,this},mode:function(t){return n.mode=t,this},mappingDatas:function(t){return n.mappingDatas=t,this},imageHyperlinkDatas:function(t){return n.imageHyperlinkDatas=t,this},addCss:function(t){return _.isArray(t)&&(t=t.join(" ")),n.css=ecount.convertor.uniqSumClass(n.css,t),this},removeCss:function(t){return n.css&&(n.css=ecount.convertor.removeClass(n.css,t)),this},top:function(t,i){return i=i||"px",n.style.top=t+i,this},left:function(t,i){return i=i||"px",n.style.left=t+i,this},width:function(t){return n.style.width=t+"px",this},height:function(t){return n.style.height=t+"px",this},minWidth:function(t){return n.style["min-width"]=t+"px",this},minHeight:function(t){return n.style["min-height"]=t+"px",this},marginTop:function(t){return n.style["margin-top"]=t+"px",this},marginLeft:function(t){return n.style["margin-left"]=t+"px",this},marginBottom:function(t){return n.style["margin-bottom"]=t+"px",this},marginRight:function(t){return n.style["margin-right"]=t+"px",this},paddingTop:function(t){return n.style["padding-top"]=t+"px",this},paddingLeft:function(t){return n.style["padding-left"]=t+"px",this},paddingBottom:function(t){return n.style["padding-bottom"]=t+"px",this},paddingRight:function(t){return n.style["padding-right"]=t+"px",this},borderTopColor:function(t){return n.style["border-top-color"]=t,this},borderTopStyle:function(t){return n.style["border-top-style"]=t,this},borderTopWidth:function(t){return n.style["border-top-width"]=t+"px",this},borderLeftColor:function(t){return n.style["border-left-color"]=t,this},borderLeftStyle:function(t){return n.style["border-left-style"]=t,this},borderLeftWidth:function(t){return n.style["border-left-width"]=t+"px",this},borderBottomColor:function(t){return n.style["border-bottom-color"]=t,this},borderBottomStyle:function(t){return n.style["border-bottom-style"]=t,this},borderBottomWidth:function(t){return n.style["border-bottom-width"]=t+"px",this},borderRightColor:function(t){return n.style["border-right-color"]=t,this},borderRightStyle:function(t){return n.style["border-right-style"]=t,this},borderRightWidth:function(t){return n.style["border-right-width"]=t+"px",this},fontSize:function(t,i){i=i||"pt";n.style["font-size"]=t+i},initHeight:function(t){return n.initHeight=t+"px",this},defaultZIndex:function(t){n.defaultZIndex=t},content:function(t){return n.content=t,this},userData:function(t){return n.userData=t,this},extendUserData:function(t){return _.extend(n.userData,t),this},useSmartGuide:function(t){return n.smartguide.use=t,this},useContextmenu:function(t){return n.contextmenu.use=t,this},useContextmenuType:function(t){return n.contextmenu.type=t,this},useMappingData:function(t){return n.mappingData.use=t,this},useShapeTable:function(t){return n.shape.table.use=t,this},useShapeTableSelectable:function(t){return n.shape.table.selectable.use=t,this},useShapeTableMoveable:function(t){return n.shape.table.moveable.use=t,this},useShapeTableResizable:function(t){return n.shape.table.resizable.use=t,this},useShapeRectangle:function(t){return n.shape.rectangle.use=t,this},useShapeRectangleSelectable:function(t){return n.shape.rectangle.selectable.use=t,this},useShapeRectangleMoveable:function(t){return n.shape.rectangle.moveable.use=t,this},useShapeRectangleResizable:function(t){return n.shape.rectangle.resizable.use=t,this},useShapeTextbox:function(t){return n.shape.textbox.use=t,this},useShapeTextboxSelectable:function(t){return n.shape.textbox.selectable.use=t,this},useShapeTextboxMoveable:function(t){return n.shape.textbox.moveable.use=t,this},useShapeTextboxResizable:function(t){return n.shape.textbox.resizable.use=t,this},useShapeVerticalline:function(t){return n.shape.verticalline.use=t,this},useShapeVerticallineSelectable:function(t){return n.shape.verticalline.selectable.use=t,this},useShapeVerticallineMoveable:function(t){return n.shape.verticalline.moveable.use=t,this},useShapeVerticallineResizable:function(t){return n.shape.verticalline.resizable.use=t,this},useShapeHorizontalline:function(t){return n.shape.horizontalline.use=t,this},useShapeHorizontallineSelectable:function(t){return n.shape.horizontalline.selectable.use=t,this},useShapeHorizontallineMoveable:function(t){return n.shape.horizontalline.moveable.use=t,this},useShapeHorizontallineResizable:function(t){return n.shape.horizontalline.resizable.use=t,this},useShapeImage:function(t){return n.shape.image.use=t,this},useShapeImageSelectable:function(t){return n.shape.image.selectable.use=t,this},useShapeImageMoveable:function(t){return n.shape.image.moveable.use=t,this},useShapeImageResizable:function(t){return n.shape.image.resizable.use=t,this},useShapeSign:function(t){return n.shape.sign.use=t,this},useShapeSignSelectable:function(t){return n.shape.sign.selectable.use=t,this},useShapeSignMoveable:function(t){return n.shape.sign.moveable.use=t,this},useShapeSignResizable:function(t){return n.shape.sign.resizable.use=t,this},useShapeCheckbox:function(t){return n.shape.checkbox.use=t,this},useShapeCheckboxSelectable:function(t){return n.shape.checkbox.selectable.use=t,this},useShapeCheckboxMoveable:function(t){return n.shape.checkbox.moveable.use=t,this},useShapeCheckboxResizable:function(t){return n.shape.checkbox.resizable.use=t,this},usePaste:function(t){return n.paste.use=t,this},usePasteImage:function(t){return n.paste.image.use=t,this},useOuterPasteData:function(t){return n.useOuterPasteData=t,this},hide:function(t){return $.isNull(t)&&(t=!0),n.hidden=t,this},isAdjustOutline:function(t){return n.isAdjustOutline=t,this},currentUserSignInfo:function(t){return n.shape.sign.currentUserSignInfo=t,this},useFreeHeight:function(t){return n.useFreeHeight=t,this},useDefaultBox:function(t){return n.useDefaultBox=t,this},useNotEditableBox:function(t){return n.useNotEditableBox.use=t.use,n.useNotEditableBox.id=t.id,this},boundaryLimitLeft:function(t){return n.boundaryLimit.left=t,this},boundaryLimitRight:function(t){return n.boundaryLimit.right=t,this},boundaryLimitTop:function(t){return n.boundaryLimit.top=t,this},boundaryLimitBottom:function(t){return n.boundaryLimit.bottom=t,this},isValidTarget:function(t){return n.isValidTarget=t,this},isContract:function(t){return n.isContract=t,this},isDocumentEvidence:function(t){return n.isDocumentEvidence=t,this},validatePaste:function(t){return n.validatePaste=t,this},getGrid:function(t){return n.getGrid=t,this},setSelectableRangeType:function(t){return n.selectableRangeType=t,this},setStringPasteContainerType:function(t){return n.stringPasteContainerType=t,this},setCodeTable:function(t){return n.codeTable=t,this},setActive:function(t){return n.initialAtive=t,this},setDefaultBoxOptions:function(t){return(_.isUndefined(t)||_.isNull(t))&&(t={}),n.defaultBoxOptions=t,this},initMinHeight:function(t){return n.initMinHeight=t,this},end:function(){var t=widget.generator.DRAWINGPAPER;switch(n.inputMode){case ecount.constValue.drawingPaper.inputMode.viewNEdit:t=widget.generator.DRAWINGPAPER+"View";break;case ecount.constValue.drawingPaper.inputMode.editNView:t=widget.generator.DRAWINGPAPER+"Edit"}return _.extend({__type:widget.generator.DRAWINGPAPER,__controlType:t},n)}}}()},gridCommon:{options:function(n,t,i,r){var u=ecount.grid.constValue,h=u.rowVariableNames,c=n.end(),f,l,o,s,e,a;r=_.isNull(r)||r===""?"&nbsp;":r;r!=""&&typeof r=="string"&&/['"&<>\t]/.test(r)&&(r=ecount.gridV3.utils.escapeHTML(r).replaceAll(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"));l=n.end();t.sectionType==u.sectionType.thead?(t.constValue.nativeControlInWidgetCheckbox[l.controlType]?n.label(t.getLabel(0)):n.label(r),f=ecount.gridV3.utils.getColor(t.getState("fontBgColor")),f&&r&&r.toString().replace("&nbsp;","")&&n.bgColor(f)):t.sectionType==u.sectionType.tbody?(o=t.rowData[t.rowVariableNames.treeSet],s=o&&o[t.rowVariableNames.expand],t.config.tree.use&&(t.config.tree.listParentToChild[t.rowId]&&n.hasArrow(o&&s),t.config.tree.useParentIcon&&t.config.tree.listParentToChild[t.rowId]&&n.hasFolder(s),t.config.tree.useCheckbox&&n.hasCheckbox(!0),t.config.tree.useFavorite&&(n.hasBookmark(!0),t.config.tree.useFn&&n.hasFn(t.config.tree.fnList||[]))),e=i[h.rowType]&&i[h.rowType].toLowerCase(),a=t.getConvertValue(),f=t.config.common.columnType==u.formType.multi?u.dynamicsubtotalRex.test(e)?ecount.gridV3.utils.getColor(t.getState("footerOption.fontBgColor")):ecount.gridV3.utils.getColor(t.getState("fontBgColor")):e&&(u.subtotalRex.test(e)||u.topsubtotalRex.test(e)||u.dynamicsubtotalRex.test(e)||u.bottomsubtotalRex.test(e)||u.pagetotalRex.test(e)||u.totalRex.test(e))?ecount.gridV3.utils.getColor(t.getState("footerOption.fontBgColor")):ecount.gridV3.utils.getColor(t.getState("fontBgColor")),f&&r&&r.toString().replace("&nbsp;","")&&n.bgColor(f),u.nativeControlInWidgetCheckbox[c.controlType]?n.label(t.getLabel()):u.customizerRex.test(c.controlType)?(n.fixedSelect(r=="&nbsp;"?null:r),n.setGridViewEmpty({titleEmpty:!1,contentsEmpty:!0})):n.label(r)):t.sectionType==u.sectionType.tfoot&&(f=ecount.gridV3.utils.getColor(t.getState("fontBgColor")),f&&r&&r.toString().replace("&nbsp;","")&&n.bgColor(f),n.label(r))}},graph:function(){ecount.layout.graph._export&&(ecount.layout.graph._export().create(),ecount.layout.graph._export=null);var n={};return{setOptions:function(t){return _.extend(n,t),this},end:function(){return n.__type=widget.generator.PANEL,n}}}}}();ecount.node={parse:function(n){var t=this.getEcpath(n);return{ctype:n.getAttribute("data-service")||n.getAttribute("data-function"),ecPath:t,ecPageID:this.getEcPageID(t),pcid:n.getAttribute("data-pcid"),cid:n.getAttribute("data-cid"),cindex:n.getAttribute("data-index"),actionIndex:n.getAttribute("data-function-index"),id:n.id}},getEcpath:function(n){while(n&&n.getAttribute&&!n.getAttribute("data-ecpath"))n=n.parentNode;if(n&&n.getAttribute)return n.getAttribute("data-ecpath")},getEcPageID:function(n){var t=(n||"").split(ecount.delimiter);return t&&t[0]}};ecount.global=function(n){var t={},u=!0,r={},e=0,i={layer:{}},f="";return{setDisableAlert:function(n){u=n},isDisableAlert:function(){return u},register:function(i){t[i.ecPageID]={scope:i,timer:{},intervalTimer:{},viewBag:null,viewBag_inc:null,xFormInfo:null,instancePool:{},isDestoryed:!1,callback:n.ecount.callback(i.ecPageID),publicInfo:{}};console.log(ecount.logger.lifecyle(i.ecPageID,"register global"))},unregister:function(n){console.log(ecount.logger.lifecyle(n,"unregister global"));var i=t[n];i&&(i.viewBag=null,i.viewBag_inc=null,i.xFormInfo=null,i.instancePool=null,console.log(ecount.logger.lifecyle(n,"    --> viewBag clear")),i.callback.wClear(n),clearTimeoutList=this.clearTimeout(n),console.log(ecount.logger.lifecyle(n,"    --> Callback clear --> "+clearTimeoutList.join(", "))),clearIntervalList=this.clearInterval(n),clearIntervalList&&console.log(ecount.logger.lifecyle(n,"    --> Interval clear --> "+clearIntervalList.join(", "))),i=null,delete t[n])},getPublicInfo:function(n,i){var r=null;return t[n]&&(r=(_.isNil(i)?t[n].publicInfo:t[n].publicInfo[i])||null),r},setPublicInfo:function(n,i,r){var u=t[n];return u?(u.publicInfo[i]=r,u.publicInfo[i]):!1},getRegisteredPageInfo:function(){var i=[],r,n;for(r in t)n=t[r].scope,i.push({ecPageID:n.ecPageID,popupLevel:n.popupLevel||0});return i},config:function(n,i,r){if(t[n])if(r)t[n][i]=r;else return t[n][i]},registerCallback:function(n,i,r,u){return t[n]?t[n].callback.wRegister(i,r,u):""},findCallback:function(n,i){if(t[n])return t[n].callback.find(i)},executeFuncWithScope:function(n,i){if(t[n]){var r=t[n].scope;return i.call(r)}},executeCallback:function(){return ecount.global.executeCallbak.apply(this,arguments)},executeCallbak:function(n){var r=Array.prototype.slice.call(arguments,0),n=r.shift(),i;if(t[n])return i=t[n].callback,i.execute.apply(i,r)},registerViewBag:function(n){var i=window["viewBag"+n]||window.viewBag;return t[n].viewBag=_.merge({},i),this.setTimeout(n,function(){i=null},0),t[n].viewBag},findViewBag:function(n,i){var r,u;if(i){for(u in t)if(u.split("_")[0]==n){r=t[u];break}}else r=t[n];return r?r.viewBag_inc||r.viewBag:{}},findPageInstance:function(n){if(t[n])return t[n].scope},setTimeout:function(i,r,u){var o=t[i],f=o&&o.timer,e;if(f)return e=ecount.common.uuid("timer"),f[e]=n.setTimeout(function(){ecount.global.getDestroyedState(i)||ecount.global.executeTimerCallback(r);f[e]=null;delete f[e]},u),f[e]},clearTimeout:function(i){var r=t[i],f=[],u;if(r)for(u in r.timer)r.timer[u]&&(f.push(r.timer[u]),n.clearTimeout(r.timer[u]));return f},clearTimeoutByTimerNo:function(i,r){var u=t[i],f;if(u)for(f in u.timer)if(u.timer[f]===r){n.clearTimeout(u.timer[f]);break}},setInterval:function(i,r,u){var o=t[i],f=o&&o.intervalTimer,e;if(f)return e=ecount.common.uuid("intervalTimer"),f[e]=n.setInterval(ecount.global.executeTimerCallback.bind(null,r,function(){f[e]=null;delete f[e]}),u),f[e]},clearInterval:function(){var i=t[ecPageID],u=[],r;if(i)for(r in i.intervalTimer)i.intervalTimer[r]&&(u.push(i.intervalTimer[r]),n.clearTimeout(i.intervalTimer[r]));return u},clearIntervalByTimerNo:function(i,r){var u=t[i],f;if(u)for(f in u.intervalTimer)if(u.intervalTimer[f]===r){n.clearTimeout(u.intervalTimer[f]);break}},setDestroyedState:function(n,i){var r=t[n];r&&(r.isDestoryed=i)},getDestroyedState:function(n){var i=t[n];return i?i.isDestoryed:!0},executeTimerCallback:function(n,t){if(ecount.page&&ecount.page.isDebugMode&&ecount.page.isDebugMode())n();else try{n()}catch(i){ecount.global.logError(i);t&&t()}},logError:function(n){console.log(">>>>>>>>>>>>>>>>>>>>> ERROR <<<<<<<<<<<<<<<<<<<<<<");console.log(n);console.log(">>>>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<");ecount.__isEventCaptureMode()&&console.info("::: ERROR ::: "+n.message)},beforeReloadPage:function(){ecount.control.date&&ecount.control.date.prototype._calenderObj&&(ecount.control.date.prototype._calenderObj.appendTo($("body")),ecount.control.date.prototype._calenderObj.removeClass("open"))},registerEcRepository:function(n){var t="repo#"+ ++e;return r[t]=n,t},unregisterEcRepository:function(n){delete r[n]},getEcRepository:function(n){return r[n]},registerXFormInfo:function(n,i){t[n]&&i&&i.length&&(t[n].xFormInfo={},i.forEach(function(i){for(var r in i)t[n].xFormInfo[r]=i[r].map(function(n){return $.isArray(n.ViewModel)?n.ViewModel.forEach(function(n){ecount.bitmask.decode(n)}):ecount.bitmask.decode(n.ViewModel),n})}))},getXFormByType:function(n,i){if(t[n]&&t[n].xFormInfo)return t[n].xFormInfo[i]},getXFormAllowList:function(n,t){var i=this.getXFormByType(n,t),r;return i&&i.length>0?(r=i.first().FormAllowList,Object.clone(r,!0)):[]},getXForm:function(n,t,i,r){var f=this.getXFormByType(n,t),o,s,e,u;if(!f||f.length==0)return null;for(o=t.substring(1,2),s=$.url().domainType.toUpperCase(),e=0;e<f.length;e++){if(u=f[e],["N","M"].contains(o))return Object.clone(u,!0);if(["E","U"].contains(s)){if(ecount.common.isTrue(r)&&u.companyType.toUpperCase()=="Z"&&(i==0||u.formSeq==i)||ecount.common.isFalse(r)&&u.companyType.toUpperCase()=="C"&&u.formSeq==i)return Object.clone(u,!0)}else return Object.clone(u,!0)}return null},getXFormViewModel:function(n,t,i,r,u){var f=this.getXForm(n,t,i,u),e,o;if(f==null)return null;if($.isArray(f.ViewModel)){for(e=0;e<f.ViewModel.length;e++)if((o=f.ViewModel[e],!r)||o.option.tabCd.toUpperCase()==r.toUpperCase())return Object.clone(o,!0)}else return f.ViewModel;return null},getListXFormViewModel:function(n,t,i,r){var u=this.getXForm(n,t,i,r),f;return u==null?null:$.isArray(u.ViewModel)?u.ViewModel:(f=[],f.add(u.ViewModel),f)},registerEcInstance:function(n){var u,i,r;if(t[n.ecPageID]){if(i=n.containerName||n.__target||n.__type,!i)return;r=t[n.ecPageID].instancePool;r[i]||(r[i]={});u=ecount.common.uuid(n.ecPageID,ecount.separator.ecPath);r[i][u]=n}return u},getEcInstance:function(n,i){var u,r,i;if(n&&(u=n.split(ecount.separator.ecPath),t[u[0]])){if(r=t[u[0]].instancePool,i)return r[i][n];for(i in r)if(r[i][n])return r[i][n]}},removeEcInstance:function(n,i){var u,r,i;if(n&&(u=n.split(ecount.separator.ecPath),t[u[0]]))if(r=t[u[0]].instancePool,i&&r[i])r[i][n]=null;else for(i in r)if(r[i][n]){r[i][n]=null;break}},registerEcServiceInstance:function(n,t){var r;return i[t]?(r=n.serviceKey,i[t][r]=n,r):!1},getEcServiceInstance:function(n,t){var r=i[t][n];return n==="ALL"?i[t]:r?r:null},removeEcServiceInstance:function(n,t){var r=i[t][n];return r?(delete i[t][n],!0):!1},clearAllService:function(n,t){for(var r in i[t])n.contains(r)||ecount.layer.removeLayer(r)},clearAllServiceByPath:function(n,t){var r=[];for(var u in i[t])u.startsWith(n)||r.push(u);this.clearAllService(r)},setRenderingPage:function(n){f=n},getRenderingPage:function(){return f}}}(window);ecount.events=_moduleFactory({object:null,element:null,eventTypes:[],listeners:null,init:function(n,t){this.object=n;this.element=t;this.listeners={}},destroy:function(){this.element?ecount.event.stopObserving(this.element):this.un(this.listeners)},on:function(n){for(var t in n)t!="scope"&&n.hasOwnProperty(t)&&this.register(t,n.scope,n[t])},register:function(n,t,i,r,u){var f,e;i!=null&&(t==null&&(t=this.object),f=this.listeners[n],f||(f=[],this.listeners[n]=f),e={obj:t,func:i,key:u},Array.isArray(u)&&(e.key=u[0],u[1]&&(e.subKey=u[1])),r?f.unshift(e):f.push(e))},getListener:function(n,t){var i=n?this.listeners[n]:this.listeners;return i&&n&&t&&(i=i.find(function(n){return n.key===t})),i},un:function(n){for(var t in n)t!="scope"&&n.hasOwnProperty(t)&&this.unregister(t,n.scope,n[t])},unregister:function(n,t,i,r){var u,f,o,e;if(t==null&&(t=this.object),u=this.listeners[n],Array.isArray(r)&&(r[1]&&(o=r[1]),r=r[0]),u!=null)for(e=u.length-1;e>-1;e--)if(f=u[e],f.obj==t&&(!i||f.func==i)&&(!r||f.key==r)&&(!o||o&&f.subKey===o)&&(u.splice(e,1),!r))break},unregisterByKey:function(n){for(var t in this.listeners)this.unregister(t,null,null,n)},remove:function(n){this.listeners[n]!=null&&(this.listeners[n]=null)},handleBrowserEvent:function(n){var t=n.type,i=this.listeners[t];i&&i.length!=0&&this.triggerEvent(t,n)},triggerEvent:function(n,t,i){var r=this.listeners[n],u,f,o,e;if(r&&r.length!=0){for(t==null&&(t={}),t.type||(t.type=n),r=r.slice(),f=0,o=r.length;f<o;f++)if(e=r[f],(!i||i==e.key)&&(u=e.func.apply(e.obj,[t]),u&&u==!1))break;return u}},_triggerEvent:function(){var r=Array.prototype.slice.call(arguments),e=r.shift(),o=r[0]||{},n=this.listeners[e],t,i,f,u;if(n&&n.length!=0){for(n=n.slice(),i=0,f=n.length;i<f;i++)if(u=n[i],t=u.func.apply(u.obj,r),t&&t==!1)break;return t}},clearMouseCache:function(){this.element.scrolls=null;this.element.lefttop=null;this.element.offsets=null}});ecount.event={element:function(n){return n.target||n.srcElement},stop:function(n,t){t||ecount.event.preventDefault(n);n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},preventDefault:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},observe:function(n,t,i,r){var u,f;r=r||!1;t=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||n.detachEvent)&&(t="keydown");this.observers||(this.observers={});n._eventCacheID||(u="eventCacheID_",n.id&&(u=n.id+"_"+u),n._eventCacheID=$.uniqueId(u));f=n._eventCacheID;this.observers[f]||(this.observers[f]=[]);this.observers[f].push({element:n,name:t,observer:i,useCapture:r});n.addEventListener?n.addEventListener(t,i,r):n.attachEvent&&n.attachEvent("on"+t,i)},stopObservingElement:function(n){var t=n._eventCacheID;this._removeElementObservers(ecount.event.observers[t])},_removeElementObservers:function(n){var i,t;if(n)for(i=n.length-1;i>=0;i--)t=n[i],ecount.event.stopObserving(t.element,t.name,t.observer,t.useCaputure)},stopObserving:function(n,t,i,r){var s,f,u,e,o;if(r=r||!1,s=n._eventCacheID,t=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||n.detachEvent)&&(t="keydown"),f=!1,u=ecount.event.observers[s],u)for(e=0;!f&&e<u.length;){if(o=u[e],o.name==t&&o.observer==i&&o.useCapture==r){u.splice(e,1);u.length==0&&delete ecount.event.observers[s];f=!0;break}e++}return f&&(n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent&&n.detachEvent("on"+t,i)),f}},function(){ecount.callback={};ecount.callback=function(n){var t={},i=0;return ecount.callback.commonRepository[n]||(ecount.callback.commonRepository[n]={_repository:{},register:function(r,u){var f=n+"-callback#"+ ++i;return t[f]=function(){return r.apply(u||this,arguments)},f},wRegister:function(n,t,r){return r=r||"ecount#"+ ++i,this._repository[r]=function(){return n.apply(t||this,arguments)},r},unregister:function(n){delete t[n]},wUnregister:function(t){ecount.callback.commonRepository[n]._repository[t]=null;delete this._repository[t]},find:function(n){return this._repository[n]},apply:function(){var i=Array.prototype.slice.call(arguments),r=i.shift(),n=null;if(r)return(n=t[r],n)?n.apply(null,i):null},execute:function(){var i=Array.prototype.slice.call(arguments),r=i.shift(),t=null;if(r)return(t=ecount.callback.commonRepository[n]._repository[r],t)?t.apply(null,i):null},clear:function(){delete ecount.callback.commonRepository[n]},wClear:function(){for(var t in this._repository)this._repository[t]=null;ecount.callback.commonRepository[n]}}),ecount.callback.commonRepository[n]};ecount.callback.clearCommonRepository=function(){delete ecount.callback.commonRepository;ecount.callback.commonRepository={}};ecount.callback.commonRepository={};ecount.callback.repository={};var n=0;ecount.callback.register=function(t,i,r){return r=r||"ecount#"+ ++n,ecount.callback.repository[r]=function(){return t.apply(i===!1?null:i||this,arguments)},r};ecount.callback.unregister=function(n){ecount.callback.repository[n]=null;delete ecount.callback.repository[n]};ecount.callback.find=function(n){var t=ecount.callback.repository;for(var i in t)if(i==n)return t[i]};ecount.callback.clear=function(){var n=ecount.callback.repository;for(var t in n)ecount.callback.unregister[t]};ecount.callback.execute=function(){var t=Array.prototype.slice.call(arguments),i=t.shift(),n=null;if(i)return(n=ecount.callback.repository[i],n)?n.apply(null,t):null}}();ecount.transaction=function(n){n=n||{};this._completeCount=0;this._totalCount=0;this._reqQueue=[];this._async=!!!n.sync;this._resQueue={};this._seqStack={};this._target="all";this.ecPageID=n.ecPageID};ecount.transaction.request=function(n,t){t?t(n):typeof n=="function"?n():ecount.common.api(n)};ecount.transaction.prototype.setTransporter=function(n){this._transporter=n};ecount.transaction.prototype.add=function(n){var o=ecount.common.uuid(),i=this._target,r=this._seqStack,u,t=this,f,e;r[i]||(r[i]=[]);r[i].push(o);f=n.success;n.success=function(n){t._resQueue[i]||(t._resQueue[i]={});t._resQueue[i][o]=n;f&&f(n)};e=function(n){t._completeCount++;u&&u(n);t._completeCount===t._reqQueue.length?t._complete():t._async||t._next()};typeof n=="function"?this._reqQueue.push(function(){n(e)}):(u=n.complete,n.complete=e,this._reqQueue.push(n))};ecount.transaction.prototype.target=function(n){this._target=n};ecount.transaction.prototype.complete=function(n){this._complete=function(n,t){return function(){var i=function(){if(ecount.page&&ecount.page.isDebugMode&&ecount.page.isDebugMode())n.call(null,t);else try{n.call(null,t)}catch(i){console.log(">>>>>>>>>>>>>>>>>>>>> ERROR <<<<<<<<<<<<<<<<<<<<<<");console.log(i);console.log(">>>>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<");ecount.__isEventCaptureMode()&&console.info("::: ERROR ::: "+i.message)}};t.ecPageID?ecount.global.setTimeout(t.ecPageID,i,0):window.setTimeout(i,0)}}(n,this)};ecount.transaction.prototype.all=function(){if(this._reqQueue.length===0)this._complete();else for(var n=0,t=this._reqQueue.length;n<t;n++)ecount.transaction.request(this._reqQueue[n],this._transporter)};ecount.transaction.prototype.getResponse=function(n){var i,r,u,t,f;if(n=n||"all",i=this._resQueue[n],r=[],i)for(u=this._seqStack[n],t=0,f=u.length;t<f;t++)r.push(i[u[t]]);return r};ecount.transaction.prototype._next=function(){this._reqQueue.length===0&&this._complete();ecount.transaction.request(this._reqQueue.shift(),this._transporter)};ecount.transaction.prototype.start=function(){this._async?this.all():this._next()};ecount.transaction.prototype.destroy=function(){};ecount.page=$.Class(null,{container:"div.page",_loadedContainerCount:0,__headerWidthStateLoaded:!1,__wrapperStateLoaded:!1,_containerCount:0,_gridCount:0,__ecPageLoadcomplete:!1,__ecPageAllRendercomplete:!1,submitForm:null,_gridRenderingOnInit:0,header:null,__isHeaderFixed:!0,footer:null,contents:null,events:null,_ecParent:null,callbackID:null,responseID:null,__isIOS:ecount.common.isIOS,__hasFrame:window.name=="ecframe"||window.name=="ecframe1",_WINDOW_SCROLL_TOP:null,setAutoFocusOnTabPane:!0,setAutoPositionOnHeader:!0,_isShowAlert:!1,_showECProgressbar:!0,isUseHotkeyF3:!1,_progressTimer:800,_progressbar:null,_isTabInTab:!1,__needChangeTitle:!0,_headerClassName:".header",_contentsClassName:".contents",_footerClassName:".footer",_sectionClassName:".section",_preventHotkey:!1,isFixedFooter:!1,isFixedHoldFooter:!1,isUseHelperButton:!0,isDefaultViewPage:!0,init:function(n){var i=location.pathname.split("/").pop().toUpperCase(),t;this.__timer_initialize=Date.now();$.extend(this,n||{});this.RESPONSIVE_YN=ecount.config.user.RESPONSIVE_YN;ecount.eventDispatchFilter.block(this.ecPageID);ecount.errorLogMode.off();console.log("######################::: PAGE INITIALIZE :::######################");console.log(this.ecPageID+" / "+this.pageID);console.log("#####################################################################");this.isLoadPageAsStandAlone=!["WEBMAILMAIN","ECP050M","ECP050MOBILE","UPA001M","CSA011M","TWMAIN"].contains(i)&&window.top==window;this._progressbarTimerID=[];this._progressbarCloseTimerID=[];this._gridProgressbarTimerID={};this._restrictedCallbackTimer={};this._includePageIDList=[];this._hotKeyButtons={};this._ecCallbackRepository=[];this._ecLazyRenderControlRepository=[];this._ecLazyRenderControlGridRepository=[];this._ecLazyLoadCompleteRepository=[];this._ecLazyLoadPageCBRepository={};this.isShowRefreshMessage=!1;ecount.global.register(this);this.initDefaultConfig();this.viewBag&&this.viewBag.RefreshNoL4Status&&ecount.setWindowRefreshFlag(!0);ecount.UseAlertCnt=_.get(this.viewBag,"DefaultOption.UseAlertCnt",!1)||_.get(window,"viewBag.DefaultOption.UseAlertCnt",!1)?!0:!1;t=this.getOpener();t&&this.setAdditionalOptions(arguments[0]);this.setPageElement(!!this.hasReqKey);this.popupID&&this.setPopupPageElement();this.setPageEventTarget();this._ecParent?this.__ecParentPageLoaded||(ecount.common.layout.progressbar=!1):(this.createVDom(),ecount.common.layout.progressbar=!1,this.showProgressbar(!0),this.$el.hide(),this.$el.removeClass("hidden"),this._isAside||this.$el.find(this._headerClassName).addClass("header-fixed"));this.setUnloadPageEvent()},registerDependencies:function(){var t=$.makeArray(arguments),i,n,u,r;if(this.__ecPageDependencies||(this.__ecPageDependencies=[]),$.isArray(t[0]))for(i=t[0],n=0,u=i.length;n<u;n++)r=i[n],this.__ecPageDependencies.contains(r)||this.__ecPageDependencies.push(r);else this.__ecPageDependencies=this.__ecPageDependencies.concat(t)},initProperties:function(){},ecRequire:function(){var n=$.makeArray(arguments);n.push(this);ecount.runtime.require.apply(this,n);ecount.runtime.notify(ECountEvent.Type.WRITE_LOG,null,{type:"page.require",ecPageID:this.ecPageID,popupLevel:this.popupLevel,controlType:this.controlType,dependencies:n.filter(function(n){return typeof n=="string"||$.isArray(n)})})},useFixedFormLayout:function(){this._hasFixedFormLayout=!0},setPageElement:function(n){var t;n?!this._ecParent&&this.popupID&&this.alreadyIncludedLayout&&this.popupType!="window"?(t=document.getElementById("ecpopup_"+this.popupID+ecount.popupIDDelimiter+this.popupLevel),this.$el=$(t).find(this.container)):this.$el=$("div[data-ecpageid="+this.ecPageID+"]"):(!this._ecParent&&this.popupID&&this.alreadyIncludedLayout&&this.popupType!="window"?(t=document.getElementById("ecpopup_"+this.popupID+ecount.popupIDDelimiter+this.popupLevel),this.$el=$(t).find(this.container)):this.$el=this._ecParent?$(this.container+"[include-pageid="+this.ecPageID+"]").first():$(this.container),this.$el.attr("data-ecpageid",this.ecPageID));this.alreadyIncludedLayout&&(this.eventContainer=this.$el.parent(),this.popupID&&(this.eventContainer.attr("data-isFixedFooter",this.isFixedFooter),this.eventContainer.attr("data-ecpageid",this.ecPageID)));(!this._ecParent||this.isIncludeEventBindUse)&&(this.$el.removeClass("header-fixed"),this.popupType&&this.popupType.toUpperCase()==="WINDOW"&&this.$el.addClass("page-popup"),this.isFixedFooter&&(this.$el.find(this._headerClassName).addClass("header-fixed"),this.$el.find(this._contentsClassName).addClass("contents-fixed"),this.$el.find(this._footerClassName).addClass("footer-fixed")),this.$el.find(this._contentsClassName).bind("scroll."+this.ecPageID,function(n){ecount.runtime.notify("scroll.page.eventContainer","clearLayer",n);ecount.runtime.notify("scroll.page.eventContainer",this.ecPageID,n);ecount.runtime.notify("scroll.page.eventContainer",[this.ecPageID,"grid"].join("_"),n)}.bind(this)));this.$contents=this.$el.find(this._ecParent?".contents_inc":this._contentsClassName)},setPopupPageElement:function(){!this._ecParent&&this.alreadyIncludedLayout&&this.popupType!="window"&&(this.isPanelLayout&&(this.$el.parent()[0].style.cssText+="overflow:hidden;",this.$el.find(" > .contents").css("top",0)),ecount.popup.current=ecount.popup.getInfo(this.$el.parent().attr("id")),ecount.popup.current.uuid=this.ecPageID,this.$el.addClass("page-modal"))},setPageEventTarget:function(){this.__ecEventTarget=this.alreadyIncludedLayout?this._ecParent?this._ecParent.$el.parent().parent():this.$el.parent().parent():document},_bindDocumentEvent:function(){},getWrapperFormStateConfig:function(n,t){var r=120,u=this.$el.width(),f=[1,2,3,4].map(ecount.infra.getMinimnumWidthOfForm),e=n||$.parseNumber(this.getMaxFormColSize()||"1"),o=this._hasFixedFormLayout,i={IS_APPLY:!1,SIZE:e};return this.applyWrapperFormState===!1?i:(t=t||_.get(ecount,"config.companyForm.MULTICOL_SETTINGS"),_.isEmpty(t))?i:(i.IS_APPLY=!0,_.extend(i,t.reduce(function(n,t){var i=t.COL_TYPE,e=t.FILL_CHK_YN=="1",h=o?[r,null]:[$.parseNumber(t.LABEL_WIDTH),e?null:$.parseNumber(t.INPUT_WIDTH)],s;for(n[i]={},n[i].IS_FILL=e,n[i].COL_WIDTH=[],s=0;s<i;s++)n[i].COL_WIDTH=n[i].COL_WIDTH.concat(h);return n[i].COL_WIDTH[0]=n[i].COL_WIDTH[0]-1,n[i].TABLE_WIDTH=e?u:n[i].COL_WIDTH.reduce(function(n,t){return n+Number(t)},1),n[i].MIN_WIDTH=f[i-1],n},{})))},setWrapperFormState:function(n){var t=[],u=[775,775,950,1330],i,r;if(n=n||this.getWrapperFormStateConfig(),i=ecount.global.getPublicInfo(this.ecPageID,"xFormMultiColSettings"),!_.isEmpty(i))for(r in i)if(!_.isEmpty(i[r])){n=this.getWrapperFormStateConfig(null,i[r]);break}n.IS_APPLY!==!1&&(u.forEach(function(i,r){var u=r+1,f=this.getTitleColumnWidth(u,n);t.push(["div[data-ecpageid='"+this.ecPageID+"'] .wrapper-form-state-"+u+".wrapper-form",["max-width",ecview.util.getCssValueFormat(this.getTitleMaxFormWidth(u,n,i))]]);t.push(["div[data-ecpageid='"+this.ecPageID+"'] .form-state-imitate-width-"+u,["max-width",ecview.util.getCssValueFormat(this.getTitleMaxFormWidth(u,n,i))]]);t.push(["div[data-ecpageid='"+this.ecPageID+"'] .wrapper-form-state-"+u+".wrapper-form > li > .title",["width",ecview.util.getCssValueFormat(f)]]);t.push(["div[data-ecpageid='"+this.ecPageID+"'] .wrapper-header-search .wrapper-form-state-"+u+".wrapper-form > li > .title",["width",ecview.util.getCssValueFormat(f<40?20:f-20)]])}.bind(this)),ec$.addStylesheetRules(t,{id:["WRAPPER_FORM_STATE",this.ecPageID].join("_").ecCamelize(),singleMode:!1}),n[n.SIZE].IS_FILL||this.applyHeaderMaxWidth===!1||ecount.runtime.notify(this.ecPageID,ecount.widget.FORM_LOAD_COMPLETE,n[n.SIZE]),this._ecPageWidth=this.getTitleMaxFormWidth(n.SIZE,n,u[n.SIZE-1]));this.__wrapperStateLoaded=!0},_setContentsTabContentsWidth:function(n){var t;this.contents&&n&&(t=this.contents.getTabContents())&&t.setTabWidth(ecview.util.getCssValueFormat(n))},_fitWrapperFormState:function(){var n,t;this.header&&(n=this.header.getForm(),n.forEach(function(n){n.setWrapperFormState&&n.setWrapperFormState()}));this.contents&&(t=this.contents.getForm(),t.forEach(function(n){n.setWrapperFormState&&n.setWrapperFormState()}))},getTitleMaxFormWidth:function(n,t,i){return this.applyWrapperFormState===!1?"100%":t[n]?t[n].IS_FILL?"100%":t[n].TABLE_WIDTH||i:void 0},getTitleColumnWidth:function(n,t){if(t[n])return t[n].COL_WIDTH[0]},getScroll:function(){var n=this.$getScrollContainer();return n&&n.scroll()},$getScrollContainer:function(n){if(this.contents&&this.contents.$el.length){if(n){var t='[data-scroll-container-id="'+n+'"]';if(this.contents.$el.find(t))return this.contents.$el.find(t)}return this.contents.$el}},setUnloadPageEvent:function(){var n=this,t=this.isPopupTypeWindow();if(n.__hasFrame||n.popupID&&!t||(this.__isIOS?$(window).bind("pagehide"+n.ecPageID,function(){$(window).unbind("pagehide."+n.ecPageID);try{n.destroyAll();ecount&&ecount.popup&&ecount.popup.destroyAll(n.pageID)}catch(t){}}):(ecount.parentFrame.__isBindUnloadEvent||ecount.isMobileApp||(ecount.parentFrame.__isBindUnloadEvent=!0,$(ecount.parentFrame).bind("beforeunload."+n.ecPageID,function(){if(ecount.popup.parent.ecount.callback.find("__EC_UNLOAD_EVENT_CALLBACK_ID")&&!ecount.popup.parent.ecount.callback.execute("__EC_UNLOAD_EVENT_CALLBACK_ID","execute"))return ecount.resource.MSG70527})),$(window).bind("unload."+n.ecPageID,function(){ecount.__isEventCaptureMode()&&ecount.eventLog("iframe.beforeunload",{type:"iframe.beforeunload",ecPageID:this.ecPageID});$(window.top).unbind("beforeunload."+n.ecPageID);$(window).unbind("unload."+n.ecPageID);try{n.destroyAll();window.name=="mainbody"&&ecount&&ecount.popup&&ecount.popup.destroyAll(n.pageID)}catch(t){console.log(t)}}))),t)$(window).on("beforeunload",function(n){this.onBeforeClosePopup&&this.onBeforeClosePopup(n)}.bind(this))},getOpener:function(){if(this.__ecPageID){if(this.popupType=="layer"||this.__ecOpenPopup=="hiddenFrame")return ecount.popup&&ecount.popup.parent;try{return opener&&opener.ecount&&opener.ecount.runtime&&opener.ecount.runtime.root}catch(n){}}},setAdditionalOptions:function(n){var t,r=this.getOpener(),i;this.ecRepositoryID&&(t=$.extend({},r.ecount.global.getEcRepository(this.ecRepositoryID)));this.hasPopupId()&&(i=this.findPageInstance(this.__ecPageID,this.popupLevel),i&&i.onPreInitPopup&&(t=$.extend(t,i.onPreInitPopup(this.pageID))));t&&(t.__footerAddedOption&&(this.__footerAddedOption=t.__footerAddedOption,delete t.__footerAddedOption),n.pageOption=t)},initDefaultConfig:function(){if(this.viewBag=ecount.global.registerViewBag(this.ecPageID,!!this._ecParent),this._decodeBitmask(),$.isString(this.viewBag.DefaultOption)&&(this.viewBag.DefaultOption=JSON.parse(this.viewBag.DefaultOption.decryptXor())),$.isString(this.viewBag.Permission)&&(this.viewBag.Permission=JSON.parse(this.viewBag.Permission.decryptXor())),$.extend(this,this.viewBag.DefaultOption||{}),$.extend(this,this.viewBag.Permission||{}),ecount.TemporarySave&&ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())&&this.viewBag.DefaultOption&&this.viewBag.DefaultOption.tempSaveViewbagKey){var n=ecount.TemporarySave.config.getViewBagData(this.viewBag.DefaultOption.tempSaveViewbagKey);$.isEmptyObject(n)||(this.viewBag.DefaultOption=n)}this.resource=$.extend({},ecount.resource||{},this.viewBag.Resource||{});this.__ecPage__==="null"&&(this.__ecPage__=null);this.__ecPage__&&(this.__ecPage__=JSON.parse(decodeURIComponent(this.__ecPage__)),this._formdata=this.__ecPage__.extractDataKey?ecount.popup.parent.ecount.global.getEcRepository(this.__ecPage__.extractDataKey):this.__ecPage__.formdata,this._exParam=this.__ecPage__.exParam,this._userParam=this.__ecPage__._userParam,this.__ecPage__.popupInfo&&($.extend(this,this.__ecPage__.popupInfo),delete this.__ecPage__.popupInfo),$.isEmpty(this.__ecPage__.scrollTopValue)||(this._scrollTopValue=this.__ecPage__.scrollTopValue));this.__userParam__&&(this.__userParam__=JSON.parse(decodeURIComponent(this.__userParam__)));this.__ecParam__&&(this.__ecParam__=JSON.parse(decodeURIComponent(this.__ecParam__)));this.__X_FORM_INFO&&(this.__X_FORM_INFO.xforms?(ecount.formset.addFormAllowList(this.ecPageID,this.__X_FORM_INFO.formAllowList),ecount.formset.addForm(this.ecPageID,this.__X_FORM_INFO.xforms),ecount.formset.addHashKey(this.ecPageID,this.__X_FORM_INFO.formHashKeys),this.initXForm&&this.initXForm(this.__X_FORM_INFO.xforms,this.__X_FORM_INFO.formAllowList)):ecount.global.registerXFormInfo(this.ecPageID,this.__X_FORM_INFO),delete this.__X_FORM_INFO)},_decodeBitmask:function(){var n=this.viewBag&&this.viewBag.InitDatas&&this.viewBag.InitDatas.XFormInfos;if(n)for(formInfo in n)n[formInfo]&&n[formInfo].bitMaskMapType&&ecount.bitmask.decode(n[formInfo])},initXForm:function(n,t){this.xformInfos={};n.forEach(function(n){for(var i in n)n[i].FormAllowList=t[i],$.isArray(n[i].ViewModel)?n[i].ViewModel.forEach(function(n){ecount.bitmask.decode(n)}):ecount.bitmask.decode(n[i].ViewModel);this.xformInfos=_.extend(this.xformInfos,n)}.bind(this))},getInitXFormViewModel:function(n,t){var i=this.xformInfos[n].ViewModel,r,u;if($.isArray(i)){for(r=0;r<i.length;r++)if((u=i[r],!t)||u.option.tabCd.toUpperCase()==t.toUpperCase())return Object.clone(u,!0)}else return Object.clone(i,!0)},getListInitXFormViewModel:function(n){if(!this.xformInfos||!this.xformInfos[n])return null;var t=this.xformInfos[n].ViewModel;return $.isArray(t)?Object.clone(t,!0):[Object.clone(t,!0)]},getInitXFormAllowList:function(n){return ecount.formset.getXFormAllowList(this.ecPageID,n)},getXFormViewModelCache:function(n){ecount.formset.getXFormViewModel(this.ecPageID,n)},getXFormInfo:function(n){ecount.formset.getXFormInfo(this.ecPageID,n)},getXForm:function(n,t,i){return ecount.global.getXForm(this.ecPageID,n,t,i)},getXFormAllowList:function(n){return ecount.global.getXFormAllowList(this.ecPageID,n)},getXFormViewModel:function(n,t,i,r){return ecount.global.getXFormViewModel(this.ecPageID,n,t,i,r)},getListXFormViewModel:function(n,t,i){return ecount.global.getListXFormViewModel(this.ecPageID,n,t,i)},initTempsaveConfig:function(){},TS_initTemporarySave:function(){this.enableTempsave()&&ecount.TemporarySave.timer.register(this.ecPageID)&&(ecount.TemporarySave.config.getCurrentVoucherDatas=this.TS_getCurrentVoucherDatas.bind(this),ecount.TemporarySave.config.getCompleteMessage=this.TS_getCompleteMessage.bind(this),ecount.TemporarySave.timer.start(this.ecPageID))},enableTempsave:function(){try{return!ecount.__isEventCaptureMode()&&!this._ecParent&&this.TS_OPTIONS&&this.TS_OPTIONS.COM_CODE!==undefined}catch(n){return!1}},TS_getCurrentVoucherDatas:function(){return ecount.TemporarySave.module.getRefreshData(this.TS_OPTIONS,this)},TS_getCompleteMessage:function(){ecount.TemporarySave.module.getCompleteMessage("eclbltmpsavelog",this)},TS_executeTempsave:function(){var n=this;ecount.TemporarySave.module.pageLoad(this.TS_OPTIONS,this,function(){ecount.TemporarySave.module.setShowHeaderTempsaveButtons(n)},function(){ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n)},function(){n.TS_initTemporarySave()})},createTempsaveFunctionControl:function(){var n=widget.generator.control();return widget.generator.toolbar().setId("ecloadtempSaveToolbar").addLeft(n.define("widget.label").label(String.format(ecount.resource.MSG03397,this.tempSavedMessage||ecount.resource.LBL02938)).hide()).addLeft(n.define("widget.link","ecloadtempSaveData").label(ecount.resource.BTN00070).hide()).addLeft(n.define("widget.link","ecloadtempSaveDelete").label(ecount.resource.BTN00033).hide())},createTempsaveTimeLabel:function(){var n=widget.generator.control();return n.define("widget.label","eclbltmpsavelog").label("")},onContentsEcloadtempSaveData:function(){this.applyTemporarySaved()},applyTemporarySaved:function(){ecount.TemporarySave.module.applyData(this.TS_OPTIONS,this)},onContentsEcloadtempSaveDelete:function(){ecount.TemporarySave.module.removeall(this)},toggleInitializeControl:function(){this.registerCallback(this._onInitControl,ecount.widget.initializer);this.registerCallback(this._onInitControlByCombine,ecount.widget.initializerByCombine)},registerCallback:function(n,t){return ecount.global.registerCallback(this.ecPageID,n,this,t)},observingEvent:function(n,t){ecount.runtime.observe(n,this.ecPageID,t)},stopObservingEvent:function(){ecount.runtime.stopObservingByKey(this.ecPageID)},executeCallback:function(n,t){if(n){var r=Array.prototype.slice.call(arguments),i=ecount.page.popup.prototype._getParent.apply(this,arguments);this.alreadyIncludedLayout||i.ecount.global?this.__ecPageID?i.ecount.global.executeCallback(this.__ecPageID,n,t):i.ecount.callback.execute.call(null,n,t):i.ecount.callback.execute.call(null,n,t)}},_registerLazyInitializer:function(n){this.__ecPageLoadcomplete?n():this._ecCallbackRepository.push(n)},_registerLazyRenderOfGrid:function(n){this._ecLazyRenderControlGridRepository.push(n)},_registerLazyRenderOfControl:function(n){this.__ecPageLoadcomplete?n():this._ecLazyRenderControlRepository.push(n)},_registerLazyLoadComplete:function(n){this._ecLazyLoadCompleteRepository.push(n)},__IOS_RESIZE:function(n){n&&this.RESPONSIVE_YN!="Y"&&$(parent.document).find("#mainbody").css("width",this.$el.width()+1)},domready:function(){if(this.popupID&&this.onBeforeRender()==!1)return console.log(ecount.logger.lifecyle(this.ecPageID,"page is closed by onBeforeRender()")),this.close(null,!0),!1;this.renderImmediately&&this.renderImmediately();this._ecParent?window["favoritesInfo_"+this.ecPageID]?(this._favoritesInfo=$.extend({},{},window["favoritesInfo_"+this.ecPageID]),window["favoritesInfo_"+this.ecPageID]=null):(this._favoritesInfo=$.extend({},{},window.favoritesInfo_INC),window.favoritesInfo_INC=null):(this._favoritesInfo=$.extend({},{},window.favoritesInfo),window.favoritesInfo=null);this._ecParent?this._ecParent&&this.isIncludeEventBindUse&&ecount.runtime.observe("resize",this._ecParent.ecPageID,function(n){ecount.runtime.notify("resize",this.ecPageID,n)}.bind(this)):(this.observingEvent("resize",function(){this._fitWrapperFormState();this.adjustContentsDimensions()}.bind(this)),this.observingEvent("resize.maximize",function(n){this._ON_PAGE_RESIZE_MAXIMIZE(n)}.bind(this)),this.__ecOpenPopup!="1"&&window.focus());var n=["jquery-ui","ecount-widget","ecount-grid-constValue","ecount-gridV2","ecount-combine","ecount.ens","ecount-commonExtra"];this.isDefaultViewPage||(n=["jquery-ui","ecount-widget","ecount.ens","ecount-commonExtra"]);this.ecRequire(n,function(){if(console.log(ecount.logger.lifecyle(this.ecPageID,"require base javascript ")),ecount.global.getDestroyedState(this.ecPageID))return!1;this._registerCallbacks();this._registerEventLisenters();this.toggleInitializeControl();this.initDependencies&&this.initDependencies();this.__ecPageDependencies?this.ecRequire.apply(this,this.__ecPageDependencies.concat(this.render.bind(this))):this.render()}.bind(this))},_registerCallbacks:function(){this.callbackID=this.registerCallback(this.onMessageHandler,"onMessageHandler#");this.registerCallback(this._registerLazyInitializer,ecount.widget.LAZY_INITIALIZER);this.registerCallback(this._registerLazyRenderOfGrid,ecount.widget.LAZY_RENDER_CONTROL_GRID);this.registerCallback(this._registerLazyRenderOfControl,ecount.widget.LAZY_RENDER_CONTROL);this.registerCallback(this._onAutoCompleteHandler,ecount.widget.beforeAutoCompleteRequest);this.registerCallback(this.onPreInitPopupHandler,ecount.widget.preInitPopupHandler);this.registerCallback(this._onFormLoadComplete,ecount.widget.FORM_LOAD_COMPLETE);this.registerCallback(this._serverNowDate,ecount.widget.serverNowDate);this._ecParent||this.registerCallback(this._onBookmarkHandler,ecount.widget.PROCESSBOOKMARK);ecount.popup.parent.ecount.callback.find("__EC_UNLOAD_EVENT_CALLBACK_ID")||ecount.popup.parent.ecount.callback.register(function(){var n=[];return function(t,i,r){var u,e,f,o;switch(t){case"register":u=n.find(function(n){return n.id===i});u?u.cbList.push(r):(u={id:i,cbList:[r]},n.push(u));break;case"unregister":_.remove(n,function(n){return n.id===i});break;case"list":return n;case"execute":for(e=_.flattenDeep(n.filter(function(n){return i?n.id===i:!0}).map(function(n){return n.cbList})),f=0,o=e.length;f<o;f++)if(!e[f]())return!1;return!0}}}(),!1,"__EC_UNLOAD_EVENT_CALLBACK_ID")},_onFormLoadComplete:function(n){if(!this.__wrapperStateLoaded&&n&&n.colType){var t=this.getWrapperFormStateConfig(n.colType);this.setWrapperFormState(t)}},_registerEventLisenters:function(){this.events=new ecount.events(this);this.events.on({"bookmark.click":this._onRegisterBookMark,"drawingPaper.all":this._commandHandler,"drawingPaper.history":this._commandHandler,"drawingPaper.shape":this._commandHandler,"drawingPaper.font":this._commandHandler,"drawingPaper.shapeStyle":this._commandHandler,"drawingPaper.layout":this._commandHandler,"drawingPaper.addMappingData":this._commandHandler,"drawingPaper.insertMappingData":this._commandHandler,"drawingPaper.insertHyperlink":this._commandHandler,"drawingPaper.editHyperlink":this._commandHandler,"drawingPaper.deleteHyperlink":this._commandHandler,"drawingPaper.viewSamples":this._commandHandler,"drawingPaper.setting":this._commandHandler,"drawingPaper.allSettings":this._commandHandler,"drawingPaper.shape.dblClick":this._commandHandler,"drawingPaper.shape.select":this._commandHandler,"drawingPaper.shape.deselect":this._commandHandler,"drawingPaper.shape.click":this._commandHandler,"drawingPaper.beginEdit":this._commandHandler,"drawingPaper.endEdit":this._commandHandler,"drawingPaper.shape.createInstance":this._commandHandler,"drawingPaper.shape.beforedestroyInstance":this._commandHandler,"drawingPaper.shape.destroyInstance":this._commandHandler,"drawingPaper.shape.cloneInstance":this._commandHandler,"drawingPaper.shape.clickBtnOldHtml":this._commandHandler,"drawingPaper.shape.clickBtnConvertBackgroundImage":this._commandHandler,"drawingPaper.renderComplete":this._commandHandler,"drawingPaper.contextmenuData":this._commandHandler,"drawingPaper.changeActive":this._commandHandler,"drawingPaper.deSelectPositionCollection":this._commandHandler,"report.toolbar":this._commandHandler,"report.activeArea":this._commandHandler,"report.areaClick":this._commandHandler,"report.resizeMargin":this._commandHandler,"report.resizeMarginEnd":this._commandHandler,"report.changeAreaHeight":this._commandHandler,"report.clickSettingPanel":this._commandHandler,"report.toggleSettingPanel":this._commandHandler,"button.click":this._commandHandler,"helper.click":this._onOpenPopupHelper,"boardView.button.click":this._commandHandler,"boardView.dropdown.click":this._commandHandler,"anchor.click":function(n){n.type=="attachFileList"&&this._commandHandler.apply(this,arguments)}.bind(this),"control.change":this._commandHandler,"control.select":this._commandHandler,"tab.click":this._onChangeTab,"tab.rename":this._onRenameTab,"tab.openLayer":this._onOpenBeforeLayer,"preset.rename":this._onRenamePreset,"preset.dragComplete":this._onPresetDragComplete,"control.openPopup":this._onPopupHandler,"control.openLayer":this._onLayerHandler,"tabPane.onload":this._onLoadTabPane,"tabPane.removeItem":this._onRemoveTabPane,"tabPane.removeAll":this._onRemoveTabPane,"tabContents.onInit":this._onInitTabContents,"tabContents.onload":this._onLoadTabContents,"container.onload":this._onLoadContainer,"form.simpleSearch":this._commandHandler,"form.focusout":this._onFocusOutHandler,"panel.focusout":this._onFocusOutHandler,"form.showCell":this._onRedrawForm,"form.hideCell":this._onRedrawForm,"grid.append":this._gridInitialize,"grid.focus":this._onFocusInGrid,"header.toggle":this._onHeaderToggleHandler,"page.beforeLoad":this.onBeforeLoadIncludePage,"page.afterLoad":this.onAfterLoadIncludePage,"control.changeValidate":this._onChangeValidateState,"form.changeValidate":this._onChangeValidateState,"spacialHotKey.enable":this._enableSpacialHotKeyOnPage,"page.adjustContentsDimensions":this.adjustContentsDimensions,"tabContents.onChangeHeaderTab":this._onChangeHeaderTab,"tabContents.onChangeContentsTab":this.onChangeContentsTab,"tabContents.onChangeHeaderPreset":this._onChangeHeaderPreset,"tabContents.onChangeContentsPreset":this._onChangeContentsPreset,middleTransfer:this._onMiddleTransfer,"page.adjustHeaderSearchDimensions":this.adjustHeaderSearchDimensions,"page.adjustPopupSize":this._adjustPopupSize,"page.showProgressbar":this.showProgressbar,"page.hideProgressbar":this.hideProgressbar,"page.toggleProgressbarLayer":this.toggleProgressbarLayer,"control.sendData":this.onSendGridData,scope:this,"enoteMenu.click":this.onEnoteMenuClick,"grid.changeChildDisplay":this.onChangeChildDisplayInGrid,"dataView.renderComplete":this._onDataViewRenderComplete});_.get(ecount,"grid.event")&&(this.events.register(ecount.grid.event.list.tableReady,this,function(n,t){t.settings.setEventWidgetTriggerObj(this.events)}),this.events.register("grid.onRendering",this,function(){this._gridRenderingOnInit++}),this.events.register(ecount.grid.event.list.preInit,this,function(n,t,i){this.__isIOS&&this.__IOS_RESIZE();ecount.__isEventCaptureMode()&&ecount.eventLog("onGridInit",{type:"onGridInit",ecPageID:this.ecPageID});t.isMoveCursor&&(this.__ec_always_active_grid_id||(this.__ec_always_active_grid_id=[]),this.__ec_always_active_grid_id.push(i.id));this._ecInvoke("onGridInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.renderComplete,this,function(n,t){var i,r;this.__isIOS&&this.__IOS_RESIZE(!0);ecount.__isEventCaptureMode()&&ecount.eventLog("onGridRenderComplete",{type:"onGridRenderComplete",ecPageID:this.ecPageID});this._gridPartitialRenderingStatus=t.partitialRenderingStatus;i="page-render-complete";this.$el.find("#"+i).length==0&&(r=$("<div id='"+i+'\' style="display: none"><\/div>'),this.$el.append(r));this._ecInvoke("onGridRenderComplete",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.afterAppendToPage,this,function(){this._ecInvoke("onGridAfterAppendToPage",Array.prototype.slice.call(arguments))}),this.events.register(ecount.gridV2.event.detach,this,function(){this._onGridDetach.apply(this,arguments)}),this.events.register(ecount.grid.event.list.renderingError,this,function(){this._ecInvoke("onGridRenderingError",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.afterFormLoad,this,function(){this._onGridAfterFormLoad.apply(this,arguments)}),this.events.register(ecount.grid.event.list.afterRowDataLoad,this,function(){this._ecInvoke("onGridAfterRowDataLoad",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.initAddRow,this,function(){return this._ecInvoke("_onGridInitAddRow",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.renderAllRowComplete,this,function(){ecount.__isEventCaptureMode()&&ecount.eventLog("onGridRenderAllRowComplete",{type:"onGridRenderAllRowComplete",ecPageID:this.ecPageID});this._ecInvoke("_onGridRenderAllRowComplete",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.activate,this,function(){this._ecInvoke("_onGridActivate",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.gridResized,this,function(){this._ecInvoke("_onGridgridResized",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.preInitDrag,this,function(){return this._ecInvoke("_onPreInitDrag",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.dragEndPreInit,this,function(){return this._ecInvoke("_onDragEndPreInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.dragEndCompleted,this,function(){return this._ecInvoke("_onDragEndCompleted",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.resizing,this,function(){return this._ecInvoke("_onGridResizing",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.resizeEndCompleted,this,function(){return this._ecInvoke("_onResizeEndCompleted",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.checkAllStart,this,function(){return this._ecInvoke("_onGridCheckAllStart",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.checkAllEnd,this,function(){return this._ecInvoke("_onGridCheckAllEnd",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.multiChecked,this,function(){return this._ecInvoke("_onGridMultiChecked",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeSetting,this,function(){return this._ecInvoke("_onGridFormSettingInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formSetting,this,function(){return this._ecInvoke("_onGridFormSetting",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeShowText,this,function(){return this._ecInvoke("_onGridFormShowTextInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formShowText,this,function(){return this._ecInvoke("_onGridFormShowText",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeHideText,this,function(){return this._ecInvoke("_onGridFormHideTextInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formHideText,this,function(){return this._ecInvoke("_onGridFormHideText",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeAddedColumn,this,function(){return this._ecInvoke("_onGridFormAddedColumnInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formAddedColumn,this,function(){return this._ecInvoke("_onGridFormAddedColumn",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeRemovedColumn,this,function(){return this._ecInvoke("_onGridFormRemovedColumnInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formRemovedColumn,this,function(){return this._ecInvoke("_onGridFormRemovedColumn",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeAddedRow,this,function(){return this._ecInvoke("_onGridFormAddedRowInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formAddedRow,this,function(){return this._ecInvoke("_onGridFormAddedRow",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeRemovedRow,this,function(){return this._ecInvoke("_onGridFormRemovedRowInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formRemovedRow,this,function(){return this._ecInvoke("_onGridFormRemovedRow",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeMerged,this,function(){return this._ecInvoke("_onGridFormMergedInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formMerged,this,function(){return this._ecInvoke("_onGridFormMerged",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeDivided,this,function(){return this._ecInvoke("_onGridFormDevidedInit",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formDivided,this,function(){return this._ecInvoke("_onGridFormDevided",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formAdd,this,function(){return this._ecInvoke("_onGridFormAdd",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formAddItem,this,function(){return this._ecInvoke("_onGridFormAddItem",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formConnectItem,this,function(){return this._ecInvoke("_onGridFormConnectItem",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formDeleteItem,this,function(){return this._ecInvoke("_onGridFormDeleteItem",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeBatchSetting,this,function(){return this._ecInvoke("_onGridFormBeforeBatchSetting",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBatchSetting,this,function(){return this._ecInvoke("_onGridFormBatchSetting",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeTotalSetting,this,function(){return this._ecInvoke("_onGridFormBeforeTotalSetting",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formTotalSetting,this,function(){return this._ecInvoke("_onGridFormTotalSetting",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formBeforeDisplaySetting,this,function(){return this._ecInvoke("_onGridFormBeforeDisplaySetting",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formDisplaySetting,this,function(){return this._ecInvoke("_onGridFormDisplaySetting",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formSetBeforeFixed,this,function(){return this._ecInvoke("_onGridFormBeforeLeftFixed",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formSetFixed,this,function(){return this._ecInvoke("_onGridFormLeftFixed",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formSetBeforeCancelFixed,this,function(){return this._ecInvoke("_onGridFormBeforeCancelLeftFixed",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formSetCancelFixed,this,function(){return this._ecInvoke("_onGridFormCancelLeftFixed",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.fixedChange,this,function(){return this._ecInvoke("_onGridFixedChange",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.selectorBeforeSelect,this,function(){return this._ecInvoke("_onGridSelectorBeforeSelect",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.selectorSelect,this,function(){return this._ecInvoke("_onGridSelectorSelect",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.initMoveContainer,this,function(){return this._ecInvoke("_onGridInitMoveContainer",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.containerMoving,this,function(){return this._ecInvoke("_onGridContainerMoving",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.movedContainer,this,function(){return this._ecInvoke("_onGridMovedContainer",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.beforeSelection,this,function(){return this._ecInvoke("_onGridBeforeSelection",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formSetDragPrepareComplete,this,function(){return this._ecInvoke("_onGridDragPrepareComplete",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.formSetDragComplete,this,function(){return this._ecInvoke("_onGridDragComplete",Array.prototype.slice.call(arguments))}),this.events.register(ecount.gridV2.constEvent.drag.beforeMovingStart,this,function(){return this._ecInvoke("_onDragBeforeMovingStart",Array.prototype.slice.call(arguments))}),this.events.register(ecount.gridV2.cellEvent.renderCompleted,this,function(){return this._ecInvoke("_onGridCellRenderCompleted",Array.prototype.slice.call(arguments))}));this.events.register("dataView.renderComplete",this,function(){return this._ecInvoke("_onDataViewRenderComplete",Array.prototype.slice.call(arguments))});this.events.register("drawingPaper.initControl",this,function(){return this._ecInvoke("_onDrawingPaperInitControl",Array.prototype.slice.call(arguments))});this.events.register("drawingPaper.makeCompleteControl",this,function(){return this._ecInvoke("_onDrawingPaperMakeCompleteControl",Array.prototype.slice.call(arguments))});this.events.register("drawingPaper.initPasteControl",this,function(){return this._ecInvoke("_onDrawingPaperInitPasteControl",Array.prototype.slice.call(arguments))});this.events.register("drawingPaper.shape.initTableCell",this,function(){return this._ecInvoke("_onDrawingPaperShapeInitTableCell",Array.prototype.slice.call(arguments))});_.get(ecount,"grid.event")&&(this.events.register(ecount.grid.event.list.beforeOpeningContextmenu,this,function(){return this._ecInvoke("_onBeforeOpeningContextmenu",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.afterOpeningContextmenu,this,function(){return this._ecInvoke("_onAfterOpeningContextmenu",Array.prototype.slice.call(arguments))}),this.events.register(ecount.grid.event.list.completedOpenContextmenu,this,function(){return this._ecInvoke("_onCompletedopenContextmenu",Array.prototype.slice.call(arguments))}));this.events.register("page.customPageInvoke",this,function(n){if(n&&_.isString(n.commandName))return console.log("command : "+n.commandName+" <== "+this.ecPageID),this._ecInvoke(n.commandName,Array.prototype.slice.call(arguments))});this.events.register("graphEvent.renderComplete",this,function(){return this._ecInvoke("onGraphRenderComplete",Array.prototype.slice.call(arguments))});_.isFunction(this.onBeforeUnloadCheck)&&ecount.popup.parent.ecount.callback.execute("__EC_UNLOAD_EVENT_CALLBACK_ID","register",this.ecPageID,this.onBeforeUnloadCheck.bind(this))},onBeforeRender:function(){return!0},render:function(){var n;console.log(["[timer]",this.ecPageID,"init",Date.now()-this.__timer_initialize].join(" > "));this.__timer_initialize=Date.now();var i=widget.generator,r=i.header(),t=i.contents(),u=i.footer(),f=i.section(),e=!this._ecParent;e&&r.setOptions({favorite:this._favoritesInfo});this.includeTabId&&t.setTabId(this.includeTabId);n=new ecount.transaction({ecPageID:this.ecPageID});n.target("header");this.onPreInitHeader(n);n.target("contents");this.onPreInitContents(n);n.complete(function(n){if(this.onInitHeader.apply(this,[r,this.resource].concat(n.getResponse("header"))),this.onInitContentsDIV){this.onInitContentsDIV(t);this.onInitContents.apply(this,[t,this._leftDiv,this._rightDiv,this.resource])}else this.onInitContents.apply(this,[t,this.resource].concat(n.getResponse("contents")));this.onInitFooter(u,this.resource);this.onInitSection(f,this.resource);e||this.onlyUseContents==!1||(r.disable(),u.disable());var i=this.setLayoutOptions(r.end()),o=this.setLayoutOptions(t.end()),s=this.setLayoutOptions(u.end()),h=this.setLayoutOptions(f.end());console.log(ecount.logger.lifecyle(this.ecPageID,"UI render start"));this.createHeader(i);this.createContents(o);this.createFooter(s);this.createSection(h);this._initTabContentsWidth();this.setBrowserTabTitle(this.getPageTitle());this.popupID&&this.__needChangeTitle&&this.changePopupTile(this.getPageTitle(),!0);this._ecParent&&this.isWmsLayout!=!0&&this.$contents.removeClass("contents")}.bind(this));n.start()},createSection:function(n){var t=$("<div class='section'><\/div>");this.$el&&this.$el.append(t);n?(this.section=new ecount.layout.additionalSection(n),target=this.$el.find(this._sectionClassName),this.section.render(target)):t.addClass("hidden")},_initTabContentsWidth:function(){var n=this.__hasHeaderForm()||this.__hasContentsForm();n&&this._ecPageWidth&&this.applyTabContentsWidth!==!1&&this._setContentsTabContentsWidth(this._ecPageWidth)},getMaxFormColSize:function(){var n=1,t=1;return this.header&&(n=this.header.getMaxFormColsize()),this.contents&&(t=this.contents.getMaxFormColsize()),Math.max(n,t)},__hasHeaderForm:function(n){var t=!!(this.header&&this.header.getForm().length);if(t){var i=this.header.getButton("search"),r=this.header.getTabContents()&&this.header.getTabContents().showFormLayer,u=!this.header.getTabContents()&&this.header.getForm().length==1&&this.header.getForm()[0].showFormLayer;n&&(i=i&&this.header.getButton("search").isVisible());t=!!(i||r||u)}return t},__hasContentsForm:function(n){var i=!!(this.contents&&this.contents.getForm(n).find(function(n){return n.itemList.length})),t=this.contents.getTabContents(),r;if(!i&&t)for(r in t.tabItems)if(t.tabItems[r]&&t.tabItems[r].find(function(n){return n.__type==widget.generator.FORM&&(n.itemList&&n.itemList.length||n.rows&&n.rows.length)})){i=!0;break}return i},setBrowserTabTitle:function(n){n&&!this._ecParent&&(this.isPopupTypeWindow()||!this.popupID)&&(n=n.trimHtml(),window.document.title=n)},getPageTitle:function(){if(this.header.title)return this.header.title},onBeforeDestroy:function(){},destroyAll:function(n){this.onBeforeDestroy();!this.popupID&&ecount.__isEventCaptureMode()&&ecount.eventLog("iframe.beforeunload",{type:"iframe.beforeunload",ecPageID:this.ecPageID});this.preDestroy();this.destroy(n)},preDestroy:function(){this.unlistenToNonDelegatedEvent("img");ecount.global.setDestroyedState(this.ecPageID,!0);ecount.eventDispatchFilter.block(this.ecPageID);this._ecLazyRenderControlRepository&&(this._ecLazyRenderControlRepository.length=0);this._ecLazyRenderControlGridRepository&&(this._ecLazyRenderControlGridRepository.length=0);this.enableTempsave()&&ecount.TemporarySave.timer.unregister(this.ecPageID);ecount.layer.destroy(this.ecPageID);ecount.formset&&ecount.formset.clear(this.ecPageID);this.unregisterModule();this._ecParent||(this.hideProgressbar(!0),this.resource=null,this.stopObservingEvent(),$(this.__ecEventTarget).unbind("mousedown."+this.ecPageID).unbind("mouseup."+this.ecPageID),this.alreadyIncludedLayout&&!this._ecParent&&this.$el&&this.$el.find(this._contentsClassName).unbind("scroll."+this.ecPageID))},destroy:function(n){var t;console.log("--------------------------------------------------::: PAGE DESTROY START  :::--------------------------------------------------");console.log(this.ecPageID+" / "+this.pageID);ecount.runtime.notify(ECountEvent.Type.WRITE_LOG,null,{type:"page.destroy.instance",popupLevel:this.popupLevel,ecPageID:this.ecPageID,prgID:this.prgID});ec$.destroyStyleSheetRules(["WRAPPER_FORM_STATE",this.ecPageID].join("_").ecCamelize());try{ecount.common.unregisterEcRepository&&ecount.common.unregisterEcRepository(null,this.ecPageID)}catch(i){}(ecount.performance("destroy start"),window.ecount&&this.__ecPageLoadcomplete)&&(this.__ecPageAllRendercomplete=!1,this.events.destroy(),_.isFunction(this.onBeforeUnloadCheck)&&ecount.popup.parent.ecount.callback.execute("__EC_UNLOAD_EVENT_CALLBACK_ID","unregister",this.ecPageID),this.popupID||ecount.runtime.stopObserving("menu.changeSectionTogglerState",this.ecPageID),this.header&&(this.header.destroy(),this.header=null),this.contents&&(this.contents.destroy(),this.contents=null),this.footer&&(this.footer.destroy(),this.footer=null),this.hasHelper&&ecount.layer.helper.destroy(this.$el),ecount.global.unregister(this.ecPageID),ecount.runtime.notify(ECountEvent.Type.PAGE_DESTROY,null,{ecPageID:this.ecPageID,parentEcPageID:this.__ecPageID}),t=this.getOpener(),!n&&t&&this.ecRepositoryID&&t.ecount.global.unregisterEcRepository(this.ecRepositoryID),this._ecParent||(this.resource=null),this.$submitForm=null,this.$contents=null,this.$el=null,this.popupID&&this.popupType=="layer"&&(t=$(document.body).find("ul[data-ulecpageID='"+this.ecPageID+"'], div[data-ulecpageID='"+this.ecPageID+"']"),t&&t.length>0&&t.remove()),ecount.global.setRenderingPage&&ecount.global.setRenderingPage(""),ecount.performance("destroy end"),ecount.eventDispatchFilter.allow(this.ecPageID),console.log(ecount.logger.lifecyle(this.ecPageID,"page destroy -- ▶◀ ")),console.log("----------------------------------------------------------------------------------------------------------------------------------------------------"))},unregisterModule:function(){var n=ecount.common.isExistNamespace;try{n(ecmodule.common.approval.clear)&&ecmodule.common.approval.clear(this.ecPageID)}catch(t){}try{n(common.usertabs.report.api.clear)&&common.usertabs.report.api.clear(this.ecPageID)}catch(t){}try{n(ecmodule.common.usertabs.api.clear)&&ecmodule.common.usertabs.api.clear(this.ecPageID)}catch(t){}try{n(ecmodule.inventory.calc.clear)&&ecmodule.inventory.calc.clear(this.ecPageID)}catch(t){}try{n(ecmodule.inventory.customtabs.api.clear)&&ecmodule.inventory.customtabs.api.clear(this.ecPageID)}catch(t){}try{n(ecmodule.inventory.serial.clear)&&ecmodule.inventory.serial.clear(this.ecPageID)}catch(t){}try{n(ecmodule.inventory.loadslipinfo.clear)&&ecmodule.inventory.loadslipinfo.clear(this.ecPageID)}catch(t){}},_requestPreInitLayout:function(){},_enableSpacialHotKeyOnPage:function(n){switch(n.name){case"header.search":this._ENABLE_KEY_F3=!0}},onPreInitHeader:function(){},onPreInitContents:function(){},createVDom:function(){var n="",i=this.popupID&&this.alreadyIncludedLayout?" position-absolute":"",t;ecount.isNotSupportedBrowser&&(n='<div class="page-progress-text">'+ecount.resource.MSG05722+"<\/div>");$('<div class="wrapper-page-progress slogan hidden"><div class="page-progress-icon"><\/div><div class="page-progress-slogan">'+ecount.resource.MSG06104+"<\/div>"+n+"<\/div>").insertBefore(this.$el);$('<div class="wrapper-overlay'+i+'"><\/div>').insertBefore(this.$el);this.popupID||(t=$("#ifrmExcel"),t.length==0&&$("body").append($('<iframe id="ifrmExcel" name="ifrmExcel" style="width:0px; height:0px;border:0" class="hidden"><\/iframe>')));this.alreadyIncludedLayout&&this.popupID?this.$submitForm=$("#__ecSubmitForm"):(this.$submitForm=$("#__ecSubmitForm"),this.$submitForm.length==0&&(this.$submitForm=$('<form id="__ecSubmitForm" method="POST"/>'),$("body").append(this.$submitForm)));this.$el.append($("<div class='__ecwrapper' style='position:absolute;left:0;right:0;bottom:0;top:0;opacity:0;z-index:3000;background:#ffffff;'><\/div>"))},initHelperButton:function(n){n.isUseHelperButton=this.isUseHelperButton},createHeader:function(n){if(n){this.initHelperButton(n);var t;this.header=new ecount.layout.header(n);t=n._isBoardHeader||n._isUserGroupHeader?this.$el.find(this._headerClassName):this.$el.find(".wrapper-title");this.header.render(t)}else this.$el.find(this._headerClassName).addClass("hidden")},createContents:function(n){if(n){this.contents=new ecount.layout.contents(n);var t=this.$contents;this._ecParent&&t.css("marginLeft",0);this.contents.render(t)}else this.$contents.addClass("hidden")},createFooter:function(n){var t=this.$el.find(this._footerClassName);t.addClass("hidden");$.isNull(this.__footerAddedOption)||(n=$.extend(n||{},{addedOption:this.__footerAddedOption}));n&&(this.footer=new ecount.layout.footer(n),this.footer.render(t))},changeTitle:function(n){this.header&&this.header.changeTitle&&this.header.changeTitle(n)},createHelper:function(n){if(!$.isEmpty(this.PROGRAM_ID)){var t=widget.generator.control().define("widget.button","helper").label(ecount.resource.BTN00083).css("btn btn-default btn-title-manual").setOptions({direction:"left"}).end();n.btnItems.push(t)}},_onOpenPopupHelper:function(){var n=this.getLocationHashData();this.openWindow({url:"/ECERP/SVC/ECU/ECU930M?navIndex=1",name:ecount.resource.BTN00083,param:{PROGRAM_ID:this.PROGRAM_ID,PRG_ID:this.PROGRAM_ID,MENU_SEQ:n.menuSeq||null,width:1100<ecount.infra.getPageWidthFromConfig(!0)?ecount.infra.getPageWidthFromConfig(!0):1100,height:800,gubun:"1"},popupType:this.isUseHelperButton?!1:!0})},onInitHeader:function(){},onInitContents:function(){},onInitFooter:function(){},onInitControl:function(){},onInitSection:function(){},onInitControlByCombine:function(){},onBeforeLoadComplete:function(){},onLoadComplete:function(){},listenToNonDelegatedEvent:function(n){switch(n){case"img":this.$el.find("img").each(function(){ECountEventHandler.listenTo(this,"error")})}},unlistenToNonDelegatedEvent:function(n){switch(n){case"img":this.$el&&this.$el.find("img").each(function(){$(this).unbind("error")})}},onAfterLoadComplete:function(){this._ecLazyLoadCompleteRepository&&this.setTimeout(function(){for(var n=0,t=this._ecLazyLoadCompleteRepository.length;n<t;n++)if(this._ecLazyLoadCompleteRepository[n]()===!1)break;this._ecLazyLoadCompleteRepository=null;this._gridRenderingOnInit||(this.__ecPageAllRendercomplete=!0,ecount.eventDispatchFilter.allow(this.ecPageID),ecount.errorLogMode.on())}.bind(this),0);this.__ecOpenPopup=="hiddenFrame"&&this.setHiddenFrameComplate(!1);this.forceRefresh();ecount.isShowingFormInfoVersion()&&this.showFormInfoVersion();this.$el&&this.$el.addClass("page-loadComplete");parent.ecount&&parent.ecount.pageInfo&&parent.ecount.pageInfo.setPrevMenuID("");parent.ecount&&parent.ecount.pageInfo&&parent.ecount.pageInfo.setPageLoading(!1);ecount.global.setRenderingPage&&ecount.global.setRenderingPage("")},_onChangeValidateState:function(n){if(this._ecParent&&n.tabId){this._ecParent.contents.getPage(this.pageID,!0,!0)&&this._ecParent.contents.getPage(this.pageID,!0,!0).tabId&&(n.tabId=this._ecParent.contents.getPage(this.pageID,!0,!0).tabId);var t,i=this._ecParent;if(t=n.target==widget.generator.CONTENTS?i.contents.getTabContents():i.header.getTabContents(),t)t.onChangeControlValidateState(n)}},_onHeaderToggleHandler:function(n){n.showStatus||this.alreadyIncludedLayout||this.__hasFrame||this.isLoadPageAsStandAlone||ecount.popup.destroyAll();this.onHeaderToggleHandler(n)},onHeaderToggleHandler:function(){},onGridAfterFormLoad:function(){},_onGridAfterFormLoad:function(n,t,i){ecount.performance("onGridAfterFormLoad - gridID:"+i.id);this._ecInvoke("onGridAfterFormLoad",Array.prototype.slice.call(arguments))},onGridAfterRowDataLoad:function(){},onGridRenderingError:function(){},onGridInit:function(){},onGridRenderBefore:function(){},onGridAfterAppendToPage:function(){this.listenToNonDelegatedEvent("img")},onGridRenderComplete:function(n,t,i){var u,f,s,e,o,r;i._renderComplete=!0;this._gridRenderingOnInit>0?(this._gridRenderingOnInit--,this._gridRenderingOnInit==0&&this._loadedContainerCount>=this._containerCount&&!this.__ecPageLoadcomplete&&this._onLoadContainer(null,!0)):(this.__ecPageAllRendercomplete=!0,ecount.eventDispatchFilter.allow(this.ecPageID),ecount.errorLogMode.on());ecount.performance("onGridRenderComplete - gridID:"+i.id);u=this.popupLevel?parseInt(this.popupLevel)+1:1;f=ecount.popup.parent;for(s in f.ecount.popup.list[u]){n.unfocus=!0;break}(this.__ecOpenPopup=="1"||this.__unfocusOnGridRenderComplete)&&(n.unfocus=!0,this.__unfocusOnGridRenderComplete&&(this.__unfocusOnGridRenderComplete=!1));ecount.isMobile&&this.__ecPageLoadcomplete==!1&&(n.unfocus=!0);e=this.contents&&this.contents.$el;this.adjustRenderCompleteScroll(e);this.__ecOpenPopup=="hiddenFrame"&&!!this.isGridRenderAfterPrint2==!0&&this.setHiddenFrameComplate(!0);i.grid&&(i.grid.isFreeSizeWidth()&&(this.__hasHeaderForm()||this.__hasContentsForm())&&!t.columnForm&&(o=this.getMaxFormColSize(),r=this.getWrapperFormStateConfig()[o],r&&r.TABLE_WIDTH&&i.$el.css({maxWidth:r.TABLE_WIDTH})),this.__adjustComponentDependsOnGridWidth(i));this._onGridCellRenderCompleted()},adjustRenderCompleteScroll:function(n){n&&n.length>0&&this._WINDOW_SCROLL_TOP&&n.hasClass("contents-fixed")&&(n.scrollTop(this._WINDOW_SCROLL_TOP),this._WINDOW_SCROLL_TOP=null)},__adjustComponentDependsOnGridWidth:function(n){var t=function(n){var i=n.getResizeResult(),t;return i&&(t=n.getResizeResult().resizedTotalWidth,n.isFreeSizeWidth()&&(t=Number.MAX_VALUE)),t}(n.grid),i;t&&(i=!this.__hasHeaderForm(!0)&&!this.__hasContentsForm(!0),i&&(this.__wrapperStateLoaded=!1,ec$.destroyStyleSheetRules(["WRAPPER_FORM_STATE",this.ecPageID].join("_").ecCamelize()),this.applyWrapperFormState!==!1&&(this.__headerWidthStateLoaded=!0,this.__setPageHeaderWidthForGrid(t))))},__setPageHeaderWidthForGrid:function(n){var t=Math.min(parseInt($(ecount.parentFrame).innerWidth(),10),n);(!this._ecHeaderWidthForGrid||this._ecHeaderWidthForGrid<t)&&(this._ecHeaderWidthForGrid=t,ecount.runtime.notify(this.ecPageID,ecount.widget.RESIZE_FORM_HEADER,{TABLE_WIDTH:this._ecHeaderWidthForGrid,MIN_WIDTH:ecount.infra.getMinimnumWidthOfForm(1)}))},onGridCellRenderCompleted:function(){},_onGridCellRenderCompleted:function(){var n,t,i;if(this._ecLazyRenderControlGridRepository&&this._ecLazyRenderControlGridRepository.length>0){for(n=0,t=this._ecLazyRenderControlGridRepository.length;n<t;n++)i=this._ecLazyRenderControlGridRepository[n],i.call(this);this._ecLazyRenderControlGridRepository.length=0}},onGridInitAddRow:function(){},_onGridInitAddRow:function(n,t){var i=this.onGridInitAddRow(n,t);return i||(i=t),i},onGridRenderAllRowComplete:function(){},_onGridRenderAllRowComplete:function(n,t,i){if(t.addRowMoveScroll)if(t.addRowEndKey!=t.addRowStartKey){var r;r=this.eventContainer&&this.eventContainer.length>0?this.eventContainer.find(".contents"):$(document);r.scrollTop(r.scrollTop()+100)}else t.isAddedFirstRow&&(this._gridAddRowLastKey=t.addRowStartKey),t.isAddedLastRow&&!$.isNull(this._gridAddRowLastKey)&&(i.grid.setCellFocus(t.focusColumnId,this._gridAddRowLastKey),this._gridAddRowLastKey=null);this._onGridCellRenderCompleted();this.adjustContentsDimensions();this.onGridRenderAllRowComplete(n,t)},_onGridgridResized:function(){this.adjustContentsDimensions()},_onGridDetach:function(){this.__ec_active_grid_id=null},_parseCommand:function(n,t){if(arguments.length==1){var i=n.split("-");return i.shift(),"on"+i.select(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join("")}return"on"+[n||"",t||""].select(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join("")},_executeCommand:function(n,t,i,r){r.command&&this._commandHandler(n,t,i,r)},_ON_PAGE_MEDIA_ERROR:function(n,t,i,r){r.target=t.target;this.onMediaError(r)},_ON_PAGE_CLICK:function(n,t,i,r){if(i&&n.handler==ECountEvent.Type.CLICK_CONTROL)r.command||(r.command=this._parseCommand(i.containerName,i.id)),this._commandHandler(n,t,i,r);else if(n.handler==ECountEvent.Type.CLICK_LAYER&&this._CHECK_TAB_EVENT(r))this._executeCommand(n,t,i,r);else switch(r.command){case"tab.change":$(t.target).hasClass("btn-fn")?r=_.extend(r,{isTabFN:!0}):this._onChangeTab(r);break;case"tab.close":this.onDynamicTabClose(r);break;case"preset.change":this._onChangePreset(r);break;case"preset.setDefault":this.onSetDefaultPreset(r);break;case"preset.save":this.onPresetSave(r);break;case"preset.close":this.onPresetClose(r);break;case"tab.activeOnFirst":r.next=function(){r.formSer=r.tab.formSer;this._onChangeTab(r)}.bind(this);this.events.triggerEvent(r.command,r);break;case"tab.linkAction":r.command=this._parseCommand(r.target,"tabAction_"+r.linkId);this._commandHandler(n,t,i,r);break;case"tab.toggle":var u=r.command.split(".");r.command=this._parseCommand(r.target,"tabAction"+u[0]+u[1].charAt(0).toUpperCase()+u[1].slice(1));this._commandHandler(n,t,i,r);break;default:this._commandHandler(n,t,i,r)}},_CHECK_TAB_EVENT:function(n){var t="";return n.isEditMode?(t=!0,n.command=n.editModeCommand):n.isNewFormMode?(t=!0,n.command=n.newFormCommand):t=(n.command||"").indexOf("tab.")<0,n.command&&n.command.indexOf("preset.")>-1&&(t=!1),t},_ON_PAGE_CLICK_SERVICE:function(n,t,i,r){this._ON_PAGE_CLICK(n,t,i,r)},_commandHandler:function(n,t,i,r){var u;if(ecount.global.getDestroyedState(this.ecPageID)){console.log(this.ecPageID+" no page instance!! << _commandHandler");console.log("current>> "+window.ecPageID);return}if(arguments.length==1&&arguments[0].type=="control.change"){if(r=n,u=r.isCommandFromGrid?r.command:"onChangeControl",n.action&&(n.type=n.action),n&&n.__self&&n.__self.gridID&&!n.__self.pcid&&!r.isCommandFromGrid){var f=this.contents.getGrid(n.__self.gridID,!1),e=f&&f.getGridVersion&&f.getGridVersion(),o=e==="v3"&&!n.__self.gridColumnID?!1:!0;if(f&&o&&f._ON_CHANGE(n,n.event||{},n.__self,r)==!1)return}}else arguments.length==1?(arguments[0].command?u=n.command:n.targetID&&(u=this._parseCommand(n.targetID)),r=n):r&&(r.command?u=r.command:r.targetID&&(u=this._parseCommand(r.targetID)));u&&(ecount.page.isDebugMode()&&console.log("command : "+u+" <== "+this.ecPageID),typeof this[u]=="function"&&this._ecInvoke(u,[_.extend({event:t},r)]),this.enableTempsave()&&ecount.TemporarySave.timer.rasingEvent(this.ecPageID))},_ecInvoke:function(n,t){var i,r,u;if(["onGridTbodyChange","onGridTfootChange"].contains(n)&&this[n])return this[n].apply(this,t);if(this._ecParent&&this._ecParent[n+"_PAGE"])return r=this,t=t||[],u=t.clone(),t.push(this),t.push(function(){r[n].apply(r,u)}),this._ecParent[n+"_PAGE"].apply(this._ecParent,t);if(this._ecIncludedPageList){if(i=this._ecIncludedPageList[this.contents.currentTabId||this.header.currentTabId],i){if(this[n+"_PAGE"])return r=i,u=t.clone(),t.push(i),t.push(function(){r[n].apply(r,u)}),this[n+"_PAGE"].apply(this,t);if(i[n])return i[n].apply(i,t)}else if(this[n])return this[n].apply(this,t)}else if(this[n])return this[n].apply(this,t)},onChangeControl:function(){},onBeforeLoadIncludePage:function(){},_onLayerHandler:function(n){var t=this,i=function(){var i=Array.prototype.slice.call(arguments);i.push(n.parameter.responseID||t.callbackID);i.push(t.popupID||t.pageID);i.push(t.popupLevel==undefined?1:parseInt(t.popupLevel)+1);n.handler.apply(null,i)};this._ecInvoke("onLayerHandler",[n.control,n.parameter,i])},onLayerHandler:function(n,t,i){i&&i(t)},onAfterLoadIncludePage:function(n){var t=this._ecLazyLoadPageCBRepository[n.pageID];t&&t();this.afterLoadIncludePage()},sendMessage:function(n,t){if(this.responseID){var r=Array.prototype.slice.call(arguments),i=ecount.page.popup.prototype._getParent.apply(this,arguments);if(!i)return;this.alreadyIncludedLayout||i.ecount.global?this.__ecPageID?i.ecount.global&&i.ecount.global.executeCallback(this.__ecPageID,this.responseID,n,t):i.ecount.callback.execute.call(null,this.responseID,n,t):i.ecount.callback.execute.call(null,this.responseID,n,t)}},onMessageHandler:function(){},_onMessageHandler:function(n,t){if(ecount.global.getDestroyedState(this.ecPageID)||!this.__ecPageAllRendercomplete){console.log(this.ecPageID+" pageHasNotBeenCreated or HasBeenDestroyed!! << _onMessageHandler");console.log("current>> "+window.ecPageID);return}this.onMessageHandler(n,t)},onAutoCompleteHandler:function(n,t,i,r){r&&r(i)},_onAutoCompleteHandler:function(n,t,i,r){n.setRequestParameter.call(n,t,i);this._ecInvoke("onAutoCompleteHandler",[n,t,i,r])},onAutocompleteBeforeSelectedHandler:function(){return!0},onPopupHandler:function(n,t,i){i&&i(t)},_onPopupHandler:function(n){var t=this,i=function(){var i=Array.prototype.slice.call(arguments);i.push(t.callbackID);i.push(t.popupID||t.pageID);i.push(t.popupLevel==undefined?1:parseInt(t.popupLevel)+1);n.handler.apply(null,i)};this._ecInvoke("onPopupHandler",[n.control,n.parameter,i])},onPreInitPopupHandler:function(){return!0},onBeforeClosePopupByXButton:function(){return!0},onBeforeClosePopup:function(){return!0},onBeforeClosePopupHandler:function(){},onCloseChildPopup:function(){},onClosedPopupHandler:function(){},_onClosedPopupHandler:function(){this.parentPageID&&this._onGridFocusHandler(!0);this.onClosedPopupHandler.apply(this,arguments)},_onGridFocusHandler:function(n){var i=this.popupType&&this.findPageInstance(this.parentPageID),t=i&&i.contents&&i.contents.getGrid();t&&t.grid&&t.grid.popupGridFocus&&t.grid.popupGridFocus(n)},onInitTabContents:function(){},_onInitTabContents:function(n){this.onInitTabContents(n)},onLoadTabContents:function(){},_onLoadTabContents:function(n){ecount.performance("_onLoadTabContents start");var i=n.activeDropdownTabID||n.activeTabId,r=this.__ecOpenPopup=="1"||!this.setAutoFocusOnTabPane?!1:!0,t=n.target.toString().toLowerCase();t=t=="row"?"contents":t;this[t].changeTab(i);this._ecCallbackRepository.push(function(){var n=this[t].getTabPane(i);n&&n.activate(!0,r)});this.onLoadTabContents&&this.onLoadTabContents(n);ecount.performance("_onLoadTabContents end")},onLoadTabPane:function(){},_onLoadTabPane:function(n){ecount.performance("_onLoadTabPane start");var t=n.tabId,i=n.activeTabId,r=n.activeDropdownTabID,u=this.__ecOpenPopup=="1"||!this.setAutoFocusOnTabPane?!1:!0;n.target===widget.generator.CONTENTS?(i===t||r===t)&&(this.contents.changeTab(t),this._ecCallbackRepository.push(function(){var n=this.contents.getTabPane(t);n&&n.activate(!0,u)})):n.target===widget.generator.HEADER&&(i===t||r===t)&&(this.header.changeTab(t),this._ecCallbackRepository.push(function(){var n=this.header.getTabPane(t);n&&n.activate(!0,u)}));this.onLoadTabPane&&this.onLoadTabPane(n);ecount.performance("_onLoadTabPane end")},_onChangeTab:function(n){var t=this.onBeforeChangeTab(n),i;if(t){i=n.containerName||n.target;switch(i){case widget.generator.HEADER:this.header.changeTab(n.tabId,null,null,n);break;case widget.generator.CONTENTS:case widget.generator.ROW:this.currentTabId=n.tabId;this.contents.changeTab(n.tabId,null,null,n)}}return t},_onChangePreset:function(n){var t=this.onBeforeChangePreset(n),i;if(t){i=n.containerName||n.target;switch(i){case widget.generator.HEADER:this.header.changePreset(n.presetId,n);break;case widget.generator.CONTENTS:this.contents.changePreset(n.presetId,n)}}return t},_onRenameTab:function(){},_onRenamePreset:function(){},_onPresetDragComplete:function(){},_onOpenBeforeLayer:function(n){this.onOpenBeforeLayer&&this.onOpenBeforeLayer(n)},_onRemoveTabPane:function(){ecount.global.beforeReloadPage()},_onLoadContainer:function(n,t){function u(){this.setTimeout(this._onLoadComplete.bind(this),0)}var f,e,r,o,s,i;if(ecount.global.getDestroyedState(this.ecPageID))return!1;if(console.log(ecount.logger.lifecyle(this.ecPageID,"load container - "+(n?n.target:""))),ecount.performance("_onLoadContainer - "+(n?n.target:"")),this._loadedContainerCount++,this._loadedContainerCount===this._containerCount){if(this._ecParent||(this.$el.show(),this.hideProgressbar(!0)),f=function(){var t,i,r,n;if(this._gridRenderingOnInit>0){if(t=this.contents.getGrid(!1,!1),t.length>0)for(this.__ecPageAllRendercomplete=!1,i=0,r=t.length;i<r;i++)if(n=t[i],n._hasRowData){n.getSettings().setCommonIsLazyInitializeOnLoad(!1);this.onGridRenderBefore(n.id,n.getSettings());if(ecount.global.getDestroyedState(this.ecPageID))return!1;n.grid.render()}}else u.call(this)},this._ecLazyRenderControlRepository.length>0){for(console.log(ecount.logger.lifecyle(this.ecPageID,"execute layerRenderControlRepository")),e=Date.now(),r=0,o=this._ecLazyRenderControlRepository.length;r<o;r++)s=this._ecLazyRenderControlRepository[r],s.call(this);console.log(ecount.logger.lifecyle(this.ecPageID,"  --->  running time : "+(Date.now()-e)));this._ecLazyRenderControlRepository.length=0}f.call(this)}else t&&u.call(this);i=this.$contents.find("#titleContents");i&&i.length>0&&(i.attr("tabindex",-1)[0].focus(),i.css("outline","none"))},onBeforeChangeTab:function(){return!0},onBeforeChangePreset:function(){return!0},_onChangeHeaderPreset:function(n){this.onChangeHeaderPreset&&this.onChangeHeaderPreset(n)},_onChangeContentsPreset:function(n){this.onChangeContentsPreset&&this.onChangeContentsPreset(n)},onChangeHeaderPreset:function(){},onChangeContentsPreset:function(){},_onChangeHeaderTab:function(n){this.onChangeHeaderTab&&this.onChangeHeaderTab(n)},onChangeHeaderTab:function(){},onChangeContentsTab:function(){},_onInitControl:function(n,t){var i={parentPageID:this.pageID,responseID:this.callbackID,inIncludePage:!!this._ecParent,eventContainer:this.eventContainer,ecPageID:this.ecPageID,alreadyIncludedLayout:this.alreadyIncludedLayout,popupID:this.popupID,popupLevel:this.popupLevel,popupType:this.popupType};_.isEmpty(this._formdata)?(t.setOptions(i),this.onInitControl.apply(this,arguments)):(this._formdata[n]&&t.setOptions({extractData:_.cloneDeep(this._formdata[n])}),t.setOptions(i),this.onInitControl_Submit&&this.onInitControl_Submit(n,t))},_onInitControlByCombine:function(){this.onInitControlByCombine.apply(this,arguments)},onInitGridInitalize:function(){},_gridInitialize:function(n){var t=n.__self,i,r;if(t&&(t._gIndex=this._gridCount++),t.settings&&(t.settings.setCommonParentPageId(this.pageID),t.settings.setCommonEcPageId(this.ecPageID),t.settings.setAlreadyIncludedLayout(this.alreadyIncludedLayout),t.settings.setCommonWidgetInitializer(this._onInitGridControl.bind(this)),t.settings.setEventContainerObj(this._ecParent?this._ecParent.eventContainer:this.popupID&&this.popupType!=="window"?this.eventContainer:document.body),t.settings.setCommonPopupLevel(this.popupLevel),t.settings.setCommonPopupID(this.popupID),t.settings.setCommonPopupType(this.popupType),t.settings.setCommonWidgetCallbackId(this.callbackID),t.settings.setEventProgressBarObj({show:this.onGridShowProgressbar.bind(this),hide:this.onGridHideProgressbar.bind(this)}),t.settings.setEventBodyDelegatorObj(this.__ecEventTarget),t.settings.setLayoutHeader(this.header.$header),t.settings.setLayoutContents(this.contents.$el)),this.onInitGridInitalize)this.onInitGridInitalize(n.__self.id,t.settings);ecount.widget.isVisible(t.$el[0])||(i=this._ecParent?this._ecParent.events:this.events,r=function(){this.onInitialize();i.unregister("tab.click",this,r)},i.register("tab.click",t,r))},_onInitGridControl:function(n){n.setOptions({responseID:this.callbackID,inIncludePage:!!this._ecParent})},_onFocusInGrid:function(n,t){this._toggleActivedGrid(t)},clone:function(){},_serverNowDate:function(){var n=ecount.global.findViewBag(this.ecPageID);return n?n.LocalTime:null},onBeforeEventHandler:function(){return!0},_onRegisterBookMark:function(n){var t=n.favorite;this.openWindow({url:"/ECERP/Popup.Common/CM400P_01",name:ecount.resource.LBL09437,param:$.extend({width:530,height:270,groupSeq:$.url().ecHash.groupSeq||$.url().param.groupSeq},t),fResponseID:ecount.widget.PROCESSBOOKMARK})},_refreshBookMark:function(){var t=$.url().domainType,n;t=="E"?(n=ecmodule.favorite,!n&&parent&&parent.ecmodule&&parent.ecmodule.favorite&&(n=parent.ecmodule.favorite),!n&&!ecount.isMobile&&opener&&opener.ecmodule&&opener.ecmodule.favorite&&(n=opener.ecmodule.favorite)):t=="C"?n=ecount.runtime.root.ecount.global.findPageInstance("csa.csa011fav"):t=="U"&&(n=ecount.runtime.root.ecount.global.findPageInstance("upa.upa001m"));n&&n.setReload()},_onBookmarkHandler:function(n,t){t.Status==200?(this.header.changeBookmarkCondition(t.registered,t.Data),this._refreshBookMark()):_.isBoolean(t.isSaveFavority)&&this.header.changeBookmarkCondition(t.isSaveFavority);t.callback&&t.callback()},openWindow:function(n){this._getPopupMetadata(n);n.param=n.param||{};n.param.responseID=n.fResponseID||this.callbackID;n.param.ecRepositoryID=ecount.common.createPageOption(this.ecPageID,n.pageOption);n.onlyCloseMenuChange==!0&&(n.popupType=this.openPopupTypeCheck());ecount.popup.openWindow(n)},openWindowV5:function(n){return new Promise(function(t){ecount.common.getV5Application().then(function(t){var i=_.extend({viewerType:"popup",responseMessageID:"responseMessageID_"+Math.random()*1e3,popupOption:{width:800,height:500},id:"viewer_"+Math.random()*1e3},n);return t.navigateAsync(i)}).then(t)})},isEditingCheck:function(){return!1},_getPopupMetadata:function(n){return n=n||{},n.parentPageID=this.popupID||this.pageID,n.__ecPageID=this.ecPageID,n.popupLevel=n.popupLevel==undefined?this.popupLevel?parseInt(this.popupLevel)+1:1:parseInt(n.popupLevel)+1,n.responseID=this.callbackID,n.alreadyIncludedLayout=!0,this.__ecOpenPopup==="popupType3fromIframe"&&(n.alreadyIncludedLayout=!0),n},getPopupMetadata:function(){return this._getPopupMetadata.apply(this,arguments)},getIncludedPageDefaultParam:function(){var n={alreadyIncludedLayout:this.alreadyIncludedLayout};return this.popupID&&(n.popupID=this.popupID,n.popupType=this.popupType,n.popupLevel=this.popupLevel),n},openPopupTypeCheck:function(){try{return this.popupType=="window"||!ecount.popup.parent.ecount.menu.loaded}catch(n){return console.log(n),!0}},close:function(n,t){function r(t){var e,r;if(this.popupType==="layer")try{var u=ecount.page.popup.prototype._getParent.apply(this,arguments),f=ecount.popup.parent.ecount.popup,i=ecount.runtime.getPage(this.__ecPageID);n!==!1&&this.__ecOpenPopup!="1"?(u&&i&&(e=i.getFocusedGridID&&i.getFocusedGridID(),r=!!e||i.$el&&i.$el.find(document.activeElement).length>0,r||u.focus()),f.setFocusOnTarget(this.popupID,this.popupLevel,!1,r)):n===!1&&(this.disableFocusForParent=!0);ecount.__isEventCaptureMode()&&ecount.eventLog("ecount.page.prototype.close",{action:"ecount.page.prototype.close",type:"ecount.page.prototype.close",popupId:this.popupID,ecPageID:this.ecPageID,popupLevel:this.popupLevel,__ecPageID:this.__ecPageID});f.destroy(this.popupID,this.popupLevel,ecount.page.prefix+this.pageID,null,null,null,t)}catch(o){console.log(o)}else ecount.__isEventCaptureMode()&&ecount.eventLog("ecount.page.prototype.close",{action:"ecount.page.prototype.close",type:"ecount.page.prototype.close",popupId:this.popupID,ecPageID:this.ecPageID,popupLevel:this.popupLevel,__ecPageID:this.__ecPageID}),this.destroy(),window.close(),(ecount.isMobile||ecount.common.isInApp)&&window.ReactNativeWebView&&window.ReactNativeWebView.postMessage("close")}var i=this;this.__ecPageLoadcomplete||t===!0?r.call(i,"click"):this._registerLazyLoadComplete(function(){return r.call(i),!1})},isPinAcitve:function(){if(this.__ecPageID&&this.popupType==="layer"){var n=null;try{n=ecount.popup.dimension.get(this.ecPageID.replace(/_([0-9]+)$/g,""))||null}catch(t){n=null}return n?n:!1}return!1},removeActivePin:function(n){try{ecount.popup.dimension.remove(n||this._default.position.POPUP_ID);var t=this.parentPageID&&this.findPageInstance(n||this.parentPageID);t&&t.$el.parents(".ui-dialog").find(".ui-dialog-titlebar-pin").removeClass("active");t&&t.$el.parents(".ui-dialog").find(".ui-dialog-titlebar-pin").removeClass("ui-dialog-titlebar-pinned");t&&t.$el.parents(".ui-dialog").find(".ui-dialog-titlebar-pin").addClass("ui-dialog-titlebar-pin")}catch(i){}},setLayout:function(n){for(var t,u,h,s,c,e=n.columns,o=0,f=0,l=e.length;f<l;f++){if(e[f].linechange)break;e[f].isHideColumn!="1"&&e[f].isHideColumn!==!0&&(o=o+e[f].width)}var i=0,r=this.height||500,a=parseInt($(ecount.parentFrame).innerHeight(),10)-10;if(r=Math.min(r,a),opener&&this.popupType==="window"){t=opener.window;i=Math.min(parseInt($(ecount.parentFrame).innerWidth(),10)-10,o+80);var v=t.screenLeft?t.screenLeft:t.screenX,y=t.screenTop?t.screenTop:t.screenY,p=v+t.innerWidth/2-i/2,w=y+t.innerHeight/2-r/2;this.isChangePopupType||(window.moveTo(p,w),window.resizeTo(i,r))}else try{if(this.isPinAcitve()||this.isNotUsePopupFormSize)return;i=Math.min(parseInt($(ecount.parentFrame).innerWidth(),10)-10,o+75);u=ecount.page.popup.prototype.getEcPopup.apply(this);u&&(h={width:i,height:r},s=ecount.popup.setLayerSize(h,!1),i=s.width,r=s.height,u[0].ecDialog("option","width",i),u[0].ecDialog("option","height",r),u[0].ecDialog("open"),ecount.__isEventCaptureMode()&&(c={type:"resizeLayer",id:u[0].attr("id"),ecPageID:u[0].attr("data-pageid")},ecount.eventLog("resizeLayer",c)))}catch(b){}},getWindowSize:function(){return{screenWidth:parseInt($(ecount.parentFrame).innerWidth(),10)-10,screenHeight:parseInt($(ecount.parentFrame).innerHeight(),10)-50}},resizeLayer:function(n,t){var r,i,e;if(this.popupType!=="window"||this.isChangePopupType)try{if(r=this.isPinAcitve(),r)if(this.isCheckPinActive===!0)n=r.WIDTH,t=r.HEIGHT;else return;if(i=this.getEcPopup(),i){var u=this.getWindowSize(),o={width:n,height:t},f=ecount.popup.setLayerSize(o,!1);n&&(n=f.width,i[0].ecDialog("option","width",n>u.screenWidth?u.screenWidth:n));t&&(t=f.height,i[0].ecDialog("option","height",t>u.screenHeight?u.screenHeight:t));ecount.__isEventCaptureMode()&&(e={type:"resizeLayer",id:i[0].attr("id"),ecPageID:i[0].attr("data-pageid")},ecount.eventLog("resizeLayer",e))}}catch(s){}else n&&t&&window.resizeTo(n,t)},getParentInstance:function(){var n=ecount.page.popup.prototype._getParent.apply(this,arguments),t,i;return n&&n.ecount&&n.ecount.global?this.__ecPageID&&(t=n.ecount.global.findPageInstance(this.__ecPageID),!$.isNull(t))?t:this.alreadyIncludedLayout||this.__ecPageID?n[ecount.page.prefix+this.__ecPageID]:n[ecount.page.prefix+this.parentPageID]?n[ecount.page.prefix+this.parentPageID]:(i=this.popupID.replace(ecount.page.prefix,"").split(ecount.popupIDDelimiter)[0],n[ecount.page.prefix+i]):null},findPageInstance:function(n,t){var i;return i=this.popupType=="layer"?ecount.popup.parent:opener&&opener.ecount.popup.parent,Number(t)>1?i.ecount.global.findPageInstance(n):this.getParentInstance()},getEcPopup:function(){var n=ecount.popup.parent;return n.ecount.popup.get(this.popupID,this.popupLevel)},changePopupTile:function(n,t){var i=this.getEcPopup();i&&i[0].ecDialog("option","title",n);t&&this.changeTitle.apply(this,arguments)},addPageClass:function(n){$.isArray(n)||(n=[n]);for(var t=0;t<n.length;t++)this.$el.addClass(n[t])},removePageClass:function(n){$.isArray(n)||(n=[n]);for(var t=0;t<n.length;t++)this.$el.removeClass(n[t])},setFixedHeader:function(n){var t=this.$el.find(this._headerClassName);this.__isHeaderFixed=n;this.alreadyIncludedLayout||(n?t.hasClass("header-fixed")||t.addClass("header-fixed"):t.hasClass("header-fixed")&&t.removeClass("header-fixed"))},setFocusOnPage:function(n,t){switch(t){case 1:this.__unfocusOnGridRenderComplete=n}},setFocusOutPage:function(){this.eventContainer?this.eventContainer.focus():window.focus()},_onRedrawForm:function(){ecount.global.beforeReloadPage()},onFocusInControlHandler:function(){},onFocusOutControlHandler:function(){},_onFocusOutControlHandler:function(n){this._ecInvoke("onFocusOutControlHandler",[n])},_onFocusInControlHandler:function(){return},onFocusMoveHandler:function(){},_onFocusOutHandler:function(n){this.__ecPageLoadcomplete&&this._ecInvoke("onFocusOutHandler",[n])},onFocusOutHandler:function(n){var t,i,f,r,u;return n.type=="panel.focusout"?(t=n.__self,i=this.contents.find(function(n){return n.__type==t.__type&&parseInt(t._focusIndex)+1==parseInt(n._focusIndex)}),i.length>0?(i[0].setFocus(0),!0):!1):(f=n.type=="form.focusout"?n.__self.itemIndex+1:0,r=this.contents.getForm()[f],r?(u=r.getControlByIndex(0),u&&u.setFocus(0),!0):!1)},onMouseupHandler:function(){},EXPORT_EXCEL:function(n){var t={EditMode:ecenum.editMode.exportExcel,ProgramId:this.PROGRAM_ID};n.param&&n.param.Request?(n.param.Request.CheckPermissionRequest=t,n.param.Request.Data&&(n.param.Request.Data.CheckPermissionRequest=t)):n&&n.param&&(n.param.CheckPermissionRequest=t);n.param.ecPageID=this.ecPageID;ecount.document.exportExcel(n.url,n.param,n.menuSeq,n.callback,n.isGMC)},INVOICE_EXPORT_EXCEL:function(n){var t={EditMode:ecenum.editMode.exportExcel,ProgramId:this.PROGRAM_ID};n.param&&n.param.Request?n.param.Request.CheckPermissionRequest=t:n.param.CheckPermissionRequest=t;ecount.document_invoice.exportExcel(n.url,n.param,n.menuSeq,n.callback,n.isGMC)},EXPORT_PDF:function(n){this.pageInfo&&this.pageInfo.isZAform&&(n.pageSetup={});n.CheckPermissionRequest={EditMode:ecenum.editMode.PDF,ProgramId:this.PROGRAM_ID};var t=this._getPopupMetadata();t.responseID=this.callbackID;ecount.document.openPdfSetting(t,n)},INVOICE_EXPORT_PDF:function(n){n.CheckPermissionRequest={EditMode:ecenum.editMode.PDF,ProgramId:this.PROGRAM_ID};var t=this._getPopupMetadata();t.responseID=this.callbackID;ecount.document_invoice.openPdfSetting(t,n)},EXPORT_PRINT:function(n){var t,i;if(n.CheckPermissionRequest={EditMode:ecenum.editMode.slipPrint,ProgramId:this.PROGRAM_ID},t=this.pageInfo&&this.pageInfo.permissions?this.pageInfo.permissions:this.viewBag&&this.viewBag.Permission.Self?this.viewBag.Permission.Self:null,$.isEmpty(t)&&n.permissions&&(t=n.permissions),t&&t.CP!=!0)return ecount.common.requestAlert(this.ecPageID,t,t.RESX?ecount.resource[t.RESX]||t.RESX:this.pageInfo.title,"CP"),!1;i=this._getPopupMetadata();i.responseID=this.callbackID;ecount.document.print(i,n)},EXPORT_PRINT_NEW:function(n){var t=this.pageInfo&&this.pageInfo.permissions?this.pageInfo.permissions:this.viewBag&&this.viewBag.Permission.Self?this.viewBag.Permission.Self:null,r,i,n,u;if($.isEmpty(t)&&n.permissions&&(t=n.permissions),t&&t.CP!=!0)return ecount.common.requestAlert(this.ecPageID,t,t.RESX?ecount.resource[t.RESX]||t.RESX:this.pageInfo.title,"CP"),!1;r=this.printHtml;i=n.printMargin;(i=="0"||i==undefined)&&(i=0);r=this.setHeaderCSS(n.gridWidth,n.printCss,i);n={url:"/ECERP/Popup.Common/PrintLoadPage",destroyImmediately:!1,callback:function(n,t){n.print(t)}.bind(this),loadHiddenPage:this.loadHiddenPage.bind(this),data:{gridWidth:n.gridWidth,htmlContent:r,printCss:n.printCss,isContentAlignCenter:!1,isHeightReSize:!0,isOpenPopupPrint:!1,isAnotherPrint:!1,isBodyOnload:!1,contentsMargin:{top:0,right:0,bottom:0,left:0}}};u=this._getPopupMetadata();u.responseID=this.callbackID;ecount.document.print(u,n)},setHeaderCSS:function(n,t,i){var s=n,r=[],o;if(ecount.config.company){var u=ecount.config.company.FONT1.replace("-"," "),f=ecount.config.company.FONT2.replace("-"," "),e=ecount.config.company.FONT3.replace("-"," ");u!=""&&u!="microsoft yahei"&&(u=u.substr(0,1).toUpperCase()+u.substr(1,u.length-1));f!=""&&f!="microsoft yahei"&&(f=f.substr(0,1).toUpperCase()+f.substr(1,f.length-1));e!=""&&e!="microsoft yahei"&&(e=e.substr(0,1).toUpperCase()+e.substr(1,e.length-1));o="<style type='text/css'>"+t+" .font-user-setting {font-family:'"+u+"','"+f+"','"+e+"','Arial','Apple SD Gothic Neo','Gulim';} .p_oecount13 div { position: relative !important; }<\/style>";r.push(o)}return r.push('<div id="mainPage" class="page page-preview page-fluid header-fixed font-user-setting" style="width:'+(parseInt(s)+10)+'px;">'),r.push('<div class="contents" style="margin:'+(i?i+"px":"33px")+' 5px 0 5px;">'),r.push(this.printHtml),r.push("<\/div>"),r.push("<\/div>"),r.join("").replace(/"/gm,"'").replace(/(\r\n|\n|\r)/gm,"")},EXPORT_PREVIEW:function(n){var t=n.html||this.titlebar.getHTML()+this.contents.getGrid().grid.getHTML().replace(/text-primary-inverse/g,"bsy");ecount.infra.preview(t,n.width)},DOWNLOAD_FILE:function(n){n.ecPageID=this.ecPageID;n.programId=this.PROGRAM_ID;ecount.document.downloadFile(n)},VIEW_VIDEO:function(n){ecount.document.viewVideo(n.videoPath,n.callback)},_onLoadComplete:function(){var n,r,t,u,f,i;console.log(["[timer]",this.ecPageID,"load",Date.now()-this.__timer_initialize].join(" > "));this.__timer_initialize=null;ecount.performance("onLoadComplete start");this.popupID&&this.popupType=="layer"&&this.$el.trigger("focus");this._ecParent||this.header&&this.header.$contents&&this.header.$contents.find(".tab-content > div.tab-pane").length>0&&this.observingEvent("resize",this._ON_RESIZE.bind(this));this.header&&this.header.enableEnote&&this.header.enoteMenu.length>0&&this.$el.hasClass("use-nav-tab-enote")&&this.observingEvent("resize",this._ON_RESIZE.bind(this));this.popupID||ecount.runtime.observe("menu.changeSectionTogglerState",this.ecPageID,function(){this._dispatchToAllGrid("_ON_CLICK_MENU_TOGGLE")}.bind(this));n={};this.__ecOpenPopup=="1"&&(n.unfocus=!0,this.__ecOpenPopup=null);ecount.global.isDisableAlert()||(n.unfocus=!0);ecount.isMobile&&(n.unfocus=!0);this.__ecPage__&&(r=this.__ecPage__.view,r&&r.currentTabId&&this.header&&this.header.changeTab(r.currentTabId),ecount.common.layout.progressbar=!0);this.onBeforeLoadComplete(n);if(this.__ecPageLoadcomplete=!0,this.__ecPageAllRendercomplete=!0,this._ecParent?(this._ecParent.onLoadComplete_PAGE&&this._ecParent.onLoadComplete_PAGE.call(this._ecParent,this),ecount.widget.isVisible(this.$el[0])||(n.unfocus=!0)):(this.footer&&this.footer.size()>0&&!this.footer.isHidden()&&(this.footer.show(),this.$el.find(this._footerClassName).removeClass("hidden")),this.__ecOpenPopup!="hiddenFrame"?this.__isIOS&&this.__IOS_RESIZE(!0):n.unfocus=!0,ecount.common.layout.progressbar=!0,ecount.performance("[hideProgressbar]")),ecount.performance("onLoadComplete end"),ecount.performance("[Dev] onLoadComplete start"),this._gridRenderingOnInit||(this.__ecPageAllRendercomplete=!0,ecount.eventDispatchFilter.allow(this.ecPageID),ecount.errorLogMode.on()),this._ecCallbackRepository){if(this._ecCallbackRepository.length>0)for(t=0,u=this._ecCallbackRepository.length;t<u;t++)this._ecCallbackRepository[t].call(this);this._ecCallbackRepository.length=0;delete this._ecCallbackRepository}if(this._ecLazyRenderControlRepository&&this._ecLazyRenderControlRepository.length>0){for(t=0,u=this._ecLazyRenderControlRepository.length;t<u;t++)f=this._ecLazyRenderControlRepository[t],f.call(this);this._ecLazyRenderControlRepository.length=0}i=this.contents.getGrid(!1,!1);i&&($.isArray(i)||(i=[i]));this.onGridLazyInitialize(i);this.onLoadComplete(n);this.onGridLoadComplete(i);this.TS_OPTIONS=this.initTempsaveConfig();this.enableTempsave()&&this.TS_executeTempsave();this._ecParent||this.adjustContentsDimensions(!1);this.__ecPageIncludeLoadcoplete!==!1&&this.$el&&this.$el.find(".__ecwrapper").remove();ecount.performance("[Dev] onLoadComplete end");this.isChangePopupType=this.isChangePopupType?!1:this.isChangePopupType;this.onAfterLoadComplete(n);ecount.runtime.notify(ECountEvent.Type.PAGE_LOAD_COMPLETE,null,{pageID:this.pageID,pageLevel:this.popupLevel,ecPageID:this.ecPageID,prgID:this.PRG_ID,title:this.header&&this.header.$title&&this.header.$title.text(),includeTabId:this.includeTabId});console.log(ecount.logger.lifecyle(this.ecPageID,"page loadcomplete --  >>>>>> loadcompleted!!!"))},setHiddenFrameComplate:function(n){var i=ecount.getParentFrame(window),t;if(n==!!this.isGridRenderAfterPrint&&i)try{t=function(){var n=parent.ecount.global.findCallback(this.__ecPageID,this.responseID);n&&n(this)}.bind(this);this._callAfterImageLoad?this.imageReloader(this.$el,t):t()}catch(r){parent.__onAfterLoadComplete&&parent.__onAfterLoadComplete(this)}},loadHiddenPage:function(n){var t=this,i=function(i){var r=function(){t.__isIOS||i.destroyAll();t.printCompleteFlag=!1;t.eventPropagate&&t.eventPropagate("onPrintComplete");window.focus()}.bind(i);n.destroyImmediately!==!1&&(r(),r=function(){});n.callback&&n.callback(i,r);n.progressbar&&t.hideProgressbar()};n.data=n.data||{};n.data.__ecOpenPopup="hiddenFrame";n.data.__ecPageID=this.ecPageID;n.data.ecRepositoryID=ecount.common.createPageOption(this.ecPageID,n.pageOption);n.data.responseID=ecount.global.registerCallback(this.ecPageID,i,this,"__ecOnAfterLoadOfHiddenPage");n.config={overlay:!1,className:"__ecHiddenFrameContainer",attr:" width='1' height='1' style='border:0;' "};n.progressbar&&this.showProgressbar(null,null,0);ecount.common.iframe(n)},onGridLazyInitialize:function(n){if(n&&n.length>0)for(var t=0,i=n.length;t<i;t++)n[t]._renderComplete&&(n[t].grid.getGridVersion&&n[t].grid.getGridVersion()=="v3"?n[t].getSettings().setCommonTopMargin(this.header.height()):n[t].getSettings().setHeaderTopMargin(this.header.height()),n[t].grid.lazyInitialize())},onGridLoadComplete:function(n){if(n&&n.length>0)for(var t=0,i=n.length;t<i;t++)try{n[t].grid.bindDocumentEvents()}catch(r){}},onPreInitDrag:function(){},_onPreInitDrag:function(n,t,i){var r=this.onPreInitDrag&&this.onPreInitDrag(n,t,i);return r||(r={result:!0}),r},onDragBeforeMovingStart:function(){},_onDragBeforeMovingStart:function(n,t,i){this.onDragBeforeMovingStart&&this.onDragBeforeMovingStart(n,t,i)},onDragEndCompleted:function(){},_onDragEndCompleted:function(n,t,i){var r=this.onDragEndCompleted&&this.onDragEndCompleted(n,t,i);return r||(r={result:!0}),r},onDragEndPreInit:function(){},_onDragEndPreInit:function(n,t,i){var r=this.onDragEndPreInit&&this.onDragEndPreInit(n,t,i);return r||(r={result:!0}),r},onGridResizing:function(){},_onGridResizing:function(n,t,i){var r=this.onGridResizing&&this.onGridResizing(n,t,i);return r||(r={result:!0}),r},onResizeEndCompleted:function(){},_onResizeEndCompleted:function(n,t,i){this.onResizeEndCompleted&&this.onResizeEndCompleted(n,t,i)},onGridFormSettingInit:function(){},_onGridFormSettingInit:function(n,t,i){this.onGridFormSettingInit&&this.onGridFormSettingInit(n,t,i)},onGridFormSetting:function(){},_onGridFormSetting:function(n,t,i){this.onGridFormSetting&&this.onGridFormSetting(n,t,i)},onGridFormAddedColumnInit:function(){},_onGridFormAddedColumnInit:function(n,t,i){this.onGridFormAddedColumnInit&&this.onGridFormAddedColumnInit(n,t,i)},onGridFormAddedColumn:function(){},_onGridFormAddedColumn:function(n,t,i){this.onGridFormAddedColumn&&this.onGridFormAddedColumn(n,t,i)},onGridFormRemovedColumnInit:function(){},_onGridFormRemovedColumnInit:function(n,t,i){var r=this.onGridFormRemovedColumnInit&&this.onGridFormRemovedColumnInit(n,t,i);return r||(r={result:!0}),r},onGridFormRemovedColumn:function(){},_onGridFormRemovedColumn:function(n,t,i){var r=this.onGridFormRemovedColumn&&this.onGridFormRemovedColumn(n,t,i);return r||(r={result:!0}),r},onGridFormAddedRowInit:function(){},_onGridFormAddedRowInit:function(n,t,i){var r=this.onGridFormAddedRowInit&&this.onGridFormAddedRowInit(n,t,i);return r||(r={result:!0,addColumnInfos:[]}),r},onGridFormAddedRow:function(){},_onGridFormAddedRow:function(n,t,i){return this.onGridFormAddedRow&&this.onGridFormAddedRow(n,t,i)},onGridFormRemovedRowInit:function(){},_onGridFormRemovedRowInit:function(n,t,i){var r=this.onGridFormRemovedRowInit&&this.onGridFormRemovedRowInit(n,t,i);return r||(r={result:!0}),r},onGridFormRemovedRow:function(){},_onGridFormRemovedRow:function(n,t,i){this.onGridFormRemovedRow&&this.onGridFormRemovedRow(n,t,i)},onGridFormMergedInit:function(){},_onGridFormMergedInit:function(n,t,i){this.onGridFormMergedInit&&this.onGridFormMergedInit(n,t,i)},onGridFormMerged:function(){},_onGridFormMerged:function(n,t,i){return this.onGridFormMerged&&this.onGridFormMerged(n,t,i)},onGridFormDevidedInit:function(){},_onGridFormDevidedInit:function(n,t,i){this.onGridFormDevidedInit&&this.onGridFormDevidedInit(n,t,i)},onGridFormDevided:function(){},_onGridFormDevided:function(n,t,i){return this.onGridFormDevided&&this.onGridFormDevided(n,t,i)},onGridFormAdd:function(){},_onGridFormAdd:function(n,t,i){this.onGridFormAdd&&this.onGridFormAdd(n,t,i)},onGridFormBeforeBatchSetting:function(){},_onGridFormBeforeBatchSetting:function(n,t,i){this.onGridFormBeforeBatchSetting&&this.onGridFormBeforeBatchSetting(n,t,i)},onGridFormBatchSetting:function(){},_onGridFormBatchSetting:function(n,t,i){this.onGridFormBatchSetting&&this.onGridFormBatchSetting(n,t,i)},onGridFormBeforeTotalSetting:function(){},_onGridFormBeforeTotalSetting:function(n,t,i){this.onGridFormBeforeTotalSetting&&this.onGridFormBeforeTotalSetting(n,t,i)},onGridFormTotalSetting:function(){},_onGridFormTotalSetting:function(n,t,i){this.onGridFormTotalSetting&&this.onGridFormTotalSetting(n,t,i)},onGridFormBeforeDisplaySetting:function(){},_onGridFormBeforeDisplaySetting:function(n,t,i){this.onGridFormBeforeDisplaySetting&&this.onGridFormBeforeDisplaySetting(n,t,i)},onGridFormDisplaySetting:function(){},_onGridFormDisplaySetting:function(n,t,i){this.onGridFormDisplaySetting&&this.onGridFormDisplaySetting(n,t,i)},onGridInitMoveContainer:function(){},_onGridInitMoveContainer:function(n,t,i){this.onGridInitMoveContainer&&this.onGridInitMoveContainer(n,t,i)},onGridContainerMoving:function(){},_onGridContainerMoving:function(n,t,i){this.onGridContainerMoving&&this.onGridContainerMoving(n,t,i)},onGridMovedContainer:function(){},_onGridMovedContainer:function(n,t,i){this.onGridMovedContainer&&this.onGridMovedContainer(n,t,i)},onGridBeforeSelection:function(){},_onGridBeforeSelection:function(n,t,i){return this.onGridBeforeSelection&&this.onGridBeforeSelection(n,t,i)||{result:!0}},onGridFormBeforeLeftFixed:function(){},_onGridFormBeforeLeftFixed:function(n,t,i){this.onGridFormBeforeLeftFixed&&this.onGridFormBeforeLeftFixed(n,t,i)},onGridFormLeftFixed:function(){},_onGridFormLeftFixed:function(n,t,i){this.onGridFormLeftFixed&&this.onGridFormLeftFixed(n,t,i)},onGridFormBeforeCancelLeftFixed:function(){},_onGridFormBeforeCancelLeftFixed:function(n,t,i){this.onGridFormBeforeCancelLeftFixed&&this.onGridFormBeforeCancelLeftFixed(n,t,i)},onGridFormCancelLeftFixed:function(){},_onGridFormCancelLeftFixed:function(n,t,i){this.onGridFormCancelLeftFixed&&this.onGridFormCancelLeftFixed(n,t,i)},onGridFixedChange:function(){},_onGridFixedChange:function(n,t,i){this.onGridFixedChange&&this.onGridFixedChange(n,t,i)},onGridSelectorBeforeSelect:function(){},_onGridSelectorBeforeSelect:function(n,t,i){var r=this.onGridSelectorBeforeSelect&&this.onGridSelectorBeforeSelect(n,t,i);return r||(r={result:!0}),r},onGridSelectorSelect:function(){},_onGridSelectorSelect:function(n,t,i){var r=this.onGridSelectorSelect&&this.onGridSelectorSelect(n,t,i);return r||(r={result:!0}),r},onGridDragPrepareComplete:function(){},_onGridDragPrepareComplete:function(n,t,i){this.onGridDragPrepareComplete&&this.onGridDragPrepareComplete(n,t,i)},onGridDragComplete:function(){},_onGridDragComplete:function(n,t,i){this.onGridDragComplete&&this.onGridDragComplete(n,t,i)},onGridCheckAllStart:function(){},_onGridCheckAllStart:function(){this.onGridCheckAllStart&&this.onGridCheckAllStart.apply(this,arguments)},onGridCheckAllEnd:function(){},_onGridCheckAllEnd:function(){this.onGridCheckAllEnd&&this.onGridCheckAllEnd.apply(this,arguments)},onDataViewRenderComplete:function(){},_onDataViewRenderComplete:function(){this.adjustContentsDimensions();this.onDataViewRenderComplete.apply(this,arguments)},onGridMultiChecked:function(){},_onGridMultiChecked:function(){this.onGridMultiChecked&&this.onGridMultiChecked.apply(this,arguments)},onSettingInit:function(){},_onSettingInit:function(){this.onSettingInit&&this.onSettingInit()},onSettingEnd:function(){},_onSettingEnd:function(){this.onSettingEnd&&this.onSettingEnd()},onDrawingPaperInitControl:function(){return{}},_onDrawingPaperInitControl:function(n,t){return _.extend({attr:{},style:{},className:[]},this.onDrawingPaperInitControl(n,t))},onDrawingPaperMakeCompleteControl:function(){return{}},_onDrawingPaperMakeCompleteControl:function(n,t){return _.extend({attr:{},style:{},className:[]},this.onDrawingPaperMakeCompleteControl(n,t))},onDrawingPaperInitPasteControl:function(){return{}},_onDrawingPaperInitPasteControl:function(n,t){return _.extend({attr:{},style:{},className:[]},this.onDrawingPaperInitPasteControl(n,t))},onDrawingPaperMakeCompletePasteControl:function(){return{}},_onDrawingPaperMakeCompletePasteControl:function(n,t){return _.extend({attr:{},style:{},className:[]},this.onDrawingPaperMakeCompletePasteControl(n,t))},onDrawingPaperShapeInitTableCell:function(){},_onDrawingPaperShapeInitTableCell:function(n,t){return this.onDrawingPaperShapeInitTableCell(n,t)},onGridFormConnectItem:function(){},_onGridFormConnectItem:function(n,t,i){this.onGridFormConnectItem&&this.onGridFormConnectItem(n,t,i)},onGridFormDeleteItem:function(){},_onGridFormDeleteItem:function(n,t,i){this.onGridFormDeleteItem(n,t,i)},onBeforeOpeningContextmenu:function(){},_onBeforeOpeningContextmenu:function(n,t){return this.onBeforeOpeningContextmenu(n,t)},onAfterOpeningContextmenu:function(){},_onAfterOpeningContextmenu:function(n,t){return this.onAfterOpeningContextmenu(n,t)},onCompletedopenContextmenu:function(){},_onCompletedopenContextmenu:function(n,t){return this.onCompletedopenContextmenu(n,t)},onSubmit:function(n,t,i){var f,r,u;this.preventHotkey();n.toUpperCase().indexOf(".ASPX")>-1&&$("body").find("iframe").addClass("iframe-old-erp");this._hasUrlParameter&&(f=this.getUrlParameter(i),n=this.setIncludeParameterUrl(n,f));this._isMakePageParameter&&(t||(t={}),this.makeAdditionalParam(t));r=this._makeSubmitForm(n,t);this.alreadyIncludedLayout?n.toUpperCase().indexOf(".ASPX")>-1?ecount.router.submit(r):(t&&(u=$.deparam(r.serialize()),u.__ecFormSubmit=!0),this.routePage(n,u||t)):r.submit()},onAllSubmit:function(n,t,i,r,u,f,e){var s,o,a,c,l,h;arguments.length===1&&$.isPlainObject(n)&&(s=arguments[0],n=s.url,t=s.param,i=this.isCustomTab()||(this.header.currentTabId||"")==ecount.layout.NEW_TAB_ID?"all":s.tabId,r=s._userParam||s.exParam,u=s.formdata,e=s.scrollTopValue);t=t||{};(n||"").toLowerCase().indexOf("/ecerp/v5/app.board.v5/board_list?")>-1&&(n=n.toLowerCase().replace("/ecerp/v5/app.board.v5/board_list?","/ECERP/EGM/EGM024M?"));n.toUpperCase().indexOf(".ASPX")>-1&&$("body").find("iframe").addClass("iframe-old-erp");o=$.extend({},this.extract(i,u,t.hidSearchXml));t.IndexOfCustomTab&&this.header.currentTabId==ecount.layout.NEW_TAB_ID&&(o.view.currentTabId="custom"+t.IndexOfCustomTab);r&&(o.exParam=r,o._userParam=r);f&&(o.popupInfo=f);this.isChangePopupType===!1&&(t.isChangePopupType=!0);$.isEmpty(e)||(o.scrollTopValue=e);this.preventHotkey();this.alreadyIncludedLayout?(this.popupID?(a={url:n,param:$.extend(t,{__ecPage__:encodeURIComponent(Object.toJSON(o))})},ecount.popup.parent.ecount.popup.reload(this.popupID,this.pageID,this.popupLevel,a,this.ecPageID)):(t.__ecPage__===undefined&&(t.__ecPage__=encodeURIComponent(Object.toJSON(o))),c=$.url(),!n&&c.ecHash?ecount.router.route(c.ecHash):(h=this._makeSubmitForm(n,t),n.toUpperCase().indexOf(".ASPX")>-1?ecount.router.submit(h):(l=$.deparam(h.serialize()),l.__ecFormSubmit=!0,this.routePage(n,l)))),ecount.runtime.notify(ECountEvent.Type.WRITE_LOG,null,{type:"page.submit.route",ecPageID:this.ecPageID,url:n,data:t})):(ecount.runtime.notify(ECountEvent.Type.WRITE_LOG,null,{type:"page.submit.form",ecPageID:this.ecPageID,url:n,data:t}),h=this._makeSubmitForm(n,t),h.append($('<input type="hidden" name="__ecPage__"/>').val(encodeURIComponent(Object.toJSON(o)))),h.submit())},onAllSubmitSelf:function(n,t,i,r,u,f){var e,o;arguments.length===1&&$.isPlainObject(n)&&(e=arguments[0],n=e.url,t=e.param,i=e.tabId,r=e._userParam||e.exParam,u=e.formdata,f=e.scrollTopValue);o={parentPageID:this.parentPageID,popupID:this.popupID,popupType:this.popupType,responseID:this.responseID,popupLevel:this.popupLevel};this.__ecPageID&&(o.__ecPageID=this.__ecPageID);this.ecRepositoryID&&(o.ecRepositoryID=this.ecRepositoryID);this.$el?this.$el.parent().focus():document.body.focus();this.onAllSubmit(n,$.extend(t||{},o),i,r,u,o,f)},onReload:function(n,t){var i,r;if(this.popupType=="window"){this.onSubmit(n,t);return}i={parentPageID:this.parentPageID,popupID:this.popupID,popupType:this.popupType,responseID:this.responseID,popupLevel:this.popupLevel};this.__ecPageID&&(i.__ecPageID=this.__ecPageID);t==="auto"&&(r=ecount.popup.get(i.popupID,i.popupLevel)[7][0]);ecount.popup.parent.ecount.popup.reload(this.popupID,this.pageID,this.popupLevel,r||{param:$.extend(t||{},i),url:n},this.ecPageID)},onMovePage:function(n,t){if(n)if(n=$.ecrt(n),ecount.__isEventCaptureMode()&&ecount.eventLog("onMovePage",{type:"onMovePage",url:n,ecPageID:this.ecPageID}),this.alreadyIncludedLayout){var i=$.url();n==i.source&&i.ecHash?ecount.router.route(i.ecHash):this.routePage(n,null,t)}else window.location.href=$.ecrt(n)},onChangeLocation:function(n,t,i){if(this._hasUrlParameter){var r=this.getUrlParameter(i);n=this.setIncludeParameterUrl(n,r)}t||(t={});this._isMakePageParameter&&(n=this.setIncludeParameterUrl(n,t),this.makeAdditionalParam(t));t.method="GET";this.routePage(n,t)},routePage:function(n,t,i){var f=$.url(),e,o,u,r;if(n==f.source&&f.ecHash)ecount.router.go({url:n,param:_.extend(t,{PRG_ID:this.PROGRAM_ID})});else{u={};for(r in t)if($.isPlainObject(t[r])||$.isArray(t[r])){e=!0;u[r]=t[r];continue}e&&(t.ecjsonp=Object.toJSON(u));this.isLoadPageAsStandAlone&&!i&&(i="_top");o={url:n,param:t||{}};ecount.router.go(o,i)}},_makeSubmitForm:function(n,t,i,r){var f,e,l,s,u,h,o,c;t=t||{};f=this.$submitForm;f.empty();e=[];s={};for(u in t){if($.isPlainObject(t[u])||$.isArray(t[u])){l=!0;s[u]=t[u];continue}e.push('<input type="hidden" name="'+u+"\" value='"+(t[u]==null||t[u]==undefined?"":t[u].toString().replace(/\'/g,"&#39;").replace(/\"/g,"&quot;"))+"'/>")}if(l&&e.push('<input type="hidden" name="ecjsonp" value=\''+Object.toJSON(s).replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")+"'/>"),i=="GET"){for(h=ecount.common.buildSessionUrl(n).split("?")[1].split("&"),o=0;o<h.length;o++)c=h[o].split("="),e.push('<input type="hidden" name="'+c[0]+"\" value='"+c[1]+"'/>");f.attr("method",i)}return f.append($(e.join(""))),f.attr("target",r||"_self"),f.attr("action",ecount.common.buildSessionUrl(n)),f},isCustomTab:function(n){return(n||this.header.currentTabId||"").indexOf("custom")>-1},extract:function(n,t,i){if(!t&&!ecount.global.findPageInstance(this.ecPageID))return{};var u=t||this.header.extract(n).merge(),r={view:{currentTabId:this.header.currentTabId,currentPage:null,scroll:$(document).scrollTop()}};return this.isLoadPageAsStandAlone||this.__hasSubmitFormdata||i||this.__hasFrame&&ecount.constValue.isIE?r.formdata=u:r.extractDataKey=ecount.popup.parent.ecount.global.registerEcRepository(_.merge({},u)),r},drawContentsTitlebar:function(n,t){this.titlebar&&this.titlebar.destroy();this.titlebar=new ecount.layout.titlebar(n);this.titlebar.render(this.$el.find(t||"#titleContents"))},getHTMLOfTitlebar:function(){return this.titlebar?this.titlebar.getHTML():""},setLayoutOptions:function(n){return n.colGroup&&n.colGroup.length>1?this._containerCount+=n.colGroup.length:this._containerCount++,n._isCSHeader=this._isCSHeader,n._isBoardHeader=this._isBoardHeader,n._isUserGroupHeader=this._isUserGroupHeader,n._isQnaHeader=this._isQnaHeader,n=n||{},n.delegator=this.events,n.DIVContainer=this.container,n.ecPageID=this.ecPageID,n.inIncludePage=!!this._ecParent,n.popupID=this.popupID,n.popupLevel=this.popupLevel,n.eventContainer=this.eventContainer,n},setIntervalTask:function(n,t,i,r,u){var f=this.ecPageID,e=0,o;u===undefined&&(u=20);o=ecount.global.setInterval(f,function(){e++;var r=n();(e==u||r)&&(ecount.global.clearIntervalByTimerNo(f,o),r?t():i())},r)},_refreshFooter:function(){if(this.onRefreshFooter&&this.onRefreshFooter(),this.footer&&!this.footer.hidden){var t=this.footer.get(0),n=this.getToolbarRelatedWithTabs();n.itemLeft.length===0&&n.itemLeft.length===0?n.itemList.length>0?this.footer.show():this.footer.toggleIf(!0):(t.rearrange(n.itemLeft,n.itemRight),this.footer.toggleIf(!1))}},getToolbarRelatedWithTabs:function(){var n=null,t={},i=this.footer.get(0),r=this.contents.getItem(widget.generator.TABCONTENTS),u;return!r||!r.forceRefreshFooter?i:(n=r.buttonList[this.currentTabId],n===undefined)?{itemLeft:[],itemRight:[]}:(u=function(t){for(var i,e,f=[],u=null,r=0,o=n.length;r<o;r++)for(i=0,e=t.length;i<e;i++)if(u=t[i].id,n[r]===u){t[i].controlType==="widget.button"&&(t[i].css=r===0?"btn btn-primary":null);f.push($.extend(t[i],{id:u}));break}return f},t.itemLeft=u(i.itemLeft),t.itemRight=u(i.itemRight),t)},showOverlay:function(){var n;this._ecParent?(n=$('<div class="wrapper-overlay position-absolute">'),n.insertBefore(this.$el)):n=this.alreadyIncludedLayout?this.$el.parent().find(".wrapper-overlay"):$(".wrapper-overlay");n&&n.addClass("show")},hideOverlay:function(){var n;n=this._ecParent?this.$el.parent().find(".wrapper-overlay"):this.alreadyIncludedLayout?this.$el.parent().find(".wrapper-overlay"):$(".wrapper-overlay");n&&n.removeClass("show")},showProgressbar:function(n,t,i){var u,f,e,r;arguments&&arguments.length==1&&typeof arguments[0]=="object"?(r=arguments[0],u=r.overlay,f=r.msg,e=r.progressTimer,r.notClearLayer!=!0&&ecount.layer.clear()):(u=n,f=t,e=i,ecount.layer.clear());this._progressbarTimerID.push(this.setTimeout(function(){this.toggleProgressbarLayer(u,f)}.bind(this,u,f),e===undefined?this._progressTimer:e))},hideProgressbar:function(n){var i,r,t,u;if(this.$el){for(arguments&&typeof arguments[0]=="object"?(r=arguments[0],i=r.overlay):i=n,t=0,u=this._progressbarTimerID.length;t<u;t++)clearTimeout(this._progressbarTimerID.shift());this.toggleProgressbarLayer(null,null,"hidden")}},showProgressbarDelay:function(n,t,i){if(this._ecParent&&this._ecParent.showProgressbarDelay)this._ecParent.showProgressbarDelay.apply(this._ecParent,arguments);else{console.log("showProgressbar delay");for(var r=0,u=this._progressbarCloseTimerID.length;r<u;r++)clearTimeout(this._progressbarCloseTimerID.shift());this._progressbarTimerID.push(this.setTimeout(function(){this.toggleProgressbarLayer(n,t)}.bind(this,n,t),i===undefined?this._progressTimer:i))}},hideProgressbarDelay:function(){this._ecParent&&this._ecParent.hideProgressbarDelay?this._ecParent.hideProgressbarDelay.apply(this._ecParent,arguments):(console.log("hideProgressbar delay"),this._progressbarCloseTimerID.push(this.setTimeout(function(){for(var n=0,t=this._progressbarTimerID.length;n<t;n++)clearTimeout(this._progressbarTimerID.shift());ecount.common.clearApiProgressbar();this.toggleProgressbarLayer(null,null,"hidden")}.bind(this),500)))},isShowProgressbarDelay:function(){if(this._ecParent)return this._ecParent.isShowProgressbarDelay.apply(this._ecParent,arguments);if(this._progressbarTimerID.length>0)return!0;var n;return(n=this.popupID&&this.alreadyIncludedLayout?this.$el.parent().find(".wrapper-page-progress"):$(".wrapper-page-progress"),n&&n.length>0&&!n.hasClass("hidden"))?!0:!1},toggleProgressbarLayer:function(n,t,i){var r,f,u,e,o;if(this.$el){this.alreadyIncludedLayout?(r=this.$el.parent().find(".wrapper-page-progress"),f=this.$el.parent().find(".wrapper-overlay")):(r=$(".wrapper-page-progress").first(),f=$(".wrapper-overlay").first());u=r.find("#custom_message");i==="hidden"?(r.find(".page-progress-icon").css({background:""}),e=r.filter(function(n,t){return!$(t).hasClass("hidden")}),e.length>0&&e.addClass("hidden"),f.removeClass("show"),u.length>0&&u.remove()):(o=window.__EC_BASE_URL,r.find(".page-progress-icon").css({"background-image":"url(/static/contents/images/progress/simbol-progress.gif?"+Date.now()+")","background-repeat":"no-repeat","background-position":"center center"}),r.hasClass("hidden")&&r.removeClass("hidden"),t&&(u.length>0?u.text(t):$('<div class="page-progress-text" id="custom_message">'+t+"<\/div>").insertAfter(r.find(".page-progress-icon"))),f.addClass("show"));return}},onGridShowProgressbar:function(n){this._gridProgressbarTimerID[n.gridId]&&clearTimeout(this._gridProgressbarTimerID[n.gridId]);this._gridProgressbarTimerID[n.gridId]=this.setTimeout(function(){this._gridProgressbarTimerID[n.gridId]=null;this.toggleProgressbarLayer()}.bind(this),this._progressTimer)},onGridHideProgressbar:function(n){this._gridProgressbarTimerID[n.gridId]?(clearTimeout(this._gridProgressbarTimerID[n.gridId]),this._gridProgressbarTimerID[n.gridId]=null):this.toggleProgressbarLayer(null,null,"hidden")},onSendGridData:function(n){if($.isEmpty(n)||!n.callbackID)return!1;this._ecInvoke(n.callbackID,[n])},lazyLoadPage:function(n,t,i,r,u){var f=t.end().source;this._restrictedCallbackTimer[f]&&clearTimeout(this._restrictedCallbackTimer[f]);this.__ecPageIncludeLoadcoplete=!1;this._restrictedCallbackTimer[f]=this.setTimeout(function(){this._restrictedCallbackTimer[f]=null;var e=this.__ecPageLoadcomplete;t=t.param({popupLevel:this.popupLevel,popupID:this.popupID,popupType:this.popupType,alreadyIncludedLayout:!0});this._ecLazyLoadPageCBRepository[t.end().pageID]=r;t.loadedParentPage(e);t.sync(!!u);i||this.preLoadIncludePage(n,e);this.contents.addTabContents(n,t)}.bind(this),0)},preLoadIncludePage:function(n,t){t&&this.__ecPageLoadcomplete&&(this._showECProgressbar=!1,this.showProgressbar(!0))},afterLoadIncludePage:function(){this.__ecPageIncludeLoadcoplete=!0;this.__ecPageLoadcomplete&&(this._showECProgressbar=!0,this.isShowProgressbarDelay()||this.hideProgressbar(!0),this.adjustContentsDimensions(),this.$el.find(".__ecwrapper")&&this.$el.find(".__ecwrapper").remove())},resizeContents:function(){this.$contents&&this.header&&(this.popupID&&this.alreadyIncludedLayout?this.$contents.css("top",this.header.height()):this.$contents.css("margin-top",this.header.height()+5))},$getHeader:function(n){return this.isWmsLayout?n.find(" > "+this._headerClassName):this._isBoardHeader||this._isUserGroupHeader?n.find(".header .wrapper-board-share-people"):this._isAside?n.find(".sms-contact-header .wrapper-title"):n.find(".header .wrapper-title")},$getContents:function(n){return this.isWmsLayout?n.find(" > "+this._contentsClassName):this._isAside?n.find(" > > "+this._contentsClassName):n.find(" > "+this._contentsClassName)},$getFooter:function(n){return this.isWmsLayout?n.find(" > "+this._footerClassName):n.find(this._footerClassName).last()},getElementHeight:function(n,t){t=t||{};t.includeZindexDom=t.includeZindexDom||!1;var i=0,r=_.isBoolean(t.includeZindexDom)&&t.includeZindexDom;return n.children().each(function(){var u=window.getComputedStyle(this),n=u.getPropertyValue("z-index"),t;n!="auto"||_.isInteger(n)||(t=this.style.getPropertyPriority("display"),i+=$(this).outerHeight(!0),this.style.display==="none"&&t==="important"&&this.style.setProperty("display","none","important"));r&&(i+=$(this).outerHeight(!0))}),i},$getDocumentElement:function(){return this.__ecEventTarget==document?$(window):this.popupID?this.__ecEventTarget.find(" > .panel-body"):$("div.wrapper-frame-body")},getDocumentElementSelector:function(){return this.__ecEventTarget==document?"document":this.popupID?"div[data-ecpageid="+this.ecPageID+"]":"div.wrapper-frame-body"},hasHorizontalScrollbar:function(){try{return this.contents.$el[0].scrollWidth>this.contents.$el.width()}catch(n){return!1}},adjustContentsDimensions:function(n,t){var h;if(this.__ecPageLoadcomplete&&this.$el){if(this._ecParent&&this.isWmsLayout!=!0){this._ecParent.adjustContentsDimensions();return}var f=this.$el,b=this.isFixedFooter,i=this.$getContents(f),e=this.$getHeader(f),o=this.$getFooter(f),t=t||{},a=t.useHeader==!1?t.useHeader:!0,v=t.useContents==!1?t.useContents:!0,y=t.useFooter==!1?t.useFooter:!0;a||e.addClass("hidden");v||e.addClass("hidden");y||e.addClass("hidden");n&&o.removeClass("hidden");var c=ecount.common.getZoomRatio(),r=e.outerHeight(),u=o.outerHeight()+(ecount.isIE?1:0),p=(this.getElementHeight(i)+10)*(2-c),w=(this.$getDocumentElement().height()-r-u)*(2-c),s=w<=p+(this.hasHorizontalScrollbar()?window.__EC_SCROLL_SIZE:0),l=!1;this._isAllInOne?(h=f.find(" > "+this._headerClassName).height(),i.addClass("contents-fixed").css({top:h,"margin-top":h}),l=!0):(this._isAside?i.css({"margin-top":5,top:r,bottom:u}):this.isPanelLayout?r?i.css({"margin-top":r,top:r,bottom:u}):(i.css({"margin-top":0,top:0,bottom:u}),s=!0):this.isWmsLayout?(i.css({"margin-top":r,top:r,bottom:u}),s=!0):i.css({"margin-top":r,top:r,bottom:u}),this.isFixedHoldFooter&&(s=!0),this.isFixedFooter&&this.popupID||(s?(i.addClass("contents-fixed"),o.addClass("footer-fixed"),l=!0):(i.removeClass("contents-fixed"),o.removeClass("footer-fixed"))));this.adjustRenderCompleteScroll(i)}},_adjustPopupSize:function(n){function a(n){return typeof n=="string"?this.$contents.find(n):n}var t,e=0,o=0,u,r,i,s=a.call(this,n.target||n),v=n.size?Number(n.size.width):0,f=this.popupID&&this.alreadyIncludedLayout&&this.popupType!="window",h=this.$el.css("display"),c,l;h=="none"&&this.$el.css({visibility:"hidden"}).show();f?(t=$(window).width()*80/100,u=this.$el.width(),r=this.getEcPopup()[0].parent().height()):(t=screen.width*80/100,u=window.outerWidth,r=window.outerHeight);c=function(){var c;if(f==!0)e=this.$contents[0].offsetWidth-this.$contents[0].clientWidth;else{var h=document.documentElement,l=h.clientWidth,a=h.scrollWidth>l,y=h.style.overflow;o=window.outerWidth-window.innerWidth;a&&(h.style.overflow="hidden",e=h.clientWidth-l,h.style.overflow=y)}i=Math.max(s.width(),v)+20+e+o;i<=u||u>t||(i>u&&i<=t?f==!0?this.resizeLayer(i,r):this._resizeWindow(i,r):i>t&&(f==!0?this.resizeLayer(t,r):this._resizeWindow(t,r)));this.adjustContentsDimensions();n.callback&&(c=[],n.isIncludeHeaderHeight==!0&&c.push(this.header.$el.outerHeight()),n.callback.apply(this,c))};l=s.parent();this.imageReloader(l,c.bind(this));h=="none"&&this.$el.css({visibility:"visible"}).hide()},imageReloader:function(n,t){var i;i=$.isString(n)?this[n]&&this[n].$el&&this[n].$el.find("img"):n&&n.find("img");i&&i.length>0?this._processImages(i,t):t.call(this)},_processImages:function(n,t){var r=n.length,i=function(){r--;r==0&&$.isFunction(t)&&t()};n.each(function(){var n=$(this).attr("src"),t,r;if(!$.isNull(n)&&n.indexOf("ecount.com")>-1){t=n.indexOf("?")<0?"{0}?v={1}":"{0}&v={1}";r=String.format(t,$(this).attr("src"),(new Date).getTime());try{$(this).attr("src",r).on("load",i).on("error",i)}catch(u){$(this).attr("src","");i()}}else i()})},_resizeWindow:function(n,t){window.moveTo(0,0);window.resizeTo(n,t)},doChangeFooterPosition:function(){return!(this.popupID&&this.alreadyIncludedLayout)},_ON_REDRAW:function(){this._WINDOW_SCROLL_TOP=this.getContentsScrollTop()},getContentsScrollTop:function(){return this.contents.$el.scrollTop()},setContentsScrollTop:function(n){var t=this.contents.getGrid();t&&t.grid.setMovingScrollTop(n);this.contents.$el.scrollTop(n||0)},_ON_RESIZE:function(n){this.adjustHeaderSearchDimensions(n);this.header&&this.header.enableEnote&&this.ON_RESIZE(n)},setTimeout:function(n,t){return ecount.global.setTimeout(this.ecPageID,n,t)},setHotkeyButton:function(n,t,i){var e=widget.generator,r=e.control(),u=Array.prototype.slice.call(arguments,1),f;return t.test(/\S+\./)||u.unshift("widget.button"),f=r.define.apply(r,u),this._hotKeyButtons[arguments[0].toUpperCase()]=i,f},chkHotkeyButton:function(n){var t=this._hotKeyButtons[n.toUpperCase()];return t&&!this.footer.getControl(t).isVisibleElement(0)?!1:!0},preventHotkey:function(){this._preventHotkey=!0},showAlertCircle:function(n,t){t||(t={});ecount.global.isDisableAlert()&&(t.delay=t.delay||2e3,t.content=t.content||this.$el,ecount.alertCircle(n,t))},hasPopupId:function(){return this.popupID&&(this.popupType=="window"||this.popupType=="layer")},isPopupTypeWindow:function(){return this.popupID&&this.popupType=="window"},isChangeControl:function(){return!1},_getActiveControl:function(n,t,i){if(i)return i.pcid?{cid:n.id||n.cid,cindex:n.cindex,control:this[i.containerName=="row"?"contents":i.containerName].getControl(i.pcid),origin_control:i}:{cid:n.id||n.cid,cindex:n.cindex,ecFunctionId:n.ecFunctionId,control:i}},_isCurrentPgaeControl:function(){return!0},__saveCommandOfPage:function(n){var i,t;if(n){this.__ecCommandStack||(this.__ecCommandStack=[]);i={};for(t in n)t!="__self"&&t!="event"&&n[t]&&!n[t].$el&&(i[t]=n[t]);this.__ecCommandStack.push(i)}else return this.__ecCommandStack},__saveHtmlOfPage:function(){var i=[],n,u,t,r;if(this.$el.find("#gridChromeDummy").remove(),i.push(this.$el.html()),n=ecount.popup.parent.ecount.popup.list,n.length>0)try{for(u in n){t=n[u];for(r in t)t[r][0].find("#gridChromeDummy").remove(),i.push(t[r][0].html())}}catch(f){}return i.join("__ECHTML__").trim()},__saveDataOfPage:function(n){var t=[],e=function(){var n=[],t=this.getForm(!0);return t.forEach(function(t){n.push({t:t.tabId,v:t.save(),i:t.itemIndex})}),n},o=function(){var n=[],t=this.getGrid(!1,!1);return t.forEach(function(t){n.push({t:t.tabId,v:t.grid.getRowList(),i:t.id})}),n},i,r,s,u,f;if(t.push({header_form:e.call(this.header)}),t.push({contents_form:e.call(this.contents)}),t.push({header_grid:o.call(this.header)}),t.push({contents_grid:o.call(this.contents)}),!n)try{i=ecount.popup.parent.ecount.popup.list;for(r in i)for(s in i[r])u=i[r][s][0][0].getAttribute("data-pageid"),f={},f["popup_"+u]=ecount.popup.parent.ecount.global.findPageInstance(u).__saveDataOfPage(!0),t.push(f)}catch(h){}return t},_onMiddleTransfer:function(n){switch(n.transferType){case"SimpleSearch":var t=this.header.getForm();t.length>0&&(t=t[0],n.type="anchor.click",t.executeSimpleSearch&&t.executeSimpleSearch(n))}},setSimpleSearch:function(n){var r=this.header.getForm();if(r.length)r=r[0];else return"";var i=n.shortcutName,f=n.shortcutName,l=n.searchName||ecount.constValue.DEFAULT_SIMPLESEARCH_KEY,a=n.isNotSearch,e=n.dateControlName||null,o=n.defaultDateTab,s,u,t,h,c=function(n){var i=r.getControlByName(n);return(!o||i||(i=this.header.getForm(o)[0]&&this.header.getForm(o)[0].getControlByName(n)),i)?i.isCombinedControl&&i.isCombinedControl()&&i.getDateControl?(t=i,i.getDateControl()):(r.getControl(i.pcid)&&(t=r.getControl(i.pcid)),i):null}.bind(this);return(u=c(l),u)?!$.isEmpty(e)&&(s=c(e),!s)?"":(i==="endMonth"&&(i="endDay"),n&&f=="settingButton"?command="onSimpleSearchSetting":(t&&t.setShortcut&&i!=="endDay"?t.setShortcut(f):(i=n.fromDate&&i!=="endDay"?[n.fromDate,n.toDate]:ecount.control.date.period[i].call(u,u.ecPageID),i&&(h=$.isEmpty(e)?u:s,h.isSingleDate()&&i.shift(),t&&t.controlType==="widget.calcCombine.calcSimpleSearch"?t.setSimpleSearchValues&&t.setSimpleSearchValues(null,null,t.getDateControl().id,!0,f,i):(t&&(t.syncFnData&&t.syncFnData(f),t.disableDelegatorExecution()),h.setDate(i),t&&t.enableDelegatorExecution()))),command=a===!0?"":n.searchCommand||"onHeaderSimpleSearch"),command):""},onExecuteSimpleSearch:function(n){var t=this.setSimpleSearch(n);$.isEmpty(t)||this[t]&&this[t](n)},adjustHeaderSearchDimensions:function(){function c(n){return this.popupID?this.$el.find(n).position().top+30:n.offset().top-$(window).scrollTop()}var f;if(this.header&&this.header.isVisible()==!1||!this.header.$contents)return!1;var t=function(n,t){if(this.popupID&&this.popupType)return t;var i=2-ecount.common.getZoomRatio();return n=="/"?t/i:t*i}.bind(this),l=function(n,r,u){if(r>t("/",e)){u=t("*",u);i=t("*",i);o=t("*",o);var f=e-(u+i+o);this.popupID||this.popupType||(f=t("/",f));n.parent().height(Math.round(f))}else n.parent().height("")}.bind(this),e=this.popupID&&this.popupType!="window"?ecount.page.popup.prototype.getEcPopup.apply(this)[0].outerHeight():document.body.parentElement.clientHeight,i=this.header.$contents.find(".header-search-btn-group").outerHeight(),o=10,n=this.header.$contents.find(".tab-content"),r,u,s,h=0;if(this.footer&&this.footer.$el.hasClass("footer-fixed")&&(e-=this.footer.$el.outerHeight()),n.length>0?u=n.find(".tab-pane"):(n=this.header.$contents.find(".overflow-auto"),u=n.find("ul")),n.length>0){for(f=0;f<u.length;f++)if(r=u.eq(f),r.css("display")!="none"){h=c.call(this,n);s=h+r.outerHeight()+i;break}if(s)l(r,s,h);else return!1}else return!1},getUseResponsiveMode:function(){return ecount.isMobile&&this.RESPONSIVE_YN=="Y"},showRefreshConfirm:function(){this.forceRefresh()},forceRefresh:function(){var n=ecount.getWindowRefreshFlag();$.isEmpty(this.isShowRefreshMessage)!=!0&&this.isShowRefreshMessage!=!1&&ecount.global.isDisableAlert()!=!1&&$.isNull(ecount)!=!0&&$.isNull(ecount.ecIsShowRefreshMessage)!=!0&&ecount.ecIsShowRefreshMessage!=!1&&$.isNull(this.viewBag)!=!0&&(n||$.isEmpty(this.viewBag.RefreshTimestamp)!=!0&&this.viewBag.RefreshTimestamp!="0")&&(n||ecount.ecRefreshTimestamp!=this.viewBag.RefreshTimestamp)&&(this.popupID||window.navigator.userAgent.indexOf("PhantomJS")>-1||location&&location.reload(!0))},showFormInfoVersion:function(){function n(n,t){if(_.isEmpty(n))return!1;for(var i in n)if(t(n[i]))return!0}if(n(this.xformInfos,function(n){return n.version&&n.version=="3"})){this.header&&this.header.setDebugLabel("<b>V3<\/b> FormInfo Loaded");return}if(n(this.viewBag.FormInfos,function(n){return n.version!="3"})){this.header&&this.header.setDebugLabel("<b>V2<\/b> FormInfo Loaded");return}},fnTemporarySave:function(n){n||(n={});this.TS_OPTIONS.IS_REFRESH_TIMESTAMP=!0;ecount.TemporarySave.timer.monitor(this.ecPageID);this.TS_OPTIONS.IS_REFRESH_TIMESTAMP=!1;this.enableTempsave()&&ecount.TemporarySave.timer.rasingEvent(this.ecPageID)},showHelperLayer:function(n){n.parentElement=this.$el;ecount.layer.helper.show(n);this.hasHelper=!0},onKeyDownHandler:function(n){switch(n.keyCode){case 114:this._ON_PAGE_KEYDOWN({keyEventHandlerName:"KEYDOWN_F4"},n,null,{});break;case 118:this._ON_PAGE_BEFORE_KEYDOWN_F7({},n,null,null)!==!1&&this._ON_PAGE_KEYDOWN({keyEventHandlerName:"KEYDOWN_F7"},n,null,{});break;case 119:this._ON_PAGE_BEFORE_KEYDOWN_F8({},n,null,null)!==!1&&this._ON_PAGE_KEYDOWN({keyEventHandlerName:"KEYDOWN_F8"},n,null,{})}},onKeydownSaveHandler:function(n,t,i,r){var u=this._getActiveControl(n,t,i),e,f;u&&(e=ecount.runtime.notify("page.runkeydown.save",this.ecPageID+"."+u.cid,{ecPageID:this.ecPageID}),e===!1)||(document.activeElement&&document.activeElement.blur?document.activeElement.blur():(f=u&&u.control&&u.control.getContainerElement(),f&&f.blur()),this.setTimeout(function(){ecount.runtime.notify("page.runkeydown.afterSave",this.ecPageID,{ecPageID:this.ecPageID});r(n,t,i,u)}.bind(this),100))},ON_KEY_ESC:function(){this.popupID&&this.close()},ON_KEY_ENTER:function(){},ON_KEY_RIGHT:function(){},ON_KEY_LEFT:function(){},ON_KEY_TAB:function(){},ON_KEY_SHIFTRIGHT:function(){},ON_KEY_SHIFTLEFT:function(){},ON_KEY_SPACE:function(){},ON_KEY_UP:function(){},ON_KEY_SHIFTUP:function(){},ON_KEY_DOWN:function(){},ON_KEY_SHIFTDOWN:function(){},ON_KEY_F2:function(){},_ON_KEY_F3:function(n){if(this._ENABLE_KEY_F3)return this.header.ON_KEY_F3(),n.preventDefault(),!1;this._ecInvoke("ON_KEY_F3",[n])},ON_KEY_F3:function(){},ON_KEY_F4:function(){},ON_KEY_F7:function(){},ON_KEY_F8:function(){},_ON_KEY_F8:function(){if(!this.chkHotkeyButton("f8"))return!1;this.ON_KEY_F8()},ON_KEY_F9:function(){this.isPopup},ON_KEY_F10:function(n){if(ecount.common.isTrue(this.isPopup)==!0){n&&n.preventDefault();var t=ecount.popup.get(this.popupID,this.popupLevel);this.alreadyIncludedLayout&&ecount.popup.parent.ecount.popup.reload(this.popupID,this.ecPageID,this.popupLevel,t[7][0],this.ecPageID)}},_ON_PAGE_BEFORE_KEYDOWN:function(n,t,i,r){return this["_ON_PAGE_BEFORE_"+n.keyEventHandlerName]&&this["_ON_PAGE_BEFORE_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:this["ON_PAGE_BEFORE_"+n.keyEventHandlerName]&&this["ON_PAGE_BEFORE_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_PAGE_BEFORE_KEYUP:function(n,t,i,r){return this["_ON_PAGE_BEFORE_"+n.keyEventHandlerName]&&this["_ON_PAGE_BEFORE_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:this["ON_PAGE_BEFORE_"+n.keyEventHandlerName]&&this["ON_PAGE_BEFORE_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_PAGE_BEFORE_KEYPRESS:function(n,t,i,r){return this["_ON_PAGE_BEFORE_"+n.keyEventHandlerName]&&this["_ON_PAGE_BEFORE_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:this["ON_PAGE_BEFORE_"+n.keyEventHandlerName]&&this["ON_PAGE_BEFORE_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_PAGE_KEYDOWN:function(n,t,i,r){if(this._ecInvoke("ON_PAGE_KEYDOWN",[n,t,i,r])===!1)return!1},ON_PAGE_KEYDOWN:function(n,t,i,r){if(r.command){this._commandHandler(n,t,i,r);return}if(this["_ON_PAGE_"+n.keyEventHandlerName]&&this["_ON_PAGE_"+n.keyEventHandlerName](n,t,i,r)===!1)return!1},ON_PAGE_KEYDOWN_PAGE:function(n,t,i,r,u,f){f&&f()},_ON_PAGE_KEYDOWN_SERVICE:function(n,t,i,r){if(r.command){this._commandHandler(n,t,i,r);return}if(this["_ON_PAGE_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_PAGE_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},_ON_PAGE_KEYUP:function(n,t,i,r){if(this["_ON_PAGE_"+n.keyEventHandlerName]&&this["_ON_PAGE_"+n.keyEventHandlerName](n,t,i,r)===!1)return!1},_ON_PAGE_KEYPRESS:function(n,t,i,r){if(this["_ON_PAGE_"+n.keyEventHandlerName]&&this["_ON_PAGE_"+n.keyEventHandlerName](n,t,i,r)===!1)return!1},_ON_PAGE_KEYPRESS_SERVICE:function(n,t,i,r){if(r.command){this._commandHandler(n,t,i,r);return}if(this["_ON_PAGE_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_PAGE_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},_ON_PAGE_BEFORE_KEYDOWN_BACKSPACE:function(n,t){var r=!1,i=t.srcElement||t.target;return(i.tagName.toUpperCase()==="INPUT"&&(i.type.toUpperCase()==="TEXT"||i.type.toUpperCase()==="PASSWORD"||i.type.toUpperCase()==="FILE"||i.type.toUpperCase()==="EMAIL"||i.type.toUpperCase()==="SEARCH"||i.type.toUpperCase()==="DATE")||i.tagName.toUpperCase()==="TEXTAREA")&&(r=i.readOnly||i.disabled),r?(t.preventDefault(),!1):void 0},_ON_PAGE_KEYDOWN_BACKSPACE:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_BACKSPACE",n,t,i,r)},_ON_PAGE_BEFORE_KEYDOWN_TAB:function(){},_ON_PAGE_KEYDOWN_TAB:function(n,t){this._ecInvoke("ON_KEY_TAB",[t])},_ON_PAGE_KEYDOWN_OTHERS:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_OTHERS",n,t,i,r)},_ON_PAGE_KEYDOWN_DELETE:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_DELETE",n,t,i,r)},_ON_PAGE_BEFORE_KEYDOWN_ENTER:function(n,t,i,r){if(this.__ec_always_active_grid_id&&this.__ec_always_active_grid_id.length){var u=this.contents.getGrid(this.__ec_always_active_grid_id[0],!1);if(u&&u.grid&&u.grid&&u.grid.isActive())return u._ON_GRID_KEYDOWN_ENTER(n,t,i,r),!1}},_ON_PAGE_KEYDOWN_ENTER:function(n,t,i,r){if(this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_ENTER",n,t,i,r)!==!1){var u=_.extend(this._getActiveControl(n,t,i),r);this._ecInvoke("ON_KEY_ENTER",[t,u])}},_ON_PAGE_BEFORE_KEYDOWN_ESC:function(n,t,i,r){if(n.ecService)return!0;if(i){if(n.gridID)return this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_ESC",n,t,i,r),!0;if(i._useResetData&&i.resetData(t))i.onFocusOut(),document.activeElement.blur();else if(i.isButtonType&&this.popupID)return!0}else if(this.popupID||n.targetArea=="layout")return!0;return!1},_ON_PAGE_KEYDOWN_ESC:function(n,t){this._ecInvoke("ON_KEY_ESC",[t])},_ON_PAGE_KEYDOWN_ESC_SERVICE:function(n,t,i,r){this._dispatchToTargetGrid("_ON_GRID_KEYDOWN_ESC_SERVICE",n,t,i,r);this._ecInvoke("ON_KEY_ESC_SERVICE",[n,t,r])},_ON_PAGE_KEYDOWN_SPACE:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_SPACE",n,t,i,r);this._ecInvoke("ON_KEY_SPACE",[t])},_ON_PAGE_KEYDOWN_UTILITY:function(n){function e(){var n=$(document.activeElement).closest("["+ecount.constValue.drawingPaper.wrapperAttrKey+'="'+ecount.constValue.drawingPaper.canvasWrapperSelector+'"]');return this.popupID&&this.popupType=="layer"&&($.browser.chrome||$.browser.safari||$.browser.firefox)&&(this.$contents[0].scrollHeight==0&&this.$contents[0].scrollHeight==0||this.$contents[0].scrollHeight>this.$contents[0].clientHeight)&&!([35,36].contains(t)==!0&&["text","textarea"].contains(document.activeElement.type)==!0)&&(!n||n.length==0)}var t=n.which;if(e.call(this)==!0){var r=this.$contents.outerHeight(),u=this.$contents.scrollTop(),i,f="animate";i=t==33?u-r:t==34?u+r:t==35?this.$contents[0].scrollHeight:0;_.isNil(this._scrollModeFunc)||_.isNil(this._scrollModeHeight)||(clearTimeout(this._scrollModeFunc),this.$contents.scrollTop(this._scrollModeHeight),f="scrollTop");this._scrollModeFunc=ecount.global.setTimeout(this.ecPageID,function(){f=="animate"?this.$contents.animate({scrollTop:i},150):this.$contents.scrollTop(i);this._scrollModeFunc=null;this._scrollModeHeight=null}.bind(this),50);this._scrollModeHeight=i}},_ON_PAGE_KEYDOWN_ARROW_LEFT:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_ARROW_LEFT",n,t,i,r);r.command&&this._commandHandler(n,t,i,r);n.shiftKey?this._ecInvoke("ON_KEY_SHIFTLEFT",[t]):this._ecInvoke("ON_KEY_LEFT",[t])},_ON_PAGE_KEYDOWN_ARROW_UP:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_ARROW_UP",n,t,i,r);n.shiftKey?this._ecInvoke("ON_KEY_SHIFTUP",[t]):this._ecInvoke("ON_KEY_UP",[t])},_ON_PAGE_KEYDOWN_ARROW_RIGHT:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_ARROW_RIGHT",n,t,i,r);r.command&&this._commandHandler(n,t,i,r);n.shiftKey?this._ecInvoke("ON_KEY_SHIFTRIGHT",[t]):this._ecInvoke("ON_KEY_RIGHT",[t])},_ON_PAGE_KEYDOWN_ARROW_DOWN:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYDOWN_ARROW_DOWN",n,t,i,r);n.shiftKey?this._ecInvoke("ON_KEY_SHIFTDOWN",[t]):this._ecInvoke("ON_KEY_DOWN",[t])},_ON_PAGE_KEYUP_ARROW_UP:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYUP_ARROW_UP",n,t,i,r)},_ON_PAGE_KEYUP_ARROW_DOWN:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYUP_ARROW_DOWN",n,t,i,r)},_ON_PAGE_KEYUP_ENTER:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYUP_ENTER",n,t,i,r)},_ON_PAGE_KEYUP_SPACE:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYUP_SPACE",n,t,i,r)},_ON_PAGE_KEYUP_OTHERS:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_KEYUP_OTHERS",n,t,i,r)},_ON_PAGE_KEYDOWN_F2:function(n,t,i){var r=this._getActiveControl(n,t,i);this._ecInvoke("ON_KEY_F2",[t,r])},_ON_PAGE_BEFORE_KEYDOWN_F3:function(n,t){if(this._ENABLE_KEY_F3)return this.header.ON_KEY_F3(),t.preventDefault(),!1},_ON_PAGE_KEYDOWN_F3:function(n,t){this._ecInvoke("_ON_KEY_F3",[t])},_ON_PAGE_KEYDOWN_F4:function(n,t){this._ecInvoke("ON_KEY_F4",[t])},_ON_PAGE_KEYDOWN_F5:function(n,t){this._ecInvoke("ON_KEY_F5",[t])},_ON_PAGE_KEYDOWN_F6:function(n,t){this._ecInvoke("ON_KEY_F6",[t])},_ON_PAGE_BEFORE_KEYDOWN_F7:function(n,t){if(this._preventHotkey===!0)return t.preventDefault(),!1},_ON_PAGE_KEYDOWN_F7:function(n,t){this._ecInvoke("ON_KEY_F7",[t]);t.preventDefault()},_ON_PAGE_BEFORE_KEYDOWN_F8:function(){if(this._preventHotkey===!0)return!1},_ON_PAGE_KEYDOWN_F8:function(n,t,i){this.onKeydownSaveHandler(n,t,i,function(n,t,i,r){this._ecInvoke(this.chkHotkeyButton("f8")?"ON_KEY_F8":"_ON_KEY_F8",[t,r])}.bind(this));t.preventDefault()},_ON_PAGE_KEYDOWN_F9:function(n,t){this._ecInvoke("ON_KEY_F9",[t])},_ON_PAGE_KEYDOWN_F10:function(n,t){this._ecInvoke("ON_KEY_F10",[t])},_ON_PAGE_INPUT:function(n,t,i,r){this._executeCommand(n,t,i,r)},_ON_PAGE_FOCUSIN:function(n,t,i,r){i&&r.useFocusHandler&&ec$.safeCall(this,"onFocusInControlHandler",this._getActiveControl(n,t,i));this._executeCommand(n,t,i,r);this._toggleActivedGrid(n,t,i,r)},_ON_PAGE_FOCUSOUT:function(n,t,i,r){i&&!ecount.global.getDestroyedState(this.ecPageID)&&ec$.safeCall(this,"onFocusOutControlHandler",this._getActiveControl(n,t,i));this._executeCommand(n,t,i,r)},_ON_PAGE_MOUSEDOWN:function(n,t,i,r){this._executeCommand(n,t,i,r)},_ON_PAGE_MOUSEOVER:function(n,t,i,r){i&&this._executeCommand(n,t,i,r)},_ON_PAGE_MOUSEOUT:function(n,t,i,r){this._executeCommand(n,t,i,r)},_ON_PAGE_DBLCLICK:function(n,t,i,r){this._executeCommand(n,t,i,r)},_ON_PAGE_ACTIVATE:function(n,t,i,r){n.hasChangedActiveState&&console.log(ecount.logger.lifecyle(this.ecPageID,"ON_PAGE_ACTIVATE"));this._toggleActivedGrid(n,t,i,r)},_ON_PAGE_DEACTIVATE:function(n,t,i,r){this._toggleActivedGrid(n,t,i,r);n.hasChangedActiveState&&console.log(ecount.logger.lifecyle(this.ecPageID,"ON_PAGE_DEACTIVATE"))},_ON_PAGE_FOCUSED:function(n,t,i,r){this._toggleActivedGrid(n,t,i,r)},_ON_PAGE_PASTE:function(n,t,i,r){this._dispatchToActivedGrid("_ON_GRID_PASTE",n,t,i,r)},ON_PAGE_RESIZE_MAXIMIZE:function(){},_ON_PAGE_RESIZE_MAXIMIZE:function(n){this._dispatchToAllGrid("_ON_GRID_RESIZE_MAXIMIZE",null,event);this.ON_PAGE_RESIZE_MAXIMIZE(n)},_dispatchToActivedGrid:function(n,t,i,r,u){var f=this.getActivedGrid(_.get(t,"isForce")?_.get(t,"gridID"):null);if(f&&f[n])return f[n](t,i,r,u)},_dispatchToTargetGrid:function(n,t,i,r,u){if(t.gridID){var f=this.getGrid(t.gridID);f&&f[n]&&f[n](t,i,r,u)}},getGrid:function(){},_dispatchToAllGrid:function(n,t,i,r,u){var f=this.getAllGrid();_.isEmpty(f)||_.isEmpty(n)||f.forEach(function(f){f[n](t,i,r,u)})},_toggleActivedGrid:function(n,t,i,r){this.__ec_active_grid_id&&this.__ec_active_grid_id!=n.gridID&&(this._dispatchToActivedGrid("_ON_GRID_DEACTIVATE",n,t,i,r),this.__ec_active_grid_id=null);n.gridID&&this.__ec_active_grid_id!=n.gridID&&(this.__ec_active_grid_id=n.gridID,this._dispatchToActivedGrid("_ON_GRID_ACTIVATE",n,t,i,r))},getFocusedGridID:function(){return this.__ec_active_grid_id},getActivedGridID:function(){var n;return this.__ec_active_grid_id?n=this.__ec_active_grid_id:this.__ec_always_active_grid_id&&this.__ec_always_active_grid_id.length&&(n=this.__ec_always_active_grid_id[0]),n},getActivedGrid:function(n){var t=n||this.getActivedGridID();if(t&&this.contents)return this.contents.getGrid(t,!1)},getAllGrid:function(){if(this.contents)return this.contents.getGrid(!1,!1)},getPageOutlines:function(){function n(t,i){var r,u,f=t.combineControlType||t.controlType,e;f?(r=t.subTitle||t.id,u=f):r=t.__type||t.containerName;t.__type=="tabPane"&&(u=t.tabId);e={ecIKey:t.ecIKey,ecPath:t.ecPath,containerName:t.containerName,title:r,subTitle:u,controlType:f,children:[]};i.push(e);t.itemList&&t.itemList.forEach(function(t){n(t,e.children)})}var t=[],i=[],r=[];return n(this.header,t),n(this.contents,i),n(this.footer,r),{header:t[0].children,contents:i[0].children,footer:r[0].children}},registerEcGlobalRepository:function(n,t){return ecount.common.registerEcGlobalRepository(n,t,this.ecPageID)},unregisterEcRepository:function(n){ecount.common.unregisterEcRepository(n)},getGlobalEcRepositoryByKey:function(n){return ecount.common.getGlobalEcRepositoryByKey(n)},getGlobalEcRepositoryByPageId:function(){return ecount.common.getGlobalEcRepositoryByPageId(this.ecPageID)},getLocationHashData:function(){return $.url().ecHash},onEnoteMenuClick:function(n){console.log("enote menu click");this.onDropdown(n)},onChangeChildDisplayInGrid:function(n){this._dispatchToActivedGrid("_ON_GRID_CHANGE_CHILD_DISPLAY",n)}});$.extend(ecount.common.createNamespace("ecount.popup"),{current:null,list:[],windowList:[],parent:function(){function n(t){if(t=t||window,t[ecount.page.prefix+"ecp.ecp050m"])return t;if(t.name&&t.name.indexOf("generalSlip")>=0&&t.parent&&t.parent.opener){var i;try{t.parent.opener.opener.document&&(i=t.parent.opener.opener)}catch(r){i=t.parent.opener}return i}return t.parent&&t.parent!=t?t.name=="__externalEcountIFrame"?t:n(t.parent.window):t.ecount!==undefined?t:window}return window.__ecTargetWindow=n(),window.__ecTargetWindow}(),_openV4Window:function(n){function r(n){t.ecount.global?t.ecount.global.executeCallback(url.__ecPageID,"onMessageHandler#",{pageID:url.pageID},n):t.ecount.callback.execute.call(null,"onMessageHandler#",{pageID:url.pageID},n)}var i=ecount.runtime.getPage(n.__ecPageID),t=window;n.viewServiceName=n.viewServiceName||"AddinViewService";n.responseMessageID=n.__ecPageID+"/"+Date.now();n.parameter=$.extend({parentPopupLevel:i&&+i.popupLevel},n.parameter);n.popupType===!0?this._openV4WindowPopup(n,r):this._openV4LayerPopup(n,r)},_openV4LayerPopup:function(n,t){n.path=[n.__ecPageID];n.viewerType="popup";ecount.runtime.observingOnce(ECountEvent.Type.APPLICATION_V4_VIEWSERVICE_LOAD,null,function(){ecount.router.loadViewServiceV4(n).then(function(){var i=window,r=i.ECount.GET_APPLICATION_CONTEXT().getActivatedExecutionContext();ec$.sinkAllV3Popup();r.subscribeNotification({key:n.responseMessageID,resolve:function(n){t(n)},persistance:!0})})});$.encryptAjax({url:ecount.common.buildSessionUrl(n.url),method:"POST",contentType:"application/json",data:Object.toJSON(n.parameter||{}),success:function(n){$(document.body).append(n)}.bind(this),error:function(){}})},_openV4WindowPopup:function(n,t){var e=window.screenLeft?window.screenLeft:window.screenX,o=window.screenTop?window.screenTop:window.screenY,r=n.popupOption.width||500,u=n.popupOption.height||600,s=n.popupOption.left?param.left:parseInt(e+$(window).innerWidth()/2-r/2),h=n.popupOption.top?param.top:parseInt(o+$(window).innerHeight()/2-u/2),c=ecount.common.buildSessionUrl(n.url),l="width="+r+",height="+u+",scrollbars=yes,resizable=yes,left="+s+",top="+h,a=window,i=window.open(c,n.popupOption.title,l),f;a.ecount.runtime.observe("application.cross.sendMessage",n.responseMessageID,t);ecount.runtime.observe(ECountEvent.Type.APPLICATION_V4_VIEWSERVICE_LOAD,n.responseMessageID,function(){i.ecount.router.loadViewServiceV4(n)});f=function(){setTimeout(function(){i.closed===!0&&(ecount.runtime.stopObserving(ECountEvent.Type.APPLICATION_V4_VIEWSERVICE_LOAD,n.responseMessageID),ecount.runtime.stopObserving("application.cross.sendMessage",n.responseMessageID))},100)}.bind(this);i.addEventListener("beforeunload",function(){f()})},openWindow:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){var rt,nt,ft;if(typeof n=="object"&&n.isV4===!0){this._openV4Window(n);return}ecount.performance("openWindow");var tt=slice.call(arguments,0),it="",et={};if(typeof n=="object"){t=n.name;i=n.param||{};r=n.popupType;u=n.fpopupID||n.popupID;f=ecount.__isTRecordMode()?!1:n.modal||i.modal;o=n.additional||i.additional;_.isNil(u)||o||(u=_.uniqueId(u));s=n.popupLevel;h=n.parentPageID;p=n.notCloseMenuChanged;k=n.onlyCloseMenuChange;d=n.isAlert;g=n.useGlobalSetTime;var ht=n.keepAlive||!1,ct=n.doGet===undefined?!1:n.doGet,ot=n.alreadyIncludedLayout==undefined?i.alreadyIncludedLayout:n.alreadyIncludedLayout,lt=n.epPopup||!1;n.fAlreadyIncludedLayout===!1&&(ot=!1,i.alreadyIncludedLayout=!1);n.l7Param!==undefined&&(it=n.l7Param,typeof it=="object"&&(it=$.param(it)));n.isOnlyCloseBtn===!0&&(et.isOnlyCloseBtn=!0);rt=n.__ecPageID||i.__ecPageID;c=n.resizable==undefined?!0:n.resizable;a=n.isChangePopupType==undefined?!0:n.isChangePopupType;l=n.controlCallBack||null;v=n.groupPopUpID==undefined||null?"":n.groupPopUpID;y=n.isGroupPopUpMain==undefined||null?!1:n.isGroupPopUpMain;w=n.isNotSetLayout==undefined||null?!1:n.isNotSetLayout;b=n.notSubmitWindowOpen==(undefined||null)?!1:n.notSubmitWindowOpen;n=n.url}h=h||window.__ecPageID;s=s||1;t=t||"";i=i||{};r=r||!1;o=o||!1;u=u||(o?h+n.encodeBase64().substr(0,10):r?ecount.common.uuid(h):ecount.common.seqPIndex(h));u=u.replaceAll(".","_");e=e||{id:u,name:t};c=c==undefined||null?!0:c;a=i.isChangePopupType==!1?i.isChangePopupType:a;a=a==undefined||null?!0:a;v=v==undefined||null?"":v;y=y==undefined||null?!1:y;p=p==undefined||null?!1:p;k=k==undefined||null?!1:k;w=w==undefined||null?!1:w;b=b==undefined||null?!1:b;d=d==undefined||null?!1:d;nt=ecount.popup.parent;nt.__ecOriginWindow||(nt.__ecOriginWindow={});var ut=this,st=ut.getLastLevelPopup(),at=_.get(st,"[7][0].popupLevel",0),vt=_.get(st,"[2]",!1);if(o===!1&&r===!1&&at>=s&&!vt&&_.isPlainObject(tt[0])&&tt[0].isModifyCheckPass!==!0&&(ft=ecount.global.findPageInstance(ecount.popup.getEcPageID(st[0])),ft&&_.isFunction(ft.isEditingCheck)&&ft.isEditingCheck())){tt[0].isModifyCheckPass=!0;ecount.confirm(ecount.resource.MSG70527,{callback:function(n){n&&ut.openWindow.apply(ut,tt)}.bind(ut)});return}rt&&g?ecount.global.setTimeout(rt,function(){nt.ecount.popup._openWindow(n,t,i,r,u,f,e,o,s,h,ht,ct,ot,rt,c,l,lt,a,tt,v,y,p,w,b,k,d,it,et);nt.__ecOriginWindow[u.replaceAll(" ","")]=window}.bind(this)):window.setTimeout(function(){nt.ecount.popup._openWindow(n,t,i,r,u,f,e,o,s,h,ht,ct,ot,rt,c,l,lt,a,tt,v,y,p,w,b,k,d,it,et);nt.__ecOriginWindow[u.replaceAll(" ","")]=window})},_openWindow:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){var pt,wt,dt,ht,lt,at,bt,gt,ii,ri,ui,st,ct;if(n)if(pt=!1,wt=n.split("?")[0].split("/").pop(),wt&&(["CM100P_02_01","CM100P_07_CM_01","TC005P_01","TC005P_02","TC005P_06"].contains(wt.toUpperCase())||i.IsMultiBoard)&&(a=!1,i&&i.alreadyIncludedLayout&&(i.alreadyIncludedLayout=!1),r=!0,pt=!0),ecount.__isEventCaptureMode()&&(dt={type:"openLayerWindow",displayTitle:n,ecPageID:v,popupLevel:s,actionTarget:u+"__ecPageLoadcompleteFlag"},ecount.eventLog("openLayerWindow",dt)),bt={},tt?(lt=i.width,at=i.height):(ht=ecount.popup.setLayerSize(i,r,d,g),i.width=lt=ht.width,i.height=at=ht.height,bt={isWidthResized:ht.isWidthResized,isHeightResized:ht.isHeightResized},i.isOpenPopup=!0),i.parentPageID=h,i.popupType=$.isBoolean(r)&&r?"window":"layer",i.popupID=u.replaceAll(" ",""),i.popupLevel=s,v&&(i.__ecPageID=v),this.urlCheck(n)&&(b=!1),ecount.runtime.notify(ECountEvent.Type.OPEN_POPUP,null,{url:n,name:t,param:i,popup:r,popupID:u,modal:f,control:e,additional:o,popupLevel:s,parentPageID:h,keepAlive:c,method:l,alreadyIncludedLayout:a,ecPageID:v,resizable:y,controlCallBack:p,epPopup:w,isChangePopupType:b,_arguments:k,groupPopUpID:d,isGroupPopUpMain:g,notCloseMenuChanged:nt,isNotSetLayout:tt,notSubmitWindowOpen:it,onlyCloseMenuChange:rt,isAlert:ut}),$.isBoolean(r)&&r){gt=ecount.router.registerRouteKey(n,i.popupType=="window"?!1:s,!0);i.requestKey=gt;var ei=window.screenLeft?window.screenLeft:window.screenX,oi=window.screenTop?window.screenTop:window.screenY,ni=i.left?i.left:parseInt(ei+$(window).innerWidth()/2-lt/2),ti=i.top?i.top:parseInt(oi+$(window).innerHeight()/2-at/2),si="width="+lt+",height="+at+",scrollbars=yes,resizable=yes,left="+ni+",top="+ti,hi="toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width="+lt+",height="+at+",left="+ni+",top="+ti,ct=it?hi:si,kt=ct.concat(_.isEmpty(ft)?"":","+ft),ot;if(u=u.replaceAll(" ","").replace(/[\/_\.∬]/g,""),window.ReactNativeWebView)i.url=n,window.ReactNativeWebView.postMessage(Object.toJSON(i));else if(it)return ecount.env.mock?window.open(ecount.env.mock.getPageUrl(n),u,kt):window.open(n,u,kt),!1;window.ReactNativeWebView||(ii=l===!0?ecount.common.buildSessionUrl(n)+"&"+$.param(i):ecount.common.isIOS?" ":"about:blank",ot=window.open(ii,u,kt),b===!1&&(i.alreadyIncludedLayout=!1,i.isChangePopupType=!0),!l&&e&&ecount.common.submit({target:u,url:n,data:i,l7Param:ft}));ot&&ot.focus();pt&&(ecount.popup.parent.ecount.popup.formsetPopupList=ot);b===!1&&(ecount.popup.parent.ecount.popup.windowList[s]||(ecount.popup.parent.ecount.popup.windowList[s]={}),ecount.popup.parent.ecount.popup.windowList[s][u]=ot)}else{if(ri=function(n){if(n&&n.length>0&&a){var r,u=n.attr("id").replace("ecpopup_","").split(ecount.popupIDDelimiter)[0],i=ecount.popup.getEcPageID(n),t=window[ecount.page.prefix+i];t&&(r=t.disableFocusForParent,t.preDestroy(),t.destroy(),window[ecount.page.prefix+i]=t=null,delete window[ecount.page.prefix+i])}},o){if(this.isExist(u,s,h)){ot=this.get(u,s,h);ot[2]===!0?ot[0].ecDialog("open"):ot[0].ecDialog("moveToTop");a?ecount.popup.loadPage(ot[0],n,i,function(n){ri(n)},ot[0]):(ecount.popup.destroy(u,s,h,!0,!0),ecount.common.iframe({owner:ot[0],url:n,data:i,keepAlive:!0}));return}}else u&&this.destroyByLevel(s);ot=this.create(u,s,h,c,a,v,bt,p,w,k,d,g,nt,rt);ui=n.split("?")[0].split("/").pop();st=null;try{st=ecount.popup.dimension.get(ui)||null}catch(ci){}ct={modal:f===!0?!0:!1,minWidth:200,height:st&&st.HEIGHT||at,width:st&&st.WIDTH||lt,isPinned:st==null?!1:!0,alreadyIncludedLayout:a,isAlert:ut,isOnlyCloseBtn:et&&et.isOnlyCloseBtn===!0?!0:!1,dialogClass:"panel "+(w==!0?"panel-default panel-ep-widget-setup ":"panel-primary ")+(a==!0?"panel-modal":""),title:e.name,closeText:"×",resizable:y,isChangePopupType:b===!1?!1:!0,groupPopUpID:d,isGroupPopUpMain:g,open:function(){var t=ot,e=$(this).parent(),r,u,h,o;for(e.attr("tabindex",-1)[0].focus(),e.find(".ui-dialog-titlebar").addClass("panel-heading"),r=e.find(".ui-button"),r.addClass(w?"btn btn-default":"btn btn-primary"),u=0,h=r.length;u<h;u++)r[u].id=r[u].id+"_"+v;if(a){if(t.addClass("panel-body"),t[0].focus(),f&&$("div.ui-widget-overlay.ui-front").css("z-index",2001),ecount.__isEventCaptureMode())try{t.attr("data-popup-url",n.split("?")[0].split("/").pop());t.attr("data-popup-level",s)}catch(l){}ecount.popup.loadPage(t,n,i)}else ecount.common.iframe({owner:t,url:n,data:i,keepAlive:c});o=window.ECount&&window.ECount.GET_APPLICATION_CONTEXT();o&&o.deactivateContext()},resizeStart:function(){$(this).find(".dialog-iframe-overlay").show()},resizeStop:function(){var t,i,r,u,f,n;$(this).find(".dialog-iframe-overlay").hide();t=ecount.popup.getEcPageID($(this));ecount.runtime.notify("resize",t,event);i=ecount.global.findPageInstance(t);i&&(r=i.ecPageID.replace(/_([0-9]+)$/g,""));u=$(this).parent().find(".ui-dialog-titlebar").find("button.active");u&&u.length>0&&r&&(f=Number($(this.parentElement.firstElementChild).css("padding").replace("px",""))*2-1,n={width:this.parentElement.clientWidth,height:this.parentElement.clientHeight-f,top:Number(this.parentElement.style.top.replace("px","")),left:Number(this.parentElement.style.left.replace("px",""))},n&&(_.isNull(n.height)||n.height<1)&&(n.height=500),this.popupPosition=n,this.popupTimeoutID&&window.clearTimeout(this.popupTimeoutID),this.popupTimeoutID=window.setTimeout(function(){ecount.popup.dimension.modify(r,n);this.popupPosition=null}.bind(this),3e3))},resize:function(n){var t=ecount.popup.getEcPageID($(this));ecount.runtime.notify("resize",t,n)},dragStart:function(){$(this).find("div.page").hide()},dragStop:function(){var t,i,r,u,f,n;$(this).find("div.page").show();t=ecount.popup.getEcPageID($(this));i=ecount.global.findPageInstance(t);i&&(r=i.ecPageID.replace(/_([0-9]+)$/g,""));u=$(this).parent().find(".ui-dialog-titlebar").find("button.active");u&&u.length>0&&r&&(f=Number($(this.parentElement.firstElementChild).css("padding").replace("px",""))*2-1,n={width:this.parentElement.clientWidth,height:this.parentElement.clientHeight-f,top:Number(this.parentElement.style.top.replace("px","")),left:Number(this.parentElement.style.left.replace("px",""))},n&&(_.isNull(n.height)||n.height<1)&&(n.height=500),this.popupPosition=n,this.popupTimeoutID&&window.clearTimeout(this.popupTimeoutID),this.popupTimeoutID=window.setTimeout(function(){ecount.popup.dimension.modify(r,n);this.popupPosition=null}.bind(this),3e3));ecount.runtime.notify("dragStop",t,event)},drag:function(){var n=arguments[1];n.position.top=n.offset.top},maximize:function(n){var t,r,i,u;if(ot){if(n.isMax){this.resizePopup=function(n){var t=ot[0].parentElement,i;ot[0]&&t&&($(t).find(" > .ui-resizable-handle").addClass("hidden"),this.originalWidth=t.offsetWidth,this.originalHeight=t.offsetHeight,n.groupPopUpID&&(ecount.popup.getGroupPopUpMain(n.groupPopUpID)>1?(this.originalOffsetTop=t.offsetTop,this.originalOffsetLeft=t.offsetLeft):(delete this.originalOffsetTop,delete this.originalOffsetLeft)),i=ot.closest(".panel-modal"),i.length&&(this.prevPosition={top:parseInt(i[0].style.top),left:parseInt(i[0].style.left)}),ot.ecDialog("option","width",window.document.body.clientWidth-2),ot.ecDialog("option","height",window.innerHeight*ecount.common.getZoomRatio()),i.css({position:"fixed",top:0,left:0}))};this.resizePopup(n);$(window).on("resize.maximize."+ecount.popup.getEcPageID(ot),this.resizePopup)}else{if($(ot[0].parentElement).find(" > .ui-resizable-handle").removeClass("hidden"),ot.ecDialog("option","width",this.originalWidth),ot.ecDialog("option","height",this.originalHeight),t=ecount.popup.getEcPageID($(this)),this.prevPosition)ot.closest(".panel-modal").css({position:"",top:this.prevPosition.top,left:this.prevPosition.left}),this.prevPosition=null;else{ecount.runtime.notifiy("resize."+t,n);r=ecount.global.findPageInstance(t);i=null;r&&(u=r.ecPageID.replace(/_([0-9]+)$/g,""));try{i=u&&ecount.popup.dimension.get(u)}catch(f){}ot.ecDialog("option","position",{my:"left+100 top+100",at:"left top"});!$.isEmpty(this.originalOffsetTop)||i?ot.ecDialog("option","position",[i.LEFT||this.originalOffsetLeft,i.TOP||this.originalOffsetTop]):ot.ecDialog("option","position",{at:"center",my:"center"})}$(window).unbind("resize.maximize."+t)}ecount.runtime.notify("resize.maximize",t,n)}},refreshPopup:function(){var n=ecount.popup.getInfo($(this).attr("id")),r=ecount.popup.get(n.popupID,n.popupLevel),t,i;a&&(i=window.__ecOriginWindow[u],t=ecount.popup.getEcPageID($(this))||i.__ecPageID,ecount.popup.parent.ecount.popup.reload(n.popupID,t,n.popupLevel,r[7][0],t))},pinPopup:function(n){var r=ecount.popup.getEcPageID($(this)),u=ecount.global.findPageInstance(r),i,f,t;u&&(i=u.ecPageID.replace(/_([0-9]+)$/g,""));i&&(n.isPinned?ecount.popup.dimension.remove(i):(f=Number($(this.parentElement.firstElementChild).css("padding").replace("px",""))*2-1,t={width:this.parentElement.clientWidth,height:this.parentElement.clientHeight-f,top:Number(this.parentElement.style.top.replace("px","")),left:Number(this.parentElement.style.left.replace("px",""))},(_.isNull(t.height)||t.height<1)&&(t.height=500),ecount.popup.dimension.add(i,t,r)))},focus:function(){var n=ecount.popup.getEcPageID($(this)),t;ecount.popup.current&&n!=ecount.popup.current.uuid;ecount.popup.current=ecount.popup.getInfo($(this).attr("id"));ecount.popup.current.uuid=n;$.datepicker.setDefaults({dateHandler:function(){return ecount.control.date.serverDate(n)}});t=window.ECount&&window.ECount.GET_APPLICATION_CONTEXT();t&&t.deactivateContext()},beforeClose:function(n){var r=ecount.popup.parent,i=ecount.popup.getInfo($(this).attr("id")),u=ecount.popup.list[i.popupLevel][i.popupID],f=u[3]?r:r.__ecOriginWindow[i.popupID],e,t;if(!$.isNull(f))return e=ecount.page.prefix+ecount.popup.getEcPageID(u[0]),t=f[e],$.isNull(t)||!ecount.global.findPageInstance(t.ecPageID)?!0:t.onBeforeClosePopup(n)},close:function(n,t){var l=ecount.popup.getEcPageID($(this)),c,r,e,o,s,h,i,f;if($(window).unbind("resize.maximize."+l),a)i=ecount.popup.getInfo($(this).attr("id")),s||ecount.popup.setFocusOnTarget(i.popupID,i.popupLevel),c=window.__ecOriginWindow[u],t===!0&&(f=ecount.popup.get(i.popupID,i.popupLevel)[7][0],f.param.height=n.modalHeight,f.param.width=n.modalWidth,ecount.popup.parent.__ecOriginWindow[i.popupID].ecount.popup.openWindow($.extend(f,{popupType:!0,isChangePopupType:!1},!0))),ecount.popup.destroy(i.popupID,i.popupLevel,_.get(c,"__ecPageID")||ecount.popup.getEcPageID($(this)),undefined,undefined,undefined,"btn-close",t);else if(r=$(this).find("iframe[name=ecframe]"),r.length>0&&r[0].contentWindow){if(e=r[0].contentWindow,!e)return;o=e[e.ecPageID||e.__ecPageID];o&&(s=o.disableFocusForParent,o.destroy(),o=null,delete o);r.load(function(){ot.attr("data-keepAlive")!="true"&&(r.remove(),ot.ecDialog("destroy").remove())});r.attr("src","about:blank");h=e||{};i=ecount.popup.getInfo($(this).attr("id"));s||ecount.popup.setFocusOnTarget(i.popupID,i.popupLevel);t===!0&&(f=ecount.popup.get(i.popupID,i.popupLevel)[7][0],ecount.popup.parent.__ecOriginWindow[i.popupID].ecount.popup.openWindow($.extend(f,{popupType:!0},!0)));ecount.popup.destroy(i.popupID,i.popupLevel,h.ecPageID||h.__ecPageID,!0)}}};st&&(ct.position=[st.LEFT,st.TOP]);ecount.isMobile?ct.position={offset:$(document).scrollLeft()+" "+$(document).scrollTop()}:$.isEmptyObject(ht.position)||(ct.position=ht.position);var fi=null,vt=null,yt=null;fi=requestUrl.domainType;switch(fi){case"E":case"C":case"U":ecount&&ecount.company&&(vt=ecount.company.COM_CODE);ecount&&ecount.user&&(yt=ecount.user.ID);break;case"T":invoice&&invoice.main&&(vt=invoice.main.COM_CODE,yt=invoice.main.PID);break;case"W":webmail&&webmail.main&&(vt=webmail&&webmail.main&&webmail.main.COM_CODE);webmail&&webmail.user&&(yt=webmail&&webmail.user&&webmail.user.USER_ID)}_.isNil(vt)&&_.isNil(yt)&&(ct.removePinButton=!0);ot.ecDialog(ct)}},urlCheck:function(n){for(var i=["/ECERP/ESD/ESD026P_01","/ECERP/POPUP.SEARCH/CM007P","/ECERP/EBD/EBD022M","/ECERP/SVC/EBD/EBD010M_54","/ECERP/ECTAX/ECTAX025P_01","/ECERP/SVC/POPUP/FM006P_01","/ECERP/SVC/POPUP/FM002P_01","/ECERP/SVC/ESA/ESA065M","/ECERP/ESA/ESA051M","/ECERP/SVC/ESA/ESA066M","/ECERP/ESA/ESA056M","/ECERP/ECU/ECU410M","/ECERP/EMJ/EMJ002P_10","/ECERP/POPUP.FORM/CM100P_02","/ECERP/POPUP.FORM/CM100P_06","/ECERP/POPUP.FORM/CM100P_24","/ECERP/SVC/POPUP/FM024P_01","/ECERP/SVC/POPUP/FM006P_02",],t=0;t<i.length;t++)if(typeof n=="string"&&i[t].indexOf(n.toUpperCase())>=0)return!0;return!1},loadPage:function(n,t,i,r,u){var f=$.extend({alreadyIncludedLayout:!0},i),o,s,c,l,e,h;for(o in f)(f[o]===undefined||f[o]==="")&&delete f[o];s=$.url().base;s.indexOf("ecount")==-1&&(s="");c=ecount.popup.getInfo(n.attr("id"));l=ecount.router.registerRouteKey(t,i.popupType=="window"?!1:c.popupLevel,!0);f.requestKey=l;ecount.env.mock.isRunnig()?(h=ecount.env.mock.getPageRequest(t,f),e=h.url,f=h.params):e=s+t;(e||"").toLowerCase().indexOf("/ecerp/v5/app.board.v5/board_list?")>-1&&(e=e.toLowerCase().replace("/ecerp/v5/app.board.v5/board_list?","/ECERP/EGM/EGM024M?"));$.encryptAjax({url:ecount.common.buildSessionUrl(e),method:"POST",contentType:"application/json",data:Object.toJSON(f),success:function(i){r&&r(u);t.toUpperCase().test(/ECERP\/ET(A|B|C|D)/)&&(i=i.replace(/href=\"#\"/g,'href="javascript:;"'));n.html(i)}.bind(this),error:function(t){r&&r(u);t.status=="412"&&ecount.error(ecount.resource.MSG06861);t.status=="500"&&ec$.loadHtmlToTargetContext(n,t.responseText)}})},getLastLevelPopup:function(n){var f=!1,t,i,r,u,e;if(this.list.length>1)for(t=this.list.length-1;t>0;t--){if(i=this.list[t],_.isPlainObject(i)&&(r=Object.keys(i),r.length>0))for(u=0;u<r.length;u++)if(e=r[u],e!==n){f=i[e];break}if(f)break}return f},setFocusOnTarget:function(n,t,i,r){var s=ecount.popup.get(n,t),h,f,e,u,o;s&&(h=i?n:s[1],f=i?parseInt(t):parseInt(t)-1,f==0&&(e=this.getLastLevelPopup(n)),f!=0||e?(u=e?e:ecount.popup.get(h,f),u?window.setTimeout(function(){var n,t;u[0].find("iframe[name=ecframe]").length>0?(n=u[0].find("iframe[name=ecframe]")[0].contentWindow,n&&(t=n.document.activeElement,!r&&n&&n.focus(),t&&(r||t.focus()))):u[3]===!0&&(ecount.global.isDisableAlert()?(u[0].ecDialog("moveToTop",{},r),document&&document.activeElement!=null&&document.activeElement.tagName=="BODY"?r||u[0].focus():(ecount.popup.current=ecount.popup.getInfo(u[0].attr("id")),ecount.popup.current.uuid=ecount.popup.getEcPageID(u[0]))):(ecount.popup.current=ecount.popup.getInfo(u[0].attr("id")),ecount.popup.current.uuid=ecount.popup.getEcPageID(u[0])))},0):(o=window.ECount&&window.ECount.GET_APPLICATION_CONTEXT(),o&&o.destroyedContext&&o.destroyedContext())):r||window.__ecOriginWindow[n].focus())},getInfo:function(n){if(!n)return{};var t=n.replace("ecpopup_","").split(ecount.popupIDDelimiter);return{popupID:t[0],popupLevel:parseInt(t[1])}},get:function(n,t){return t=parseInt(t),this.list[t]&&this.list[t][n]?this.list[t][n]:void 0},getGroupPopUpMain:function(n,t){for(var f,r,u=0,i=1,e=this.list.length;i<e;i++)for(f in this.list[i])if(r=this.list[i][f],r[8]==n){if(t===!0)return r;u++}return u},getGroupPopUpMainOffset:function(n){if(n){var t=n.offset(),i=n[0].parentElement.offsetWidth,r=n[0].parentElement.offsetTop,u=n.outerHeight()+21;return{offset:t,width:i,height:u,dialogOffsetTop:r}}},isExist:function(n,t){var i,r,u;if(n)return this.get(n,t)?!0:!1;for(i=1,r=this.list.length;i<r;i++)for(u in this.list[i])if(u==n)return!0;return!1},create:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var p=$("<div><\/div>"),y;return t=parseInt(t),y=this.get(n,t,i),y&&this.destroy(n,t,f),this.list[t]||(this.list[t]={}),y=p.attr("data-eczoomlevel","apply").attr("id","ecpopup_"+n+ecount.popupIDDelimiter+t).attr("data-keepAlive",r).addClass("dialog2").appendTo($("body")),this.list[t][n]=[y,i,r,u,f,e,o,h,c,l,a,v],this.notCloseMenuList=this.notCloseMenuList||{},(v||a||this.notCloseMenuList[i])&&(this.notCloseMenuList[n]={popupLevel:t,popupData:this.list[t][n]}),y},reload:function(n,t,i,r,u){var e=ecount.global.findPageInstance(u),s,o,f,h;if(!e){if(!window)return;e=window[ecount.page.prefix+u]}if(s=r.url.split("/").pop(),o=ecount.popup.dimension.get(s),e&&(e.initPropertiesOnPopupRefresh&&(r=e.initPropertiesOnPopupRefresh(r)),e.preDestroy(),e.destroy(!0),e=null),f=this.list[i][n][0],ecount.__isEventCaptureMode()){try{f.attr("data-popup-url",r.url.split("?")[0].split("/").pop())}catch(c){}this.list[i][n]&&(h={type:"reloadLayerWindow",displayTitle:r.url,id:this.list[i][n][0].attr("id"),ecPageID:u,actionTarget:n+"__ecPageReLoadcompleteFlag"},ecount.eventLog("reloadLayerWindow",h))}ecount.popup.destroy(n,i,t,!0,!0);f.html("");f.ecDialog("moveToTop");_.isNil(o)||(f.ecDialog("option","width",o.WIDTH),f.ecDialog("option","height",o.HEIGHT),f.ecDialog("option","position",[o.LEFT,o.TOP]),f.parent().find(".ui-dialog-titlebar-pin")&&f.parent().find(".ui-dialog-titlebar-pin").addClass("active"),f.parent().find(".ui-dialog-titlebar-pin")&&f.parent().find(".ui-dialog-titlebar-pin").addClass("ui-dialog-titlebar-pinned"));this.list[i][n].length>6&&(this.list[i][n][7][0].param=r.param,this.list[i][n][7][0].url=r.url);ecount.popup.loadPage(f,r.url,r.param)},destroy:function(n,t,i,r,u,f,e,o){function l(n,t,r,u,f,o){var a,nt,y,p,d,w,b,v;if(t=parseInt(t),s&&s[t]){if(a=s[t][n],a){if(u)a[3]&&ecount.global.beforeReloadPage();else{if(r){try{document.activeElement&&document.activeElement.tagName.toUpperCase()=="BODY"&&a[0].focus();var v=ecount.global.findPageInstance(ecount.popup.getEcPageID(a[0])),k=ecount.global.findPageInstance(a[4]),g=a[0].parent().find(".ui-dialog-titlebar").find("button.active");v&&g&&g.length>0&&v.pageID&&(nt=v.ecPageID.replace(/_([0-9]+)$/g,""),y=a[0][0],y.popupPosition&&((_.isNull(y.popupPosition.height)||y.popupPosition.height<1)&&(y.popupPosition.height=500),y.popupTimeoutID&&window.clearTimeout(y.popupTimeoutID),ecount.popup.dimension.modify(nt,y.popupPosition)));v&&_.isFunction(v.onBeforeUnloadCheck)&&ecount.popup.parent.ecount.callback.execute("__EC_UNLOAD_EVENT_CALLBACK_ID","unregister",v.ecPageID);k&&k.onCloseChildPopup&&k.onCloseChildPopup();v&&v.onBeforeClosePopupHandler&&v.onBeforeClosePopupHandler()}catch(tt){console.log(">>>>>>> popup destroy error");console.log(tt)}a[3]?(ecount.global.beforeReloadPage(),a[0].ecDialog("destroy").remove()):a[0].ecDialog("close")}a[2]!==!0&&s[t]&&s[t][n]&&(s[t][n]=null,delete s[t][n],c&&delete c[n])}if((e=="btn-close"||e=="click")&&a[6]&&typeof a[6]=="function"&&a[6](),p=s[t+1],p)for(d in p)p[d][1]==n&&l(d,t+1,!0)}u||h.__ecOriginWindow&&i&&(w=!$.isNull(a)&&a[3]?h:h.__ecOriginWindow[n],w&&a&&(b=ecount.page.prefix+ecount.popup.getEcPageID(a[0]),v=w[b],v&&(v._onClosedPopupHandler(i.replace(ecount.page.prefix,""),f=="btn-close",o),v._destroyComplete!==!0&&(v.destroyAll?(ecount.global.clearTimeout(b.replace(ecount.page.prefix,"")),window.setTimeout(function(){v.destroyAll(o===!0);w[b]=v=null},0)):v.destroy())),h[i]&&(h[i]=null,delete h[i])),h.__ecOriginWindow[n]=null,delete h.__ecOriginWindow[n])}}var s=this.list,c=this.notCloseMenuList,h=ecount.popup.parent,a;if(l(n,t,!r,u,e,o),ecount.popup.parent.ecount.popup.formsetPopupList)try{a=ecount.popup.parent.ecount.popup.formsetPopupList.ecount.global.findPageInstance(ecount.popup.parent.ecount.popup.formsetPopupList.ecount.runtime.getMainEcPageID());a.popupLevel>t&&(ecount.popup.parent.ecount.popup.formsetPopupList.close(),ecount.popup.parent.ecount.popup.formsetPopupList=null)}catch(v){}ecount.log("closePopupWindow",n);ecount.__isEventCaptureMode()&&ecount.eventLog("closeLayerWindow",{type:"closeLayerWindow",pageID:i,popupID:n,popupLevel:t,eventTarget:e,__self:this});console.log("");console.log("================::: POPUP CLOSED :::=================");console.log(this.list);console.log("=====================================================");console.log("");u||this.current&&this.current.popupID==n&&(this.current=null)},destroyByLevel:function(n,t,i){var s=ecount.popup.list[parseInt(n)],u=ecount.popup.parent.ecount.popup.windowList[n]||{},e,o,h,r,f;for(r in s)e=this.get(r,n),this.checkDestroyPopup(e,i)&&ecount.popup.destroy(r,n,t);for(r in u)try{u[r].ecPageID&&(o=u[r].ecPageID.replace("__ec.",""),h=u[r].ecount.global.findPageInstance(o),u[r]&&u[r].ecount.popup.destroyByLevel(parseInt(n)+1));u[r].close()}catch(c){}if(n==1){ecount.popup.parent.ecount.popup.formsetPopupList&&(ecount.popup.parent.ecount.popup.formsetPopupList.close(),ecount.popup.parent.ecount.popup.formsetPopupList=null);ecount.popup.list=[];ecount.popup.windowList=[];for(r in this.notCloseMenuList)f=this.notCloseMenuList[r],ecount.popup.list[f.popupLevel]||(ecount.popup.list[f.popupLevel]={}),ecount.popup.list[f.popupLevel][r]=f.popupData}},checkDestroyPopup:function(n,t){return n[10]||n[11]==!0&&!t?!1:!0},destroyAll:function(n,t){var i=ecount.popup.parent.ecount.popup;i.destroyByLevel(1,n,t);ecount.eventLog("ecount.popup.prototype.destroyAll",{type:"ecount.popup.prototype.destroyAll",ecPageID:n})},setLayerSize:function(n,t,i,r){function ft(n,t){var i={width:0,height:0};switch(t){case"M":i.width=n.width*(2-v);i.height=n.height*(2-v);break;case"D":i.width=n.width/(2-v);i.height=n.height/(2-v)}return i}var o={isWidthResized:!0,isHeightResized:!0},v=ecount.common.getZoomRatio(),e=parseInt($(ecount.parentFrame).innerWidth(),10),s=parseInt($(ecount.parentFrame).innerHeight(),10),et=n.maximumSize,h,f,c,w,g,d;$.isEmpty(i)||r||(h=ecount.popup.getGroupPopUpMain(i,!0),h&&(f=ecount.popup.getGroupPopUpMainOffset(h[0]),c={},f&&($(window).width()>f.width+n.width&&$(window).width()-(f.offset.left+f.width)<n.width&&(g=Math.round(($(window).width()-(f.width+n.width))/2),h[0].ecDialog("option","position",[g,f.dialogOffsetTop]),f=ecount.popup.getGroupPopUpMainOffset(h[0])),w=f.width+f.offset.left,e>w&&Math.abs(e-w)>n.width&&(c.at="right top",c.my="left top",c.of=h[0].parent()))));et&&(n.width=e,n.height=s);var nt=ft({width:n.width?n.width:450,height:n.height?n.height:500},"M"),l=nt.width,a=nt.height,y=this.getScreenMaxPercentage(),p=this.getScreenMinPercentage(),tt=Math.round(e*y),it=Math.round(e*p),rt=Math.round(s*y),ut=Math.round(s*p),b,k,u={width:0,height:0};return $.isBoolean(t)&&t?(u.width=Math.min(l,e),u.height=Math.min(a,s),o.isWidthResized=!1,o.isHeightResized=!1):ecount.isMobile?(u.height=Math.min(a,s),u.width=Math.min(l,e)):(a>rt?(u.height=rt,b=y*100+"%"):a<ut?(u.height=ut,b=p*100+"%"):(u.height=Math.min(a,s),o.isHeightResized=!1,b="본사이즈"),l>tt?(u.width=tt,k=y*100+"%"):l<it?(u.width=it,k=p*100+"%"):(u.width=Math.min(l,e),o.isWidthResized=!1,k="본사이즈")),d=ft(u,"D"),o.width=d.width,o.height=d.height,!c||$.isEmpty(i)||r||(o.position=$.extend({},c)),o},getScreenMaxPercentage:function(){return.85},getScreenMinPercentage:function(){return.2},getEcPageID:function(n){return n.find("[data-ecpageid]").attr("data-ecpageid")},dimension:function(){function l(n){return n=n||window,n[ecount.page.prefix+"ecp.ecp050m"]?n:n.parent&&n.parent!=n?n.name=="__externalEcountIFrame"?n:l(n.parent.window):n.ecount!==undefined?n:window}function a(t,i,r,u){var e=ecount.global.findPageInstance(u),f;r.POPUP_ID=i;f={resolutions:t,position:r,width:300,height:250};n=="T"&&(f={Request:{Data:f}});e&&e.openWindow({url:n=="W"?"/Mail/PopupDimension":n=="T"?"/ECINVOICE/SVC/COMMON/PopupDimension":"/ECErp/Popup.Common/PopupDimension",name:ecount.resource.LBL01593,param:f,popupType:!1,popupID:"PopupDimension"})}function h(){if(++f>1){f=0;return}ecount.popup.dimension.init()}function v(n){if(++f>1){f=0;return}if(t){var i=t.findIndex(function(t){return t.POPUP_ID==n});t.splice(i,1)}ecount.popup.dimension.init();ecount.popup.dimension.add.apply(this,arguments)}function y(){if(++f>1){f=0;return}ecount.popup.dimension.init();ecount.popup.dimension.modify.apply(this,arguments)}function p(){if(++f>1){f=0;return}ecount.popup.dimension.init();ecount.popup.dimension.remove.apply(this,arguments)}function w(){return $.url().domainType}function b(){return ecount.ens&&ecount.ens.socket&&ecount.ens.socket.ws.readyState==1?"WebSocket":"Api"}function k(){var t=null;switch(n){case"E":case"C":case"U":t=ecount.company.COM_CODE;break;case"T":t=invoice.main.COM_CODE;break;case"W":t=webmail.main.COM_CODE}return t}function d(){var t=null;switch(n){case"E":case"C":case"U":t=ecount.user.ID;break;case"T":t=invoice.main.PID;break;case"W":t=webmail.user.USER_ID}return t}var t=null,i=null,n=null,f=0,r=null,u=null,e=screen.width,o=screen.height,g=window[this.ecPageID],nt=l(),s=!1,c={Default:{init:function(){},get:function(n){return h(),t.find(function(t){return t.POPUP_ID==n})},add:function(){v()},modify:function(){y()},remove:function(){p()},replace:function(){h()}},WebSocket:{init:function(){try{if(!ecount.ens.socket||ecount.ens.socket.ws.readyState!=1)throw null;ecount.ens.bindonce("onGetPopupDimensions",function(n){t=JSON.parse(n.params[0])}.bind(this));ecount.ens.send(ecount.ens.commands.QPG(r,n,u,e,o))}catch(i){h()}},add:function(t,i,f){try{if(!ecount.ens.socket||ecount.ens.socket.ws.readyState!=1)throw null;ecount.ens.bindonce("onInsertPopupDimensions",function(n){a(JSON.parse(n.params[0]),t,i,f)}.bind(this));ecount.ens.send(ecount.ens.commands.QPI(r,n,u,e,o,t,i.width,i.height,i.top,i.left))}catch(s){v(t,i,f)}},modify:function(t,i){try{if(!ecount.ens.socket||ecount.ens.socket.ws.readyState!=1)throw null;ecount.ens.send(ecount.ens.commands.QPU(r,n,u,e,o,t,i.width,i.height,i.top,i.left))}catch(f){y(t,i)}},remove:function(t,i,f){try{if(!ecount.ens.socket||ecount.ens.socket.ws.readyState!=1)throw null;ecount.ens.send(ecount.ens.commands.QPD(r,n,u,i||e,f||o,t))}catch(s){p(t,i,f)}}},Api:{init:function(){if(!_.isNil(r)&&!_.isNil(u)&&!_.isNil(n)){var f=function(n){var t=n;return(n==0||_.isNil(n))&&(t=1),t},i={COM_CODE:r,DOMAIN_TYPE:n,USER_ID:u,RES_WIDTH:f(e),RES_HEIGHT:f(o)};n=="T"&&(i={Request:{Data:i}});ecount.common.api({url:n=="W"?"/Mail/GetListPopupDimension":n=="T"?"/SVC/Invoice/Common/GetListPopupDimension":"/Common/Infra/GetListPopupDimension",data:Object.toJSON(i),success:function(n){t=n.Data},error:function(){}})}},add:function(t,i,f){var s={Key:{COM_CODE:r,DOMAIN_TYPE:n,USER_ID:u,RES_WIDTH:e,RES_HEIGHT:o,POPUP_ID:t},WIDTH:i.width,HEIGHT:i.height,TOP:i.top,LEFT:i.left};(_.isNull(s.HEIGHT)||s.HEIGHT<1)&&(s.HEIGHT=500);n=="T"&&(s={Request:{Data:s}});ecount.common.api({ecPageID:f,url:n=="W"?"/Mail/InsertPopupDimension":n=="T"?"/SVC/Invoice/Common/InsertPopupDimension":"/Common/Infra/InsertPopupDimension",data:Object.toJSON(s),success:function(n){n.Data.length>=2&&a(n.Data,t,i,f)},error:function(){}})},modify:function(t,i){var f={COM_CODE:r,DOMAIN_TYPE:n,USER_ID:u,RES_WIDTH:e,RES_HEIGHT:o,POPUP_ID:t,WIDTH:i.width,HEIGHT:i.height,TOP:i.top,LEFT:i.left};(_.isNull(f.HEIGHT)||f.HEIGHT<1)&&(f.HEIGHT=500);n=="T"&&(f={Request:{Data:f}});ecount.common.api({url:n=="W"?"/Mail/UpdatePopupDimension":n=="T"?"/SVC/Invoice/Common/UpdatePopupDimension":"/Common/Infra/UpdatePopupDimension",data:Object.toJSON(f),success:function(){},error:function(){}})},remove:function(t,i,f){var s={COM_CODE:r,DOMAIN_TYPE:n,USER_ID:u,RES_WIDTH:i||e,RES_HEIGHT:f||o,POPUP_ID:t};n=="T"&&(s={Request:{Data:s}});ecount.common.api({url:n=="W"?"/Mail/DeletePopupDimension":n=="T"?"/SVC/Invoice/Common/DeletePopupDimension":"/Common/Infra/DeletePopupDimension",data:Object.toJSON(s),success:function(){},error:function(){}})}}};n=w();i=c.Default;try{opener&&opener.ecount}catch(tt){if(["W","U"].contains(n))s=!0;else return{init:function(){},get:function(){},add:function(){},modify:function(){},remove:function(){},replace:function(){}}}if(s==!1&&opener&&opener.ecount&&opener.ecount.popup&&opener.ecount.popup.dimension)t=opener.ecount.popup.dimension.get();else if(ecount.parentFrame.ecount.popup&&ecount.parentFrame.ecount.popup.dimension)return ecount.parentFrame.ecount.popup.dimension;return s=!1,{domainType:n,moduleType:null,init:function(){r=k();u=d();this.moduleType=b();i=c.Api;$.isNull(t)&&i.init.apply(this,arguments)},get:function(n){return _.isNull(t)?null:$.isEmpty(n)?t:$.isFunction(i.get)?i.get.apply(this,arguments):t.find(function(t){return t.POPUP_ID==n})},add:function(n,r){t&&!t.find(function(t){return t.POPUP_ID==n})&&(i.add.apply(this,arguments),t.add({POPUP_ID:n,WIDTH:r.width,HEIGHT:r.height,TOP:r.top,LEFT:r.left}))},modify:function(n,r){if(_.isNull(t)||!t.find(function(t){return t.POPUP_ID==n}))return null;i.modify.apply(this,arguments);var u=t.find(function(t){return t.POPUP_ID==n});u.WIDTH=r.width;u.HEIGHT=r.height;u.TOP=r.top;u.LEFT=r.left},remove:function(n){if(_.isNull(t)||!t.find(function(t){return t.POPUP_ID==n}))return null;i.remove.apply(this,arguments);var r=t.findIndex(function(t){return t.POPUP_ID==n});t.splice(r,1)},replace:function(n,t){i.remove(t.popupId,n.RES_WIDTH,n.RES_HEIGHT);i.add(t.popupId,t)}}}()}),function(n){var r=[],e=function(n,t){var i=$('<div class="wrapper-alert-circle"><div class="alert-circle animated hidden">'+n+"<\/div><\/div>");t.content.append(i);i.find(".alert-circle").removeClass("hidden");i.find(".alert-circle").removeClass("zoomOut");i.find(".alert-circle").addClass("zoomIn");ecount.global.setDisableAlert(!1);window.setTimeout(function(){i.parents("body").length>0&&(i.find(".alert-circle").removeClass("zoomIn"),i.find(".alert-circle").addClass("zoomOut"),window.setTimeout(function(){i.remove();t.content&&t.content.length&&t.callback&&t.callback()},400));ecount.global.setDisableAlert(!0)},t.delay||2e3)},i=function(n,t,i){var r=i||{},s=$('<div class="custom-alert hidden" title="'+ecount.resource.dialog.NOTICE+'"><div class="panel-body"><\/div><div class="panel-footer"><div class="wrapper-toolbar"><\/div><\/div><\/div>').attr("data-eczoomlevel","apply").appendTo("body"),f=s.find(".wrapper-toolbar"),a=$('<button class="btn btn-primary" id="btn_alert_ok">'+(r.confirmTitle||ecount.resource.dialog.OK)+"<\/button>"),e,rt=ecount.common.layout.dialog,h,c,p,w,v,y,l,u,b,k;if(arguments.length>2&&typeof i=="function"&&(r={},r.callback=i),n==="error"&&(h=!0,c=t,t&&(t.indexOf("Model validation state error")>-1?(h=!1,c=r.trace):t=="forbidden"&&(h=!1,c=ecount.resource.MSG06861)),t=['<div class="message">',c,"<\/div>"].addif(r.trace&&h,['<div class="trace">',r.trace,"<\/div>"]).addif(r.code,['<div class="code">Please quote this code in any correspondence: <code>',r.code,"<\/code><\/div>"]).join("")),f.empty(),n=="custom"){if(r.list)for(u=0;u<r.list.length;u++)p=u==0?"btn-primary":"btn-default",$custom=$('<button class="btn '+p+'" id="btn_alert'+u+'">'+r.list[u].label+"<\/button>"),f.append($custom),$custom.after(" ")}else if(i&&i.checkbox&&(w=["<div class='wrapper-toolbar'>","<div class='control-set'>","<div class='control'>","<span class='form-checkbox'>","<input type='checkbox' id="+i.checkbox[0]+" checked>","<label data-role='widget-focus' for="+i.checkbox[0]+">"+i.checkbox[1]+"<\/label>",].join("\n"),$checkboxTemplate=$(w),v=i.checkbox[2],$.isBoolean(v)&&!v&&$checkboxTemplate.find("input").prop("checked",!1),f.append($checkboxTemplate),i.height=i.height||"auto"),f.append(a),a.after(" "),a.focus(),n==="confirm"){if(r.addGroupCancel){for(y="",l=$.isArray(r.addGroupCancel)?r.addGroupCancel:[r.addGroupCancel],u=0;u<l.length;u++)y+='<li><a href="javascript:;" id="list-confirm-'+l[u].id+'" data-trigger="click" data-function="fnLayerClick" data-function-index="'+u+'">'+l[u].label+"<\/a><\/li>";b=['<div class="btn-group dropup" data-control="__notificationButton">','<button class="btn btn-default" id="btn_alert_no">'+(r.cancelTitle||ecount.resource.dialog.CANCEL)+"<\/button>",'<button class="btn btn-default btn-width-auto dropdown-toggle" id="btn_dropdown_toggle">','<span class="caret"><\/span>',"<\/button>",'<ul class="dropdown-menu">',y,"<\/ul>","<\/div>"].join("\n");e=$(b);k=function(){$(this.parentElement).removeClass("open");$(document).unbind("mousedown."+this.id);this.parentElement.dropdownClicked=!1};e.bind("mouseenter",function(){return this.dropdownClicked||(window.__EC_CONFIRM_TIMEOUT_ID=window.setTimeout(function(){$(this).addClass("open")}.bind(this),ecount.common.mouseHoverInTime)),!1});e.bind("mouseleave",function(){return window.__EC_CONFIRM_TIMEOUT_ID&&(window.clearTimeout(window.__EC_CONFIRM_TIMEOUT_ID),window.__EC_CONFIRM_TIMEOUT_ID=null),this.dropdownClicked||$(this).removeClass("open"),!1});e.find("a").bind("click",function(n){var t=ecount.global.findPageInstance(r.ecPageID);n.targetID=this&&this.id;t&&t._commandHandler(n);s.ecDialog("close")})}else e=$('<button class="btn btn-default" id="btn_alert_no">'+(r.cancelTitle||ecount.resource.dialog.CANCEL)+"<\/button>");f.append(e)}if(f.find("button").bind("click",function(t){var f=this.id,u,h,i,e,o;if(window.__EC_CONFIRM_TIMEOUT_ID&&(window.clearTimeout(window.__EC_CONFIRM_TIMEOUT_ID),window.__EC_CONFIRM_TIMEOUT_ID=null),n=="custom")for(h=f.replace("btn_alert",""),i=0;i<r.list.length;i++)h==i&&(u=r.list[i].callback),delete r.list[i].callback;else{if(n=="confirm"&&f=="btn_dropdown_toggle"){$(document).bind("mousedown."+this.id,k.bind(this));$(this.parentElement).addClass("open");this.parentElement.dropdownClicked=!0;return}u=r.callback;delete r.callback}s.ecDialog("close");r.checkbox&&(e={},o=$(t.target.parentNode).find("input:checkbox").toArray(),o.length!=0&&o.forEach(function(n){e[n.id]=$(n).is(":checked")}));u&&u(f==="btn_alert_ok",e||{})}),ecount.common.showProgressbarInPage&&ecount.common.showProgressbarInPage(),o(t,r,n,s),ecount.UseAlertCnt&&(n=="alert"||n=="confirm")){var d=$("body").find("#mainPage"),nt=d.length>0?_.toArray(d).map(function(n){return n.getAttribute("data-ecpageid")}):[],g=$("[id='btn-header-bookmark']"),tt=g.length>0?_.toArray(g).map(function(n){return n.textContent}):[],it={type:n,pathname:_.get(window,"location.pathname",""),host:_.get(window,"location.host",""),mainPageList:nt.join(","),titleList:tt.join(","),callerName:r.callerName};ecount.common.setInsertPtpLog(n,t,JSON.stringify(it),"A22_06718")}},o=function(n,t,i,r){var f=r.find(".panel-body"),e=ecount.common.layout.dialog,v=r.find(".wrapper-toolbar"),o=r.find("#btn_alert_ok"),y=r.find("#btn_alert_no"),h=t.modal===!1?!1:!0,a=function(n){switch(n.keyCode){case 37:case 38:case 39:case 40:var t=v.find(":focus");t.length>0?t[0].id=="btn_alert_ok"?y.focus():o.focus():o.focus()}},s,c,l,u;if(t.customAttributes&&r.attr(t.customAttributes),t.uniqKey&&h&&!t.callback){if(s=$("div.custom-alert"),s.length>0)for(u=0;u<s.length;u++)if(c=s.eq(u),c.attr("data-uniq-key")===t.uniqKey){c.ecDialog("close");break}r.attr("data-uniq-key",t.uniqKey)}if(t.padding){for(l="",paddingArray=$.extend({left:"0px",right:"0px",top:"0px",bottom:"0px"},t.padding),u=0;u<4;u++)l+=(u==0?paddingArray.top:u==1?paddingArray.right:u==2?paddingArray.bottom:u==3?paddingArray.left:"")+(u==3?"":" ");f.css("padding",l)}f.html((n||"").replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>"));t.onBodyLinkClick&&f.find("a").bind("click",function(n){t.onBodyLinkClick(n);n.preventDefault()});r.removeClass("hidden");r.ecDialog({modal:h,isAlert:!0,width:t.width||e.width,height:t.height||e.height,minWidth:t.minWidth||e.minWidth,minHeight:t.minHeight||e.minHeight,maxHeight:t.maxHeight||e.maxHeight,dialogClass:"panel panel-primary panel-alert",closeText:"×",open:function(){if(ecount.global.setDisableAlert(!1),f.css({height:r.outerHeight()-$(this).find(".panel-footer").outerHeight()}),h&&$("div.ui-widget-overlay.ui-front").css("z-index",2001),f.outerWidth($(this).outerWidth()),$(".ui-dialog-titlebar").addClass("panel-heading"),$(".ui-button").addClass("btn btn-primary"),t&&t.notFocus?o.blur():_.defer(function(){o.trigger("mousedown").focus()}),i==="confirm"&&$(document).bind("keydown",a),ecount.__isEventCaptureMode()){var n={type:"openAlert",alertType:i};ecount.eventLog("openAlert",n)}},close:function(n){var o,f,u,e;ecount.global.setDisableAlert(!0);window.__EC_CONFIRM_TIMEOUT_ID&&(window.clearTimeout(window.__EC_CONFIRM_TIMEOUT_ID),window.__EC_CONFIRM_TIMEOUT_ID=null);t&&t.callback&&t.callback(t.recieveXButtonStatus?"xBtn":!1);ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();i==="confirm"&&$(document).unbind("keydown",a);ecount.__isEventCaptureMode()&&(o={type:"closeAlert",alertType:i,targetId:t.targetId},ecount.eventLog("closeAlert",o));r.remove();try{f=ecount.popup.current;f?ecount.popup.setFocusOnTarget(f.popupID,f.popupLevel,!0):t.target?t.target.setFocus(0):$(window.document).find("iframe[name=mainbody]")[0]?$(window.document.activeElement).hasClass("dialog-iframe")?$("#ifmDetail",frames.ecframe.document).length>0&&(u=$("#ifmDetail",frames.ecframe.document)[0].contentWindow,u&&u.focus()):(u=$(window.document).find("iframe[name=mainbody]")[0].contentWindow,u&&u.focus()):$(window).focus()}catch(s){ecount.errorLog(s)}e=_.get(n,"originalEvent");e&&e.stopPropagation&&e.stopPropagation()},resize:function(){f.outerHeight($(this).outerHeight()-$(this).find($(".panel-footer")).outerHeight());f.outerWidth($(this).outerWidth())}})},s=function(n,t){if(window.ReactNativeWebView)window.ReactNativeWebView.postMessage(JSON.stringify({message:"sendToast",data:$.isEmpty(n)?t.html:n}));else{f();t=_.extend({},{context:$(document.body),delay:1500},t);var e=$('<div class="wrapper-notification bottom center"><\/div>'),i=$('<div class="alert alert-default snackbar animated bounceOutDown hidden"><\/div>'),o=Number(t.delay)+1e3;$.isEmpty(n)?i.html(t.html):i.text(n);i.on("click",function(){u($(this),t)});e.append(i);t.context.append(e);h(i);window.setTimeout(function(){u(i,t)},o);r.push(e)}},h=function(n){n.removeClass("bounceOutDown hidden");n.addClass("bounceInUp")},u=function(n,t){var i=n.closest(".wrapper-notification");n.removeClass("bounceInUp");n.addClass("bounceOutDown");window.setTimeout(function(){n.addClass("hidden");i.remove();t.callback&&t.callback()},1500)},f=function(){if(r.length>0){var n=r.pop();n.remove()}},t=ecount.popup.parent;n._alert=function(n,t,r){arguments.length>2&&typeof r=="function"&&r();t||(t={});t.callerName=_.get(arguments,"callee.caller.name","");window.setTimeout(function(){ecount.log("ecount.alert",n);i("alert",n,t,r)},0)};n._error=function(n,t){window.setTimeout(function(){ecount.log("ecount.error",n);console.errLog&&console.errLog();i("error",n,t)},0)};n._confirm=function(n,t){t||(t={});t.callerName=_.get(arguments,"callee.caller.name","");window.setTimeout(function(){ecount.log("ecount.confirm",n);i("confirm",n,t)},0)};n._custom=function(n,t){window.setTimeout(function(){ecount.log("ecount.custom",n);i("custom",n,t)},0)};n._circle=function(n,t){window.setTimeout(function(){t.content&&t.content.length&&e(n,t)},0)};n._toast=function(n,t){if(t=t||{},$.isEmpty(n)&&$.isEmpty(t.html))return console.error("내용이 존재하지 않습니다 내용을 입력해주세요"),!1;window.setTimeout(function(){s(n,t)},0)};n._destoryToast=function(){f()};n.alert=t.ecount._alert;n.error=t.ecount._error;n.confirm=t.ecount._confirm;n.customAlert=t.ecount._custom;n.alertCircle=t.ecount._circle;n.toast=t.ecount._toast;n.destroyToast=t.ecount._destoryToast;try{(["U","W"].contains(n.popup.dimension.domainType)||opener&&opener.ecount&&opener.ecount.popup)&&n.popup.dimension.init({from:"popupCreate"})}catch(c){}}(ecount),function(){function s(){return l.find("> .page").attr("data-ecpageid")}function nt(){var n=window.location.pathname.toUpperCase();return n.indexOf("WEBMAILMAIN")>-1?"webMailMain":n.indexOf("UPA001M")>-1?"upa.upa001m":n.indexOf("CSA011M")>-1?"csa.csa011m":"ecp.ecp050m"}function tt(){var n=s();if(n)return n.replace(/\_[^\_]+$/,"")}function it(){return ecount.global.findPageInstance(s())}function rt(n){var i=n.ecPath,t;if(i)return t=a(n.ecPageID,i),t||(t=ec$.findControlByEcPath(i),t&&v(n.ecPageID,i,t)),t}function ut(n){var i=n.ecPath,t=a(n.ecPageID,i);return t||(t=ec$.findLayoutByEcPath(i,n.ecFunction),t&&v(n.ecPageID,i,t)),t}function c(n){if(n){var i=typeof n=="string"?n:n.ecPageID,t=a(i,"__ecpage__");return t||(t=ec$.findPageByEcPageID(i),t&&v(i,"__ecpage__",t)),t}}function w(){return c(t||s())}function a(n,t){if(i[n]&&i[n][t]){if(i[n][t].__will_destroy){delete i[n][t];return}return i[n][t]}}function v(n,t,r){i[n]||(i[n]={});r.__will_destroy||(i[n][t]=r)}function b(n){i[n]&&(i[n]=null,delete i[n])}function k(){var t=[],n=ecount.layer.getActivatedLayer();return n&&n.isFocusable&&t.push(n.serviceKey),t}function ft(){$(document).ready(function(){function n(){ecount.runtime.notify("ecount.runtime.ready")}y=1;__require_resource?__require_resource(n):n()})}var i={},t,u=new ecount.events,y=0,p=$(".wrapper-frame-body"),l=$(".wrapper-frame-body > div").length?$(".wrapper-frame-body > div"):$("body"),d=$("#mainbody"),r=$('<div id ="ecMsgOverlayMsgPart" class="wrapper-page-progress hidden"><div class="page-progress-icon"><\/div><div class="page-progress-text"><\/div><span><\/span><\/div>'),f=$('<div id="ecMsgOverlay" class="wrapper-overlay position-absolute"><\/div>').add(r),e=$('<div class="wrapper-overlay position-absolute"><\/div>').add('<div class="wrapper-page-progress slogan hidden" style="z-index:223"><div class="page-progress-icon"><\/div><div class="page-progress-slogan"><\/div><span><\/span><\/div>'),n=ECountEventHandler.listenTo,g=ECountEventHandler.mockingListenTo,h,o;ecount.router.init({isLocatedSinleFrame:window.top==window,$target:l,$oldTarget:d,hashHandler:function(){}});ecount.runtime={grid:{},getMainPageID:tt,getMainEcPageID:s,getControl:rt,getLayout:ut,getPage:c,clearCache:b};ecount.runtime.root=function(){function n(t){return t=t||window,t[ecount.prefix+"ecp.ecp050m"]?t:t.parent&&t.parent!=t?t.name=="__externalEcountIFrame"?t:n(t.parent.window):t.ecount!==undefined?t:window}return n()}();ecount.runtime.observingOnce=function(n,t,i){var r=u;r.register(n,null,function(){r.unregister(n,null,null,t);i.apply(null,arguments)},!1,t)};ecount.runtime.observe=function(n,t,i){u.register(n,null,i,!1,t)};ecount.runtime.stopObserving=function(n,t,i){u.unregister(n,null,i,t)};ecount.runtime.stopObservingByKey=u.unregisterByKey.bind(u);ecount.runtime.notify=function(n,t,i){return u.triggerEvent(n,i,t)};ecount.runtime.getObserve=function(n,t){return _.merge({},u.getListener(n,t))};ecount.runtime.ready=function(n){y==1?__require_resource?__require_resource(n):n():ecount.runtime.observe("ecount.runtime.ready",null,n)};ecount.runtime.observe("scroll.page.eventContainer","clearLayer",function(){var n=ecount.common.isAndroid?k():[];ecount.layer.clear(n)});ecount.runtime.changeMenu=function(n){ecount.router.route(n)};ecount.runtime.getActivePage=w;ecount.runtime.getActiveEcPageID=function(){return t};ecount.runtime.getActivateGrid=function(){var t=w(),n;if(t&&(n=t.getActivedGrid(),n))return{activeId:n.id}};ecount.runtime.require=function(){var n=$.makeArray(arguments),i=n.pop(),t;$.isFunction(n.last())&&(t=n.pop(),n.push(function(){if(!this.__IS_INCLUDE_PAGE&&!ecount.router.isValidRouteKey(this.ecPageID,this.popupLevel)){console.log("page rendering is canceled by invaild require");var n=ecount.global.findPageInstance(this.ecPageID);n&&n.destroyAll();return}ecount.global.getDestroyedState(this.ecPageID)||t()}.bind(i)));require.apply(null,n)};ecount.runtime.showMessageOverlay=function(n,t,i){var c,s,e,l,a,o,u,h;if(f.filter(".wrapper-overlay").addClass("show"),f.find("span").html(n),r){if(t&&r.addClass(t),i&&i.button){for(c=$('<div class="wrapper-toolbar text-center" />'),s=$('<div class="control-set" />'),e=0,l=i.button.length;e<l;e++)u=i.button[e],a=$('<div class="control"><\/div>'),o=$('<button class="btn btn-sm">'+u.label+"<\/button>"),o.addClass(u.isPrimary?"btn-primary":"btn-default"),u.onClick&&o.click(u.onClick),s.append(a.append(o));r.append(c.append(s))}r.removeClass("hidden");h=$("#app-container > .wrapper-frame-body");h.length?h.prepend(f):p.prepend(f)}};ecount.runtime.hideMessageOverlay=function(){p.find(f).length&&(f.detach(),r.detach());r.addClass("hidden");r.get(0).className=r.get(0).className.split(" ")[0];r.remove(".wrapper-toolbar");f.filter(".wrapper-overlay").removeClass("show")};ecount.runtime.showWrapperProgressbar=function(n){e.filter(".wrapper-overlay").addClass("show");e.filter(".slogan").removeClass("hidden");e.find("span").html(n||ecount.resource.MSG06104);$("body").find(e).length||$("body").append(e)};ecount.runtime.hideWrapperProgressbar=function(){e.filter(".wrapper-overlay").removeClass("show");e.filter(".slogan").addClass("hidden")};ecount.runtime.observe("location.beforeChanged",null,function(n){function r(t){if(!t)throw new Error("no pageInstance");ecount.eventDispatchFilter.block(t.ecPageID);b(t.ecPageID);t.destroyAll();ecount&&ecount.popup&&ecount.popup.destroyAll(t.pageID,n&&n.isChangedMenu);ecount.eventDispatchFilter.allow(t.ecPageID)}var t=it();if(window.document.title&&(window.document.title=""),t)try{console.log(ecount.logger.lifecyle(t.ecPageID,"destroy page"));r(t)}catch(i){console.log(i)}n.$target&&n.$target.length&&n.$target.closest(".wrapper-frame-body").length?n.$target.html(""):l.html("");window.v5&&window.v5.application&&window.v5.application.unloadAll()});ecount.runtime.observe("ecount.runtime.ready",null,function(){window.__EC_SCROLL_SIZE=ec$.getScrollBarWidth()});ecount.runtime.observe("page.move.scroll",null,function(n){ec$.moveScroll(n)});ecount.runtime.observe("location.change",null,function(){});ecount.runtime.observe("page.loadcomplete",null,function(n){console.log(ecount.logger.lifecyle(n.ecPageID,"page loadComplete"))});ecount.runtime.observe("page.destroy",null,function(n){ecount.pathTracker.addFootage(n.ecPageID+" destroyed");n.ecPageID==t&&(t=null)});ecount.runtime.observe(ECountEvent.Type.ACTIVATE,null,function(n,i){if(n.ecPageID){n.hasChangedActiveState=t!=n.ecPageID;t=n.ecPageID;var r=c(t);r&&ec$.safeCall(r,"_ON_PAGE_ACTIVATE",n,i)}});ecount.runtime.observe(ECountEvent.Type.DEACTIVATE,null,function(n,i){if(t){var r=c(t);t!=n.ecPageID&&(n={hasChangedActiveState:!0,ecPageID:t},t=null);ec$.safeCall(r,"_ON_PAGE_DEACTIVATE",n,i)}});ecount.runtime.observe(ECountEvent.Type.APPLICATION_V4_LOAD_COMPLETE,null,function(){ecount.runtime.observe(ECountEvent.Type.ACTIVATE,null,function(){window.v4.application.deactivateApplication()});ecount.runtime.observe(ECountEvent.Type.PAGE_DESTROY,null,function(n){n.ecPageID&&window.v4.application.unloadViewService(n.ecPageID)})});require("ecount-resources",ft);$(document).ready(function(){n(window,"keypress");n(window,"keyup");n(window,"keydown");ecount.common.isChrome&&n(window.document.body,"compositionupdate","input[type=text]");n(window.document.body,"input","input[type=text],input[type=password],textarea");n(window.document.body,"change");n(window.document.body,"focusin");n(window.document.body,"focusout");n(window,"click");n(window,"contextmenu");n(window,"copy");n(window,"cut");n(window,"paste");n(window.document.body,"dblclick");ecount.constValue.isIE?n(window.document.body,"mousedown"):n(window.document,"mousedown");ecount.common.isIOS&&g(window.document,{startType:"touchstart",endTYpe:"touchEnd",mockingStartType:"mouseover",mockingEndType:"mouseout"},null,500);n(window.document,"mouseup");n(window.document,"mouseout");n(window.document,"mouseover")});$(window).on("resize.ecount.runtime",function(n){var t=function(){if(h&&(cancelAnimationFrame(h),h=null),!ecount.common.isAndroid){var t=k();ecount.layer.clear(t)}ecount.runtime.notify("resize",s(),n);ecount.runtime.notify("resize",nt(),n)};try{h=requestAnimationFrame(t)}catch(n){console.log(n)}});$(window).on("mousewheel.ecount.runtime",function(n){ecount.runtime.notify("mousewheel",s(),n)});if(o=!1,!ecount.isMobile)$("#body_html").on({"dragenter.fileDropGuide":function(n){_.get(n,"originalEvent.dataTransfer.types[0]")==="Files"&&(o||(o=!0,ecount.runtime.notify("fileDropGuide",null,{event:n,eventType:"dragenter"})))},"drop.fileDropGuide":function(n){o&&(o=!1,ecount.runtime.notify("fileDropGuide",null,{event:n,eventType:"drop"}))},"mouseover.fileDropGuide":function(n){o&&(o=!1,ecount.runtime.notify("fileDropGuide",null,{event:n,eventType:"mouseover"}))}})}();getErrorMsgInfo=function(){var r=ecount.runtime.getActivePage()||{},t=window.requestUrl,n={errorType:"JS ERROR",windowName:window.name,zoneType:window.__EC_ZONE,domainType:t.domainType,isCenter:t.isCenter,isZeus:t.isZeus,isApollo:t.isApollo,comCode:"",userId:"",ecPageID:r.ecPageID,popupLevel:r.popupLevel||0,registeredPageInfo:""},i="";ecount.global.getRegisteredPageInfo().forEach(function(n){return i+="[ecPageID: "+n.ecPageID+", popupLevel: "+n.popupLevel+"] "});n.registeredPageInfo=i;switch(n.domainType){case"E":case"C":case"U":ecount&&ecount.company&&(n.comCode=ecount.company.COM_CODE);ecount&&ecount.user&&(n.userId=ecount.user.ID);break;case"T":invoice&&invoice.main&&(n.comCode=invoice.main.COM_CODE,n.userId=invoice.main.PID);break;case"W":webmail&&webmail.main&&(n.comCode=webmail&&webmail.main&&webmail.main.COM_CODE);webmail&&webmail.user&&(n.userId=webmail&&webmail.user&&webmail.user.USER_ID)}return n};try{ecount.page.prefix=ecount.prefix;ecount.page.isDebugMode=function(){return location.search.indexOf("__ecDebug=true")>-1||requestUrl.debugMode};window.onerror=function(n){if(ecount.getTriggeredApiStatus())return!0;if(ecount.__isScriptDebuggingMode&&ecount.errorLogMode.state){var t=getErrorMsgInfo(),i=n,r="",u={};if(i=arguments[4]&&arguments[4].message||n,r=arguments[4]&&arguments[4].stack,ecount.__isScripErrorAlertMode){ecount.alert(i);return}t.errorMessage=i instanceof $.Event?"jquery error event":i;t.errorStack=r;t.from="uncatched";t.menuTrack=ecount.pathTracker.getFootage();t.eventTrack=ecount.eventTracker.getFootage();t.requestTrack=ecount.requestTracker.getHttpRequestTrack();t.activePageId=ecount.runtime.getActiveEcPageID();u.Request={LOG_TYPE:"R",JSON_DATA:t};ecount.common.api({url:"/SVC/Common/Infra/InsertWriteLog",ecPageID:this.ecPageID,data:Object.toJSON(u),success:function(){}})}};ecount.page.error=function(n){var r=_.get(n,"isForce",!1),t,i;if((ecount.__isScriptDebuggingMode||r)&&(ecount.errorLogMode.state||r)){if(console.log(">>>>>>>>>>>>>>>>>>>>> ERROR <<<<<<<<<<<<<<<<<<<<<<"),console.log(n),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<"),ecount.__isEventCaptureMode()&&console.info("::: ERROR ::: "+n.message),t=getErrorMsgInfo(),i={},t.errorMessage=n.message,t.errorStack=n.stack,t.from="catched",_.get(n,"postscript")&&(t.postscript=n.postscript),ecount.__isScripErrorAlertMode){ecount.alert(errorMessage);return}return i.Request={LOG_TYPE:"R",JSON_DATA:t},ecount.setTiggeredApiStatus(!0),ecount.common.api({url:"/SVC/Common/Infra/InsertWriteLog",data:Object.toJSON(i),success:function(){ecount.setTiggeredApiStatus(!1)}}),!1}};ecount.page.factory=function(n,t,i){var r,u,e,f,o,s,h;ecount.pathTracker.addFootage(t+" instantiated");n=="__load_ecount_page_factory"?(r=arguments[2],e=arguments[1],f=arguments[3],n=arguments[4],t=arguments[5],i=arguments[6]):(r=window.__EC_PAGE_ID,e=window.__IS_INCLUDE_PAGE,f=window.__EC_POPUP_LEVEL);u=r||ecount.common.seqIndex(t);o=(window["viewBag"+u]||window.viewBag).CacheInfo;console.log(ecount.logger.lifecyle(u,"create page instance"));console.log("execute page.factory -- hasReqKey: "+r);s=window["viewBag"+u]||window.viewBag;s&&f==""&&($.cookie("X-EC-Server",s.ECZoneNum,{path:"/"}),$.cookie("X-EC-Referer",ecount.router.getOriginRederer(),{path:"/"}));h=function(r,u,e,o){return function(){var h,a,s,v,c,w,l;if(console.log("reqiured parent -- "+n),delete window.__EC_PAGE_ID,delete window.__IS_INCLUDE_PAGE,delete window.__EC_POPUP_LEVEL,delete window.CacheInfo,f!=""||!ecount.global.getRenderingPage||!ecount.global.getRenderingPage()||r==ecount.global.getRenderingPage())try{if(e){if(h=ecount.page.__includePageLoging[r],!h)return;if(delete ecount.page.__includePageLoging[r],a=h._ecParent,r&&!ecount.global.findPageInstance(a.ecPageID)){console.log("page initialize is canceled -- parent page("+a.ecPageID+") is destroyed");return}i._ecParent=a;i.container=h.container;$.extend(!0,i,h.includeParameter)}if(s=window["viewBag"+r]||window.viewBag,s&&s._e_)return;if(i.pageID=t,v={ecPageID:r,hasReqKey:u,__IS_INCLUDE_PAGE:e},ecount.runtime.notify(ECountEvent.Type.WRITE_LOG,null,{type:"page.create.instance",popupLevel:f,ecPageID:r,page:Object.keys(i),parent:n,options:_.merge({hasXFORM:!$.isNull(o)},v)}),e&&(s.FormInfos&&s.FormInfos.FormType&&s.FormInfos.lstFormInfo||s.FormInfos.IncludeFormType&&s.FormInfos.IncludeFormInfo)){var k=s.FormInfos.IncludeFormType||s.FormInfos.FormType,d=s.FormInfos.IncludeFormInfo||s.FormInfos.lstFormInfo,y=[],p={};$.each(k,function(n,t){var i={};i[t]=d[t];i[t]&&(y.push(i),i[t].FormAllowList&&(p[t]=i[t].FormAllowList))});o.formAllowList=p;o.xforms=y}c=new($.Class(ecount.common.createNamespace(n),i))(_.merge(v,{__X_FORM_INFO:o}));e?(w=c.onLoadComplete,c.onLoadComplete=function(){h._ecParent&&h._ecParent._destroyComplete||(h.onLoadContents.call(h,c),w.apply(c,arguments))}):(c.popupID||window.name!="mainbody"||(l=window[window.ecPageID],l&&!l.popupID&&l.destroy&&(l.destroy(),window[window.ecPageID]=l=null)),window.ecPageID=ecount.page.prefix+(t.indexOf("ecp.ecp050")==0?t:c.ecPageID),window[window.ecPageID]=c)}catch(b){if(ecount&&ecount.page&&ecount.page.error&&ecount.page.error(b),ecount.page.isDebugMode())throw b;}}};ecount.runtime.ready(function(){var t=[],f,s;i&&(i.preInitRegisterDependencies&&$.isArray(i.preInitRegisterDependencies)?t=t.concat(i.preInitRegisterDependencies):i.preInitRegisterDependencies&&$.isString(i.preInitRegisterDependencies)&&t.push(i.preInitRegisterDependencies),window.__EC_MOCK_OPTION&&ecount.env.mock&&ecount.env.mock.isRunnig()&&(f=$.url().protocol+"://"+(window.__EC_MOCK_OPTION.host||ecount.env.mock.host),$.isEmpty(window.__EC_MOCK_OPTION.dataCtrl)||t.push(f+window.__EC_MOCK_OPTION.dataCtrl+"?"+Date.now()),$.isEmpty(window.__EC_MOCK_OPTION.require)||window.__EC_MOCK_OPTION.require.reduce(function(n,t){n.push(f+t+"?"+Date.now())},t)),s=__get_require_resource().concat(["ecount.programCache"]).concat(t),s.push(function(){var t=new ecount.transaction;t.setTransporter($.ajax);t.complete(function(t){var o=t.getResponse("search"),f,i;ecount.formDataCache.search.set(t.searchHashKeys,o);f=t.getResponse("xform");i=h(u,r,e,f&&f.length>0?t.getResponse("xform"):{formHashKeys:t.hashKeys,formAllowList:t.formAllowList,xforms:t.getResponse("xformNew")});delete t.hashKeys;delete t.formAllowList;require("ecount.widget.base","ecount.widget.page","jquery-ui",function(){n!="ecount.page"?require(n,function(){var r=ecount.common.createNamespace(n),t=r.prototype.preInitRegisterDependencies;t?require(t,i):i()}):i()})});ecount.formDataCache.register(o,t);ecount.formset&&ecount.formset.init(o,t)}),require.apply(null,s))})};ecount.page.include=function(n,t,i){var r,o,u,f,e;n&&n._ecParent&&n._ecParent.popupID&&n._ecParent.popupType=="layer"&&n._ecParent._includePageIDList.push(n.pageID);ecount.page.__includePageLoging||(ecount.page.__includePageLoging={});r=n.__INCLUDE_ECPAGEID||ecount.common.seqIndex(n.pageID);ecount.page.__includePageLoging[r]=n;n.__INCLUDE_ECPAGEID=r;ecount.__isEventCaptureMode()&&(o={type:"included-page-ready",pageID:n.pageID},ecount.eventLog("included-page-ready",o));u=$.extend({isInclude:!0,requestKey:r},n.includeParameter);ecount.env.mock&&ecount.env.mock.isRunnig()?(e=ecount.env.mock.getPageRequest(n.source,u),f=e.url,u=e.params):f=$.url().base+n.source;$.encryptAjax({url:ecount.common.buildSessionUrl(f),method:"POST",async:!i,contentType:"application/json",data:Object.toJSON(u),success:function(i){ecount.page.__includePageLoging[r]&&t(n.pageID,i)},error:function(n){if(ecount.page.factory=ecount.page._originFactory,ecount.page._originFactory=null,n.status!="0"){var t=$.toAjaxError(n);ecount.error(t.msg,{title:"Server Error "+n.status,trace:t.detail})}}})};ecount.page.mixin=function(n,t){_.extend(ecount.common.createNamespace(n),t)}}catch(e){console&&console.log(e)}ecount.__isEventCaptureMode()&&$.url().param.proxyURL&&$(document).ready(function(){var n=document.createElement("script");top.$.url().param.PREVIEW_MODE&&(n.id="proxyScript");n.setAttribute("src",$.url().param.proxyURL);document.body.appendChild(n)});Decimal.config({precision:28,rounding:4,toExpPos:28,maxE:28,errors:!1}),function(){var i=$.url().base.test(/zeus41|zcs|zpay/)&&!1;if(i){location.href.test("https://")&&(location.href=location.href.replace("https://","http://"));window.__ec_logging_state=!0;var t="ecrecorder.observer",n=[],r=$.url().param.ec_req_sid;function pushLog(t,i){var e,s,h,o;try{var c=ecount.company||{},l=ecount.user||{},f=_.merge({},i);if(f.targetInstance&&(f.targetInstance=null),e=f.ecPageID,e)if(h=ecount.runtime.getPage(e),h&&(s=h.popupLevel),f.oType=="mouseout"&&n[n.length-1]){if(o=n[n.length-1].data,o.oType=="mouseover"&&($.isNull(o.ecPath)&&f.ecPath==f.ecPath||o.handler=="mouseover.body"&&f.handler=="mouseover.body"||$.isNull(o.gridColumnID)&&f.gridColumnID==f.gridColumnID)){n.pop();return}}else if(f.oType=="mouseover"){n.push({timestamp:Date.now()+"",regdate:Date.ecFormat("yyyy/MM/dd hh:mm:ss",new Date),type:t,otype:f.oType||"",handler:f.handler||"",targetarea:f.targetArea||"",comcode:c.COM_CODE,userid:l.ID,sessionid:r,ecpageid:e,popuplevel:f.popupLevel||s||0,useragent:navigator.userAgent,server:$.url().base,data:f});return}n.push({timestamp:Date.now()+"",regdate:Date.ecFormat("yyyy/MM/dd hh:mm:ss",new Date),type:t,otype:f.oType||"",handler:f.handler||"",targetarea:f.targetArea||"",comcode:c.COM_CODE,userid:l.ID,sessionid:r,ecpageid:e,popuplevel:f.popupLevel||s||0,useragent:navigator.userAgent,server:$.url().base,data:f});u()}catch(a){}}function u(){var t=n.slice(0);n=[];t.length>0&&$.ajax({url:"http://10.10.8.144:8888/log",method:"POST",contentType:"application/json",data:Object.toJSON({sender:"eclog",message:t}),error:function(){},success:function(){}})}ecount.runtime.ready(function(){ecount.runtime.observe(ECountEvent.Type.BEFORE_DISPATCH,t,function(n){n.ecPageID!="ECP001M_1"&&pushLog(ECountEvent.Type.DISPATCH,n)});ecount.runtime.observe(ECountEvent.Type.PAGE_LOAD_COMPLETE,t,function(n){pushLog(ECountEvent.Type.PAGE_LOAD_COMPLETE,n)});ecount.runtime.observe(ECountEvent.Type.PAGE_DESTROY,t,function(n){pushLog(ECountEvent.Type.PAGE_DESTROY,n)});ecount.runtime.observe("location.beforeChanged",t,function(n){pushLog("location.beforeChanged",_.merge({hash:$.url().ecHash},n))});ecount.runtime.observe(ECountEvent.Type.OPEN_POPUP,t,function(n){pushLog(ECountEvent.Type.OPEN_POPUP,n)});ecount.runtime.observe(ECountEvent.Type.INITIALIZED_WIDGET,t,function(n){!n.matrixState});ecount.runtime.observe(ECountEvent.Type.WRITE_LOG,t,function(n){n.type!="change.state"&&pushLog(n.type,n)})})}i&&(window.onerror=function(){var n=ecount.runtime.getActivePage()||{};pushLog("error",{ecPageID:n.ecPageID,popupLevel:n.popupLevel||0,pages:ecount.global.getRegisteredPageInfo(),error:[].slice.call(arguments,0,4),errorDetail:arguments[4]?[arguments[4].message,arguments[4].stack]:[]})})}();ecount.class("ecount.control.view.textEditor","ecount.control.view",{_EditorInstance:null,_scrollTop:0,template:["<div id='titleContents' style='width:100%' data-cid=\"{{id}}\">",'<textarea rows="{{rows}}" data-index={{index}} class="form-control {{editorModeTextArea}}" data-textarea="editor_textarea" wrap="hard" placeholder="{{attr.placeholder}}" ><\/textarea>',"<div data-texteditor='tx_trex_container' class='tx-editor-container {{editorModeEditor}}' id='tx_trex_container'>","<div id='tx_toolbar_basic{{id}}' class='tx-toolbar tx-toolbar-basic'>","<div class='tx-toolbar-boundary'>",String.format("<ul class='tx-bar tx-bar-left tx-nav-opt'><li class='tx-list'><div unselectable='on' class='tx-switchtoggle' id='tx_switchertoggle{{id}}'> <a href='javascript:;' title='{0}'>{0}<\/a><\/div><\/li><\/ul>",ecount.resource.LBL70688),"<ul class='tx-bar tx-bar-left tx-group-undo'>",String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-lbg tx-undo' id='tx_undo{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+Z)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL70585),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-rbg tx-redo' id='tx_redo{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+Y)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL70586),"<\/ul>","<ul class='tx-bar tx-bar-left'><li class='tx-list'><div id='tx_fontfamily{{id}}' unselectable='on' class='tx-slt-70bg tx-fontfamily'>",String.format("<a href='javascript:;' title='{0}'>{0}<\/a>",ecount.resource.LBL70558),"<\/div><div id='tx_fontfamily_menu{{id}}' class='tx-fontfamily-menu tx-menu' unselectable='on'><\/div><\/li><\/ul>","<ul class='tx-bar tx-bar-left'><li class='tx-list'><div unselectable='on' class='tx-slt-42bg tx-fontsize' id='tx_fontsize{{id}}'>",String.format("<a href='javascript:;' title='{0}'>9pt<\/a>",ecount.resource.LBL70559),"<\/div><div id='tx_fontsize_menu{{id}}' class='tx-fontsize-menu tx-menu' unselectable='on'><\/div><\/li>","<\/ul>","<ul class='tx-bar tx-bar-left tx-group-font'>",String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-lbg tx-bold' id='tx_bold{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+B)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL09037),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-bg tx-italic' id='tx_italic{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+I)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL70562),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-bg tx-underline' id='tx_underline{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+U)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL70561),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-bg tx-strike' id='tx_strike{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+D)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL70563),String.format("<li class='tx-list'><div unselectable='on' class='tx-slt-tbg tx-forecolor' id='tx_forecolor{{id}}'><a href='javascript:;' class='tx-icon' title='{0}'>{0}<\/a><a href='javascript:;' class='tx-arrow' title='{0}'>{0}<\/a><\/div><div id='tx_forecolor_menu{{id}}' class='tx-menu tx-forecolor-menu tx-colorpallete' unselectable='on'><\/div><\/li>",ecount.resource.LBL70564),String.format("<li class='tx-list'><div unselectable='on' class='tx-backcolor tx-slt-brbg' id='tx_backcolor{{id}}' style='background-color: rgb(154, 165, 234);'><a href='javascript:;' class='tx-icon' title='{0}'>{0}<\/a><a href='javascript:;' class='tx-arrow' title='{0}'>{0}<\/a><\/div><div id='tx_backcolor_menu{{id}}' class='tx-menu tx-backcolor-menu tx-colorpallete' unselectable='on'><\/div><\/li>",ecount.resource.LBL10379),"<\/ul>","<ul class='tx-bar tx-bar-left tx-group-align'>",String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-lbg tx-alignleft' id='tx_alignleft{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+,)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL05361),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-bg tx-aligncenter' id='tx_aligncenter{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+.)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL05362),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-bg tx-alignright' id='tx_alignright{{id}}'><a href='javascript:;' class='tx-icon' title='{0} (Ctrl+/)'>{0}<\/a><\/div><\/li>",ecount.resource.LBL05363),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-rbg tx-alignfull' id='tx_alignfull{{id}}'><a href='javascript:;' class='tx-icon' title='{0}'>{0}<\/a><\/div><\/li><\/ul>",ecount.resource.LBL70571),"{{toolbar}}","<\/div>","<\/div> ","<div class='tx-toolbar tx-toolbar-advanced' style='display: none;'>","<div class='tx-toolbar-boundary'>","<ul class='tx-bar tx-bar-left'>","<li class='tx-list'><div class='tx-tableedit-title'><\/div><\/li>","<\/ul>","<ul class='tx-bar tx-bar-left tx-group-align'>",String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-lbg tx-table' id='tx_table{{id}}'><a href='javascript:;' class='tx-icon' title='{0}'>{0}<\/a><\/div><div id='tx_table_menu{{id}}' class='tx-table-menu tx-menu' unselectable='on'><div class='tx-menu-inner'><div class='tx-menu-preview'><\/div><div class='tx-menu-rowcol'><\/div><div class='tx-menu-deco'><\/div><div class='tx-menu-enter'><\/div><\/div><\/div><\/li>",ecount.resource.LBL70578),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-bg tx-insertcells' id='tx_insertcells{{id}}'><a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a><\/div><div id='tx_insertcells_menu{{id}}' class='tx-insertcells-menu tx-menu' unselectable='on'><\/div><\/li>",ecount.resource.LBL70590),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-bg tx-mergecells' id='tx_mergecells{{id}}'><a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a><\/div><div id='tx_mergecells_menu{{id}}' class='tx-mergecells-menu tx-menu' unselectable='on'><\/div><\/li>",ecount.resource.LBL70589),String.format("<li class='tx-list'><div unselectable='on' class='tx-btn-rbg tx-deletecells' id='tx_deletecells{{id}}'><a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a><\/div><div id='tx_deletecells_menu{{id}}' class='tx-deletecells-menu tx-menu' unselectable='on'><\/div><\/li>",ecount.resource.LBL80306),"<\/ul>","<ul class='tx-bar tx-bar-left tx-group-align'>",String.format("<li class='tx-list'><div id='tx_cellslinecolor{{id}}' unselectable='on' class='tx-slt-tlbg tx-cellslinecolor'><a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a><div class='tx-colorpallete' unselectable='on'><\/div><\/div><div id='tx_cellslinecolor_menu{{id}}' class='tx-cellslinecolor-menu tx-menu tx-colorpallete' unselectable='on'><\/div><\/li>",ecount.resource.LBL70592),String.format("<li class='tx-list'><div id='tx_cellslineheight{{id}}' unselectable='on' class='tx-btn-bg tx-cellslineheight'><a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a><\/div><div id='tx_cellslineheight_menu{{id}}' class='tx-cellslineheight-menu tx-menu' unselectable='on'><\/div><\/li>",ecount.resource.LBL70593),String.format("<li class='tx-list'><div id='tx_cellslinestyle{{id}}' unselectable='on' class='tx-btn-bg tx-cellslinestyle'><a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a><\/div><div id='tx_cellslinestyle_menu{{id}}' class='tx-cellslinestyle-menu tx-menu' unselectable='on'><\/div><\/li>",ecount.resource.LBL70594),String.format("<li class='tx-list'><div id='tx_cellsoutline{{id}}' unselectable='on' class='tx-btn-rbg tx-cellsoutline'><a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a><\/div><div id='tx_cellsoutline_menu{{id}}' class='tx-cellsoutline-menu tx-menu' unselectable='on'><\/div><\/li>",ecount.resource.LBL70595),"<\/ul>","<ul class='tx-bar tx-bar-left'><li class='tx-list'>","<div id='tx_tablebackcolor{{id}}' unselectable='on' class='tx-btn-lrbg tx-tablebackcolor' style='background-color:#9aa5ea;'>",String.format("<a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a>",ecount.resource.LBL70596),"<\/div><div id='tx_tablebackcolor_menu{{id}}' class='tx-tablebackcolor-menu tx-menu tx-colorpallete' unselectable='on'><\/div><\/li>","<\/ul>","<\/div>","<\/div>","<div id='tx_canvas{{id}}' class='tx-canvas'><div id='tx_loading{{id}}' class='tx-loading'><div><img src='{{basePath}}images/editor/icon/editor/loading2.png' width='113' height='21' align='absmiddle' /><\/div><\/div>","<div id='tx_canvas_wysiwyg_holder{{id}}' class='tx-holder' style='display:block;'><iframe id='tx_canvas_wysiwyg{{id}}' name='tx_canvas_wysiwyg{{id}}' allowtransparency='true' frameborder='0' data-cid='{{id}}'><\/iframe><\/div>","<div class='tx-source-deco'><div id='tx_canvas_source_holder{{id}}' class='tx-holder'><textarea id='tx_canvas_source{{id}}' rows='{{rows}}' cols='30'><\/textarea><\/div><\/div>","<div id='tx_canvas_text_holder{{id}}' class='tx-holder'><textarea id='tx_canvas_text{{id}}' rows='{{rows}}' cols='30'><\/textarea><\/div><\/div>","<div id='tx_resizer{{id}}' class='tx-resize-bar'><div class='tx-resize-bar-bg'><\/div><img id='tx_resize_holder{{id}}' src='{{basePath}}{{heightDragImg}}' width='58' height='12' unselectable='on' alt='' /><\/div>","<\/div>","<form id='tx_editor_form' style='display:none;'><\/form>","<\/div>"].join("\n"),toolbarTemplate:"",onInitTemplate:function(n,t){this.setToolbarTemplate(t);n=n.replace(/{{toolbar}}/,this.toolbarTemplate);n=n.replace(/{{basePath}}/g,EditorJSLoader.getBasePath());n=n.replace(/{{id}}/g,t.id);var i=ecount.infra.getScreenThemeCd();return n=n.replace(/{{heightDragImg}}/g,i=="B"?"images/editor/icon/editor/skin/01/btn_drag01.gif":"images/dark/editor/btn_drag01.png"),t.components&&t.components.length>0&&(n=n.replace(/{{index}}/g,t.components[0].index),n=n.replace(/{{attr.placeholder}}/g,t.components[0]["attr.placeholder"])),n=n.replace(/{{rows}}/g,t._rows),t.editorMode==1?n.replace(/{{editorModeTextArea}}/,"hidden"):n.replace(/{{editorModeEditor}}/,"hidden")},setToolbarTemplate:function(n){var t={isShowSourceCodeIcon:{template:["<li class='tx-list'>","<div id='tx_ecountsourcecode{{id}}' unselectable='on' class='tx-btn-rbg tx-ecountcode'>",String.format("<a href='javascript:;' class='tx-icon2' title='{0}'>{0}<\/a>",ecount.resource.LBL17332),"<\/div>","<\/li>"].join("\n"),getAttr:function(n){return{endCss:n?"bg":"rbg",sourcecode:n?this.template:""}}},_toolbarBtnOptions:{template:"<ul class='tx-bar tx-bar-right'>\n<li class='tx-list'>\n<div id='tx_ecountbutton{{id}}' unselectable='on'>\n<button class='{{buttonCss}}' title='{{label}}'>{{label}}<\/button>\n<\/div>\n<\/li>\n<\/ul>",getAttr:function(n){return{buttonTemplate:n?ecount.widget.replaceAttr(this.template,{label:n.toolbarBtnLabel||"button",buttonCss:n.toolbarBtnCss||"btn btn-default btn-sm"}):""}}}},i;for(var r in t)i=t[r],this.toolbarTemplate=ecount.widget.replaceAttr(this.toolbarTemplate,i.getAttr(n[r]))},onMount:function(n){this.editorMode=n.editorMode;this.id=n.id;this.ecPageID=n.ecPageID;this.rootPath=n.rootPath;this._heightSize=n._heightSize;this.isSimpleImageUpload=n.isSimpleImageUpload;this.isAllowImagePaste=n.isAllowImagePaste;this.isWebMail=n.isWebMail;this.eventContainer=n.eventContainer;this.width=n.width;this.height=n.height;this.ecIKey=n.ecIKey;this.callback=n.callback;this.canvasConfig=n.canvasConfig;this.loadEditor()},setImageFileUpload:function(){},loadEditor:function(){ecount.global.executeCallback(this.ecPageID,ecount.widget.LAZY_INITIALIZER,function(){EditorJSLoader.ready(function(){var n,t;this._EditorInstance=EditorJSLoader.GetEditorCreate();EditorJSLoader.SetEditorPrototype(this._EditorInstance);n=ecount.editor.getEditorConfig(this);n.canvas&&this.canvasConfig&&_.extend(n.canvas,this.canvasConfig);new this._EditorInstance(this._EditorInstance,n);$(this.$el.find("iframe").get(0).contentDocument).on("mousedown",function(){this.$el.trigger("mousedown",{notPreventTriggerEvent:!0})}.bind(this));t=this.eventContainer||$(document);this._scrollTop=t.find(".contents").scrollTop();t.find(".contents").scroll(function(){this._scrollTop==0&&t.find(".contents").scrollTop(0)});this._initFileManager&&this._initFileManager();this.setImageFileUpload()}.bind(this))}.bind(this))},updateValue:function(n){this.editorMode==1?ecount.editor.setContents(this._EditorInstance,n):this.$el.find("[data-textarea]").val(n)},onChangeValue:function(n,t){this.updateValue(t)},setFocusOnTop:function(){ecount.editor.focusOnTop(this._EditorInstance)},setFocusOnBottom:function(){ecount.editor.focusOnBottom.focusOnBottom(this._EditorInstance)},getValue:function(){return this.editorMode==1?ecount.editor.getContents(this._EditorInstance)||"":this.$el.find("[data-textarea]").val()},getViewValue:function(){return this.editorMode==1?ecount.editor.getContents(this._EditorInstance)||"":this.$el.find("[data-textarea]").val()},onChangeNewline:function(n,t){this.newline=t},onChangeWrapStyle:function(n,t){this.wrapStyle=t},onChangeIsSelect:function(n,t){this.isSelect=t},onChangePasteContent:function(n,t){ecount.editor.restoreRange(this._EditorInstance)||ecount.editor.setFocus(this._EditorInstance);ecount.editor.pasteContent(this._EditorInstance,t,this.newline,this.wrapStyle,this.isSelect)},onChangeCursorPosition:function(n,t){if(this.editorMode==1)ecount.editor.setContentsCursor(this._EditorInstance,t);else{var i,t,r,u,f;i=this.$el.find("[data-textarea]")[0];r=i.selectionStart;t=i.value;u=t.substring(0,r);f=t.substring(r);i.value=u+editValue+f}},onChangeEditorMode:function(n,t){t==1?(ecount.editor.setContents(this._EditorInstance,this.$el.find("[data-textarea]").val()),this.$el.find("[data-textarea]").addClass("hidden"),this.$el.find("[data-texteditor]").removeClass("hidden")):t==2&&(this.$el.find("[data-textarea]").val(this.getValue()),this.$el.find("[data-texteditor]").addClass("hidden"),this.$el.find("[data-textarea]").removeClass("hidden"));this.editorMode=t},onChangeFocusIndex:function(n,t){t&&(this.editorMode==1?ecount.editor.setFocus(this._EditorInstance):this.$el.find("[data-textarea]")[0].select())},onChangeSourceCodeId:function(n,t){this.codeID=t},onChangeSourceCodeData:function(n,t){this.codeData=t},onChangeAddSourceCode:function(){var t=ecount.editor.getDocumentBody(this._EditorInstance),n;if(t&&(n=$(t).find("#"+this.codeID)),n&&n.length)n[0].outerHTML=this.codeData;else this.onChangePasteContent(null,this.codeData+($.browser.msie?"<p><\/p>":"<p><br><\/p>"));this.highlightSourceCode()},highlightSourceCode:function(){var n=ecount.editor.getDocumentBody(this._EditorInstance);n&&Prism&&Prism.highlightAllUnder(n)},onChangeDestroy:function(n,t){t===!0&&this.$el.find("input").length>0&&this.$el.find("input").first()[0].focus()},_editorRenderComplete:function(){if(!ecount.isIE&&this._EditorInstance&&this._EditorInstance.canvas){var n=this._EditorInstance.canvas,t=$.isFunction(n.getSizeConfig)?n.getSizeConfig():{},i=n.elContainer;!$.isEmptyObject(t)&&i&&(t.contentWidth=i.offsetWidth)}this.callback&&(this._executeCallback("_editorRenderComplete"),ecount.global.setTimeout(this.ecPageID,function(){this._scrollTop=-1}.bind(this),0))},openImagePopup:function(){this._executeCallback("openImagePopup")},openSourceCodePopup:function(){this._executeCallback("openSourceCodePopup")},dblClicksourceCode:function(n){this._executeCallback("dblClicksourceCode",n)},clickToolbarBtn:function(){this._executeCallback("clickToolbarBtn")},adjustContentsDimensions:function(){this._executeCallback("adjustContentsDimensions")},_executeCallback:function(){if(this.callback){var n=Array.prototype.slice.apply(arguments).slice(0),t=n.shift();$.isFunction(this.callback[t])&&this.callback[t].apply(this,n)}},getConvertCanvas:function(){return this._$canvas||(this._$canvas=$("<canvas/>",{"class":"hidden"}),this.$el.append(this._$canvas)),this._$canvas},setClearConvertCanvas:function(){var n=this.getConvertCanvas()[0],t=n.getContext("2d");t.clearRect(0,0,n.width,n.height);t.beginPath()},setImgToCanvas:function(n){return new Promise(function(t){var r=this.getConvertCanvas()[0],u=r.getContext("2d"),i=new Image;u.clearRect(0,0,r.width,r.height);u.beginPath();i.src=n;i.onload=function(){r.width=i.width;r.height=i.height;u.drawImage(i,0,0,i.width,i.height);t(r)};i.onerror=function(){this.hideProgressbar()}.bind(this)}.bind(this))},setBlobToCanvas:function(n){return new Promise(function(t){var r=this.getConvertCanvas()[0],u=r.getContext("2d"),i=new Image;u.clearRect(0,0,r.width,r.height);u.beginPath();i.src=URL.createObjectURL(n);i.onload=function(){r.width=i.width;r.height=i.height;u.drawImage(i,0,0,i.width,i.height);t(r)};i.onerror=function(){this.hideProgressbar()}.bind(this)}.bind(this))}});