(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23329],{38203:function(e,t,n){"use strict";var i;function r(e){return Array.isArray(e)&&e[0].code}function o(e){return Array.isArray(e)&&e[0].name}n.d(t,{G:function(){return s}}),function(e){e[e.ACCOUNT_TERM=1]="ACCOUNT_TERM",e[e.SERVICE_TERM=2]="SERVICE_TERM",e[e.PRIVACY_INFO=3]="PRIVACY_INFO",e[e.PRIVACY_DAUM_CONNECT=4]="PRIVACY_DAUM_CONNECT",e[e.OPTIONAL_PROFILE=5]="OPTIONAL_PROFILE",e[e.MARKETING=6]="MARKETING",e[e.ADVERTISEMENT=7]="ADVERTISEMENT",e[e.SHIPPING_ADDRESS=8]="SHIPPING_ADDRESS",e[e.LOCATION=9]="LOCATION",e[e.UNIFY_ACCOUNT=20]="UNIFY_ACCOUNT",e[e.PRIVACY_INFO_WITH_TALK=30]="PRIVACY_INFO_WITH_TALK"}(i||(i={}));var s={hasProfileTerms:function(e){return s.hasTerm(i.OPTIONAL_PROFILE,e)},hasAdTerms:function(e){return s.hasTerm(i.ADVERTISEMENT,e)},hasTerm:function(e,t){return r(t)?t.some((function(t){return t.codeType===e})):o(t)?t.some((function(t){return t.name===String(e)})):!!t[e]},toOnlyCodes:function(e){return r(e)?e.map((function(e){return e.code})):o(e)?e.map((function(e){return e.value})):Object.values(e)}}},50353:function(e,t,n){"use strict";n.d(t,{l:function(){return h}});var i=n(59499),r=n(67294),o=n(63730),s=n(94184),a=n.n(s),c=n(85893);function l(e){var t=e.className,n=e.text,i=e.linkText,r=e.linkUrl,s=e.onHide,l=(0,o.Z)({onClick:function(){return s()}});return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{ref:l,className:a()("tooltip_comm",t&&t),children:[(0,c.jsx)("p",{className:"txt_tooltip",children:n}),r&&(0,c.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",className:"link_more",children:i}),(0,c.jsx)("span",{className:"ico_account ico_arr"})]})})}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=(0,r.useState)(!1),n=t[0],i=t[1];return{tooltip:n?(0,c.jsx)(l,d(d({},e),{},{onHide:function(){return i(!1)}})):void 0,showTooltip:n,toggleTooltip:function(){return i((function(e){return!e}))}}}},25806:function(e,t,n){"use strict";n.d(t,{P:function(){return S}});var i=n(59499),r=n(4730),o=n(67294),s=n(94184),a=n.n(s),c=n(83745),l=n(40153),u=n(42197),d=n(90614),h=n(14454),m=n(88186),f=n(71217);var g=n(63050),p=n.n(g),_=n(85893),y=["className","layoutStyle","headerType","showTitle","showFooter","children"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=(0,f.Pi)((function(e){var t,n,i,s=e.className,f=e.layoutStyle,g=e.headerType,v=e.showTitle,S=e.showFooter,k=e.children,x=(0,r.Z)(e,y),w=(0,l.oR)(),C=w.pageStore,E=(0,u.Z)({scope:C.page||C.layout||"",default:""}).t,j=E("header"),T=E("subtitle");(0,d.Z)({pageStore:C,title:j}),(0,c.f)(f||p().root),i=w.context.showDarkMode,(0,o.useLayoutEffect)((function(){i&&window.document.body.classList.add("bg_dark")}),[]);var P=C.canBack(),Z=!!w.hiddenPage||void 0,O=null!==g&&void 0!==g?g:w.isMobile?"mobile":"logo",N=null!==(t=null!==(n=w.context.showFooter)&&void 0!==n?n:S)&&void 0!==t&&t;return(0,_.jsx)("div",b(b({},x),{},{className:a()(s&&s,"container-doc"),"aria-hidden":Z,children:(0,_.jsxs)("div",{className:"inner_container",children:[T&&(0,_.jsx)("strong",{className:"screen_out",children:T}),(0,_.jsxs)("main",{className:a()("doc-main"),children:["logo"===O&&(0,_.jsx)(h.Sn,{}),"mobile"===O&&(0,_.jsx)(h.DJ,{showTitle:null!==v&&void 0!==v&&v,title:j,back:P}),k]}),N&&(0,_.jsx)(m.W,{})]})}))}))},66920:function(e,t,n){"use strict";n.d(t,{q:function(){return m}});var i=n(92777),r=n(82262),o=n(10748),s=n(45959),a=n(63553),c=n(37247),l=n(85009),u=n(92554),d=n(90835);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var m=function(e){(0,s.Z)(n,e);var t=h(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,o.Z)(r).initTiaraWith("restrictedReason",f),r}return(0,r.Z)(n,[{key:"commonContext",get:function(){return this.contextAs()}},{key:"blockedReasonContext",get:function(){return this.contextAs()}},{key:"protectedReasonContext",get:function(){return this.contextAs()}},{key:"start",value:function(e){switch(e){case"block":this.nextStep("blockedReason");break;case"protect":this.nextStep("protectedReason")}return this}},{key:"startFromLogin",value:function(e){var t={from:"login",continue:e.continueUrl,account_key:e.loginKey};switch(e.status){case u.Z.RESTRICTED_ACCOUNT:case u.Z.ACCESS_RESTRICTED_BLOCKED:this.router.goto("blocked_reason",t);break;case u.Z.ACCESS_RESTRICTED_PROTECTED_BY_USER:case u.Z.ACCESS_RESTRICTED_PROTECTED_BY_KAKAO:this.router.goto("protected_reason",t)}}},{key:"gotoStart",value:function(){this.router.moveTo(this.commonContext.returnUrl,!0)}},{key:"gotoFindPassword",value:function(){var e=this;this.client.call("create_find_password_token",{displayId:this.protectedReasonContext.displayId,accountKey:this.protectedReasonContext.accountKey,protectLevel:this.protectedReasonContext.protectLevel,skipCompletePage:this.protectedReasonContext.skipCompletePage}).then((function(t){if(t.status===u.Z.SUCCESS)(0,d.G)("post",e.protectedReasonContext.findPasswordUrl,{params:t.findPasswordParams});else e.dialogStore.errorAlert(t,(function(){return e.gotoStart()}))}))}}]),n}(l.u),f={blockedReason:"restricted-reason-blocked",protectedReason:"restricted-reason-protected"}},7113:function(e,t,n){"use strict";n.d(t,{a:function(){return v}});var i=n(50029),r=n(92777),o=n(82262),s=n(10748),a=n(45959),c=n(63553),l=n(37247),u=n(59499),d=n(87757),h=n.n(d),m=n(85009),f=n(19468),g=n(68949),p=n(92554),_=n(66920);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}var v=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,s.Z)(i),"daumSsoEnabled",void 0),(0,u.Z)((0,s.Z)(i),"loginUrl",""),(0,u.Z)((0,s.Z)(i),"talkLoginToken",""),(0,u.Z)((0,s.Z)(i),"isTalkLoginError",!1),(0,u.Z)((0,s.Z)(i),"talkLoginTimer",void 0),(0,u.Z)((0,s.Z)(i),"restrictedReasonStore",void 0),i.restrictedReasonStore=new _.q(e),i.talkLoginTimer=i.createTalkLoginTimer(),(0,g.makeObservable)((0,s.Z)(i),{isTalkLoginError:g.observable}),i}return(0,o.Z)(n,[{key:"init",value:function(e){this.daumSsoEnabled=e.daumSsoEnabled,this.loginUrl=e.loginUrl,this.isTalkLoginError=e.isTalkLoginError}},{key:"loginByTalk",value:function(){var e=this;"running"!==this.talkLoginTimer.status&&this.client.call("create_token_for_talk_login").then((function(t){if(t.status===p.Z.SUCCESS)e.talkLoginTimer.initAndStart({timeout:300}),e.talkLoginToken=t.token,t.talkLoginScheme&&e.router.moveTo(t.talkLoginScheme);else e.isTalkLoginError=!0}))}},{key:"createTalkLoginTimer",value:function(){var e=this,t=new f.B({timeout:300,polling:{pollingApi:function(){return e.pollTalkLogin()}}});return(0,g.when)((function(){return t.isAfter(10)}),(function(){e.isTalkLoginError=!0})),t}},{key:"pollTalkLogin",value:function(){var e=(0,i.Z)(h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.call("check_talk_login",{token:this.talkLoginToken,loginUrl:this.loginUrl,activeSso:!1!==this.daumSsoEnabled});case 2:t=e.sent,e.t0=t.status,e.next=e.t0===p.Z.SUCCESS?6:e.t0===p.Z.WEB_TALK_LOGIN_REQUIRED?8:e.t0===p.Z.ACCESS_RESTRICTED_BLOCKED||e.t0===p.Z.ACCESS_RESTRICTED_PROTECTED_BY_USER||e.t0===p.Z.ACCESS_RESTRICTED_PROTECTED_BY_KAKAO?9:11;break;case 6:return this.router.moveTo(t.continueUrl),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:return this.restrictedReasonStore.startFromLogin(t),e.abrupt("return",!1);case 11:return(0,g.runInAction)((function(){n.isTalkLoginError=!0})),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(m.u)},33199:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ct}});var i=n(59499),r=n(67294),o=n(19798),s=n(71217),a=n(40153),c=n(50029),l=n(92777),u=n(82262),d=n(10748),h=n(45959),m=n(63553),f=n(37247),g=n(87757),p=n.n(g),_=n(85009),y=n(92554),v=n(68949),b=n(74450),S=n(19059),k=n(95939),x=n(19468);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var r=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,m.Z)(this,n)}}var j=function(e){(0,h.Z)(n,e);var t=E(n);function n(e){var r;(0,l.Z)(this,n),r=t.call(this,e),(0,i.Z)((0,d.Z)(r),"dialogs",void 0),(0,i.Z)((0,d.Z)(r),"startPage",""),(0,i.Z)((0,d.Z)(r),"emails",[]),(0,i.Z)((0,d.Z)(r),"email",void 0),(0,i.Z)((0,d.Z)(r),"isTalkThird",!1),(0,i.Z)((0,d.Z)(r),"maskedPhoneNumber",""),(0,i.Z)((0,d.Z)(r),"allowedCountryCount",0),(0,i.Z)((0,d.Z)(r),"currentCountry",""),(0,i.Z)((0,d.Z)(r),"token",""),(0,i.Z)((0,d.Z)(r),"tmsTimer",void 0),(0,i.Z)((0,d.Z)(r),"emailTimer",void 0),(0,i.Z)((0,d.Z)(r),"disabledMethods",void 0),(0,i.Z)((0,d.Z)(r),"disabledMethodMessages",{email:"",tms:""}),(0,i.Z)((0,d.Z)(r),"tmsPollingParams",{}),r.dialogs=new T(r.dialogStore);var o={format:"mm:ss",onTimeout:function(){return r.timeoutVerify()}};return r.tmsTimer=new x.B(C(C({},o),{},{polling:{pollingApi:function(){return r.pollTms()}}})),r.emailTimer=new x.B(o),(0,d.Z)(r).initTiaraWith("AllowedCountryLoginTmsAction",P),r}return(0,u.Z)(n,[{key:"exceedAllowedCountryLimit",get:function(){return this.allowedCountryCount>=3}},{key:"gotoStart",value:function(){this.startPage?this.pageStore.backUntil(this.startPage,{clear:!0}):location.reload()}},{key:"nextStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;"selectEmail"!==e&&this.step!==this.startPage||(this.startPage&&this.pageStore.clear(this.startPage),i=C(C({},t),{},{blockForward:!0,back:this.startPage})),(0,b.Z)((0,f.Z)(n.prototype),"nextStep",this).call(this,e,i)}},{key:"startFromLogin",value:function(e){switch(this.startPage=this.step,this.allowedCountryCount=e.allowedCountryCount,this.currentCountry=e.currentCountry,this.emails=e.emails,this.disabledMethods=e.disabledMethods,this.disabledMethodMessages=C(C({},this.disabledMethodMessages),e.disabledMethodMessages),e.viewType){case"tms_verify":this.isTalkThird=e.isTalkThird,this.maskedPhoneNumber=e.maskedPhoneNumber,this.startWithTms();break;case"email_select":this.startWithEmail()}}},{key:"startWithTms",value:function(){var e,t=this;null!==(e=this.disabledMethods)&&void 0!==e&&e.includes("tms")?this.startWithEmail():this.client.call("send_tms_for_allow_country",{}).then((function(e){switch(e.status){case y.Z.SUCCESS:t.token=e.token,t.nextStep("waitForTmsStatus"),t.tmsTimer.init({timeout:e.expireSeconds});break;case y.Z.EXCEED_REQUEST_LIMIT:t.dialogs.exceedAllowCountryLimit((function(){return t.gotoStart()}));break;default:t.dialogs.errorAlert(e,(function(){return t.gotoStart()}))}}))}},{key:"addTmsPollingParam",value:function(e){this.tmsPollingParams=C(C({},this.tmsPollingParams),{},(0,i.Z)({},e.name,String(e.value)))}},{key:"pollTms",value:function(){var e=(0,c.Z)(p().mark((function e(){var t,n,i=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.call("check_tms_for_allow_country",C({token:this.token},this.tmsPollingParams));case 2:t=e.sent,e.t0=t.status,e.next=e.t0===y.Z.SUCCESS?6:e.t0===y.Z.ALLOWED_COUNTRY_WAIT?17:e.t0===y.Z.ALLOWED_COUNTRY_BLOCKED?18:e.t0===y.Z.EXCEED_LOGIN_LIMIT?20:e.t0===y.Z.EXPIRED_VERIFY_TOKEN?22:24;break;case 6:return e.next=8,this.client.call("expire_tms_for_allow_country",{token:this.token});case 8:n=e.sent,e.t1=n.status,e.next=e.t1===y.Z.SUCCESS||e.t1===y.Z.EXPIRED_VERIFY_TOKEN?12:14;break;case 12:return this.router.moveTo(t.continueUrl,!0),e.abrupt("break",16);case 14:return this.dialogs.errorAlert(n,(function(){return i.gotoStart()})),e.abrupt("break",16);case 16:return e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:return this.dialogs.blockAllowCountry((function(){return i.gotoStart()})),e.abrupt("return",!1);case 20:return this.dialogs.exceedAllowCountryLimit((function(){return i.gotoStart()})),e.abrupt("return",!1);case 22:return this.dialogs.timeoutAllowCountry((function(){return i.gotoStart()})),e.abrupt("return",!1);case 24:return this.dialogs.errorAlert(t,(function(){return i.gotoStart()})),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startWithEmail",value:function(){var e;null!==(e=this.disabledMethods)&&void 0!==e&&e.includes("email")?this.dialogs.errorAlert({message:this.disabledMethodMessages.email}):this.nextStep("selectEmail")}},{key:"requestEmailPasscode",value:function(e){var t=this,n=e.values().email;this.client.call("send_passcode_for_allow_country",{verifyMethod:"email",email:n,reissue:!1}).then((function(e){switch(e.status){case y.Z.SUCCESS:t.email=t.emails.find((function(e){return e.email===n})),t.token=e.token,t.nextStep("verifyEmailPasscode"),t.emailTimer.init({timeout:e.expireSeconds});break;case y.Z.EXCEED_REQUEST_LIMIT:t.dialogs.exceedAllowCountryLimit((function(){return t.gotoStart()}));break;default:t.dialogs.errorAlert(e,(function(){return t.gotoStart()}))}}))}},{key:"resendEmailPasscode",value:function(e){var t,n=this;this.client.call("send_passcode_for_allow_country",{verifyMethod:"email",email:null===(t=this.email)||void 0===t?void 0:t.email,reissue:!0}).then((function(t){switch(t.status){case y.Z.SUCCESS:e.clearAndFocus(k.FU.emailPasscode.name),n.token=t.token,n.emailTimer.init({timeout:t.expireSeconds});break;case y.Z.EXCEED_REQUEST_LIMIT:n.dialogs.exceedAllowCountryLimit((function(){return n.gotoStart()}));break;default:n.dialogs.errorAlert(t,(function(){return n.gotoStart()}))}}))}},{key:"verifyEmailPasscode",value:function(e){var t,n=this;this.client.call("check_passcode_for_allow_country",C({verifyMethod:"email",email:null===(t=this.email)||void 0===t?void 0:t.email,token:this.token},e.values())).then((function(t){switch(t.status){case y.Z.SUCCESS:n.router.moveTo(t.continueUrl,!0);break;case y.Z.EXCEED_REQUEST_LIMIT:n.dialogs.exceedAllowCountryLimit((function(){return n.gotoStart()}));break;case y.Z.INVALID_PASSCODE:n.dialogs.errorAlert(t,(function(){return e.clearAndFocus(k.FU.emailPasscode.name)}));break;default:n.dialogs.errorAlert(t,(function(){return n.gotoStart()}))}}))}},{key:"timeoutVerify",value:function(){var e=this;this.dialogs.timeoutAllowCountry((function(){return e.gotoStart()}))}}]),n}(_.u),T=function(e){(0,h.Z)(n,e);var t=E(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"resendEmail",value:function(e){this.store.showDialog({type:"resendEmail",onSubmit:e})}},{key:"exceedAllowCountryLimit",value:function(e){this.store.showDialog({type:"exceedAllowCountryLimit",onSubmit:e,onClose:e})}},{key:"timeoutAllowCountry",value:function(e){this.store.showDialog({type:"verifyTimeout",onSubmit:e,onClose:e})}},{key:"blockAllowCountry",value:function(e){this.store.showDialog({type:"blockAllowCountry",onSubmit:e,onClose:e})}}]),n}(S.v),P={selectEmail:"allow-country-email-login-select",verifyEmailPasscode:"allow-country-email-login-verify",waitForTmsStatus:"allow-country-tms-login"};var Z=n(66920);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var r=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,m.Z)(this,n)}}var I=function(e){(0,h.Z)(n,e);var t=A(n);function n(e){var r;(0,l.Z)(this,n),r=t.call(this,e),(0,i.Z)((0,d.Z)(r),"dialogs",void 0),(0,i.Z)((0,d.Z)(r),"twoStepVerificationClient",void 0),(0,i.Z)((0,d.Z)(r),"startPage",""),(0,i.Z)((0,d.Z)(r),"maskedEmail",""),(0,i.Z)((0,d.Z)(r),"maskedPhoneNumber",""),(0,i.Z)((0,d.Z)(r),"token",""),(0,i.Z)((0,d.Z)(r),"tmsPollingParams",{}),(0,i.Z)((0,d.Z)(r),"tmsTimer",void 0),(0,i.Z)((0,d.Z)(r),"emailTimer",void 0),(0,i.Z)((0,d.Z)(r),"smsTimer",void 0),(0,i.Z)((0,d.Z)(r),"disabledMethods",void 0),(0,i.Z)((0,d.Z)(r),"disabledMethodMessages",{email:"",sms:"",tms:""}),r.dialogs=new R(r.dialogStore),r.twoStepVerificationClient=new L((0,d.Z)(r));var o={format:"mm:ss",onTimeout:function(){return r.dialogs.timeoutTwoStepVerification((function(){return r.gotoStart()}))}};return r.tmsTimer=new x.B(N(N({},o),{},{polling:{pollingApi:function(){return r.checkTms()}}})),r.emailTimer=new x.B(o),r.smsTimer=new x.B(o),(0,d.Z)(r).initTiaraWith("twoStepVerification",U),r}return(0,u.Z)(n,[{key:"gotoStart",value:function(){this.startPage?this.pageStore.backUntil(this.startPage,{clear:!0}):location.reload()}},{key:"nextStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;"emailTwoStepVerification"!==e&&this.step!==this.startPage||(this.startPage&&this.pageStore.clear(this.startPage),i=N(N({},t),{},{blockForward:!0,back:this.startPage})),(0,b.Z)((0,f.Z)(n.prototype),"nextStep",this).call(this,e,i)}},{key:"startFromLogin",value:function(e){this.startPage=this.step,this.maskedPhoneNumber=e.maskedPhoneNumber,this.maskedEmail=e.maskedEmail,this.disabledMethods=e.disabledMethods,this.disabledMethodMessages=N(N({},this.disabledMethodMessages),e.disabledMethodMessages),this.sendWith(e.method)}},{key:"sendWith",value:function(e){var t,n=this;if(null!==(t=this.disabledMethods)&&void 0!==t&&t.includes(e))switch(e){case"tms":case"sms":return void this.sendWith("email");default:return void this.dialogs.errorAlert({message:this.disabledMethodMessages[e]})}this.twoStepVerificationClient.sendForLogin(e).then((function(t){switch(t.status){case y.Z.SUCCESS:switch(n.token=t.token,e){case"tms":n.nextStep("tmsTwoStepVerification"),n.tmsTimer.init({timeout:t.expireSeconds});break;case"sms":n.nextStep("smsTwoStepVerification"),n.smsTimer.init({timeout:t.expireSeconds});break;case"email":n.nextStep("emailTwoStepVerification"),n.emailTimer.init({timeout:t.expireSeconds})}break;case y.Z.EXCEED_REQUEST_LIMIT:n.dialogs.exceedRequestLimit((function(){return n.gotoStart()}));break;default:n.dialogs.errorAlert(t,(function(){return n.gotoStart()}))}}))}},{key:"updateTmsPollingParams",value:function(e){var t=this;(0,v.runInAction)((function(){t.tmsPollingParams=N(N({},t.tmsPollingParams),{},(0,i.Z)({},e.name,String(e.value)))}))}},{key:"checkTms",value:function(){var e=(0,c.Z)(p().mark((function e(){var t,n,i=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.twoStepVerificationClient.verifyTmsForLogin(this.token,this.tmsPollingParams.isRememberBrowser);case 2:t=e.sent,e.t0=t.status,e.next=e.t0===y.Z.SUCCESS?6:e.t0===y.Z.TWO_STEP_VERIFICATION_REQUIRED?17:e.t0===y.Z.TWO_STEP_VERIFICATION_BLOCKED?18:e.t0===y.Z.EXPIRED_VERIFY_TOKEN?20:22;break;case 6:return e.next=8,this.twoStepVerificationClient.expireTmsForLogin(this.token);case 8:n=e.sent,e.t1=n.status,e.next=e.t1===y.Z.SUCCESS||e.t1===y.Z.EXPIRED_VERIFY_TOKEN?12:14;break;case 12:return this.onComplete(t),e.abrupt("break",16);case 14:return this.dialogs.errorAlert(n,(function(){return i.gotoStart()})),e.abrupt("break",16);case 16:return e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:return this.dialogs.blockedTwoStepVerification((function(){return i.gotoStart()})),e.abrupt("return",!1);case 20:return this.dialogs.timeoutTwoStepVerification((function(){return i.gotoStart()})),e.abrupt("return",!1);case 22:return this.dialogs.errorAlert(t,(function(){return i.gotoStart()})),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gotoVerifyEmail",value:function(){this.sendWith("email")}},{key:"resendSMS",value:function(e){var t=this;this.dialogs.resendSmsPasscode((function(){t.twoStepVerificationClient.sendPasscodeForLogin("sms",!0).then((function(n){switch(n.status){case y.Z.SUCCESS:t.token=n.token,e.clearAndFocus(k.FU.smsPasscode.name),t.smsTimer.init({timeout:n.expireSeconds});break;case y.Z.EXCEED_REQUEST_LIMIT:t.dialogs.exceedRequestLimit((function(){return t.gotoStart()}));break;default:t.dialogs.errorAlert(n,(function(){return t.gotoStart()}))}}))}))}},{key:"checkSMSPasscode",value:function(e){var t=this,n=e.values();this.twoStepVerificationClient.verifyPasscodeForLogin("sms",this.token,n.passcode,n.isRememberBrowser).then((function(n){switch(n.status){case y.Z.SUCCESS:t.onComplete(n);break;case y.Z.INVALID_PASSCODE:t.dialogs.errorAlert(n,(function(){e.clearAndFocus(k.FU.smsPasscode.name)}));break;case y.Z.EXCEED_REQUEST_LIMIT:t.dialogs.exceedRequestLimit((function(){return t.gotoStart()}));break;default:t.dialogs.errorAlert(n,(function(){return t.gotoStart()}))}}))}},{key:"resendEmailPasscode",value:function(e){var t=this;this.dialogs.resendEmailPasscode((function(){t.twoStepVerificationClient.sendPasscodeForLogin("email",!0).then((function(n){switch(n.status){case y.Z.SUCCESS:t.token=n.token,e.clearAndFocus(k.FU.emailPasscode.name),t.emailTimer.init({timeout:n.expireSeconds});break;case y.Z.EXCEED_REQUEST_LIMIT:t.dialogs.exceedRequestLimit((function(){return t.gotoStart()}));break;default:t.dialogs.errorAlert(n,(function(){return t.gotoStart()}))}}))}))}},{key:"checkEmailPasscode",value:function(e){var t=this,n=e.values();this.twoStepVerificationClient.verifyPasscodeForLogin("email",this.token,n.passcode,n.isRememberBrowser).then((function(n){switch(n.status){case y.Z.SUCCESS:t.onComplete(n);break;case y.Z.INVALID_PASSCODE:t.dialogs.errorAlert(n,(function(){return e.clearAndFocus(k.FU.emailPasscode.name)}));break;case y.Z.EXCEED_REQUEST_LIMIT:t.dialogs.exceedRequestLimit((function(){return t.gotoStart()}));break;default:t.dialogs.errorAlert(n,(function(){return t.gotoStart()}))}}))}},{key:"onComplete",value:function(e){this.router.moveTo(e.continueUrl)}}]),n}(_.u),L=function(){function e(t){(0,l.Z)(this,e),(0,i.Z)(this,"client",void 0),this.client=t.rootStore.client}return(0,u.Z)(e,[{key:"sendForLogin",value:function(e){return"tms"===e?this.sendTmsForLogin():this.sendPasscodeForLogin(e,!1)}},{key:"sendTmsForLogin",value:function(){return this.client.call("send_tms_for_two_step_verification")}},{key:"verifyTmsForLogin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.call("check_tms_for_two_step_verification",{token:e,isRememberBrowser:t})}},{key:"expireTmsForLogin",value:function(e){return this.client.call("expire_tms_for_two_step_verification",{token:e})}},{key:"sendPasscodeForLogin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.call("send_passcode_for_two_step_verification",{verifyMethod:e,reissue:t})}},{key:"verifyPasscodeForLogin",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.client.call("verify_passcode_for_two_step_verification",{verifyMethod:e,token:t,passcode:n,isRememberBrowser:i})}}]),e}(),R=function(e){(0,h.Z)(n,e);var t=A(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"timeoutTwoStepVerification",value:function(e){this.store.showDialog({type:"timeout",onSubmit:e,onClose:e})}},{key:"exceedRequestLimit",value:function(e){this.store.showDialog({type:"exceedRequestLimit",onSubmit:e,onClose:e})}},{key:"blockedTwoStepVerification",value:function(e){this.store.showDialog({type:"blockedTwoStepVerification",onSubmit:e,onClose:e})}},{key:"resendSmsPasscode",value:function(e){this.store.showDialog({type:"resendSmsPasscode",onSubmit:e})}},{key:"resendEmailPasscode",value:function(e){this.store.showDialog({type:"resendEmailPasscode",onSubmit:e})}}]),n}(S.v),U={tmsTwoStepVerification:"two-step-verification-tms-login",smsTwoStepVerification:"two-step-verification-sms-login",emailTwoStepVerification:"two-step-verification-email-login"};var D=n(71479),F=n(38203),V=n(7113);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var r=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,m.Z)(this,n)}}var K=function(e){(0,h.Z)(n,e);var t=W(n);function n(e){var r;return(0,l.Z)(this,n),r=t.call(this,e),(0,i.Z)((0,d.Z)(r),"dialogs",void 0),(0,i.Z)((0,d.Z)(r),"allowCountryStore",void 0),(0,i.Z)((0,d.Z)(r),"restrictedReasonStore",void 0),(0,i.Z)((0,d.Z)(r),"twoStepVerificationStore",void 0),(0,i.Z)((0,d.Z)(r),"actionPenaltyVerificationStore",void 0),(0,i.Z)((0,d.Z)(r),"webTalkLoginStore",void 0),(0,i.Z)((0,d.Z)(r),"daumSsoEnabled",void 0),(0,i.Z)((0,d.Z)(r),"needCountryCode",void 0),(0,i.Z)((0,d.Z)(r),"showCaptcha",void 0),(0,i.Z)((0,d.Z)(r),"loginInfo",{}),(0,i.Z)((0,d.Z)(r),"talkPhoneNumber",""),(0,i.Z)((0,d.Z)(r),"additionalAuthParams",{}),(0,i.Z)((0,d.Z)(r),"additionalAuthShowSubmit",!1),(0,i.Z)((0,d.Z)(r),"additionalAuthTimer",void 0),(0,i.Z)((0,d.Z)(r),"useSimpleLogin",!1),(0,i.Z)((0,d.Z)(r),"exceedSimpleLoginLimit",!1),(0,i.Z)((0,d.Z)(r),"isRunning",!1),r.dialogs=new Q(r.dialogStore),r.restrictedReasonStore=new Z.q(e),r.allowCountryStore=new j(e),r.twoStepVerificationStore=new I(e),r.actionPenaltyVerificationStore=new D.t5(e),r.webTalkLoginStore=new V.a(e),r.additionalAuthTimer=r.createAdditionAuthTimer(),r.needCountryCode=!1,r.showCaptcha=!1,(0,v.makeObservable)((0,d.Z)(r),{needCountryCode:v.observable,showCaptcha:v.observable,additionalAuthShowSubmit:v.observable}),(0,d.Z)(r).initTiaraWith("login",Y),r}return(0,u.Z)(n,[{key:"loginContext",get:function(){return this.contextAs()}},{key:"guardianContext",get:function(){return this.contextAs()}},{key:"isGuardianLogin",get:function(){return!!this.context.guardianToken}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isGuardianLogin)this.loginByGuardianToken(this.guardianContext.guardianToken);else{var n="login";this.loginContext.showWebTalkLogin?n="webTalkLogin":this.loginContext.showDeviceFormLogin&&(n="deviceFormLogin"),this.loginContext.needCaptcha&&(this.showCaptcha=!0),"web"===this.loginContext.webType&&void 0===this.daumSsoEnabled&&this.client.isConnected("check_daum_sso").then((function(t){e.daumSsoEnabled=t}));var i=this.loginContext.showWebTalkLogin&&this.loginContext.isTalkLoginError;this.webTalkLoginStore.init({daumSsoEnabled:this.daumSsoEnabled,loginUrl:this.loginContext.loginUrl,isTalkLoginError:i}),this.useSimpleLogin=this.loginContext.useSimpleLogin,this.useSimpleLogin&&(this.exceedSimpleLoginLimit=this.loginContext.exceedSimpleLoginLimit);var r={};t&&(r={back:n}),this.nextStep(n,B(B({},r),{},{clearForward:!0}))}return this}},{key:"showPasswordAndStaySign",get:function(){return!0}},{key:"gotoQRLogin",value:function(e){this.router.gotoQRLogin({continue:this.loginContext.continueUrl,stay_signed_in:e.$(k.FU.staySignedIn.name).value,append_stay_signed_in:this.context.appendStaySignedIn})}},{key:"gotoSimpleLogin",value:function(){this.router.gotoSimpleLogin({continue:this.loginContext.continueUrl})}},{key:"login",value:function(e){var t=this;if(!this.isRunning){this.isRunning=!0;var n=!1!==this.daumSsoEnabled,i=e.values();this.loginInfo=B(B({},i),{},{loginKey:String(i.loginId||i.loginPhoneNumber||"").trim(),password:String(i.password||"").trim(),activeSso:n,loginUrl:this.loginContext.loginUrl});var r=function n(i){switch(i.status){case y.Z.SUCCESS:e.reset(),t.onComplete(i);break;case y.Z.COUNTRY_CODE_REQUIRED:(0,v.runInAction)((function(){e.$(k.FU.password.name).clear(),t.loginContext.showDeviceFormLogin||(t.needCountryCode=!0),t.processError(e,i)}));break;case y.Z.NEED_CAPTCHA:case y.Z.INVALID_CAPTCHA_RESPONSE:(0,v.runInAction)((function(){e.resetCaptchaField(),t.showCaptcha=!0}));break;case y.Z.ADDITIONAL_AUTH_REQUIRED:t.startAdditionalAuth(i);break;case y.Z.TWO_STEP_VERIFICATION_REQUIRED:t.twoStepVerificationStore.startFromLogin(i);break;case y.Z.ALLOWED_COUNTRY_REQUIRED:t.allowCountryStore.startFromLogin(i);break;case y.Z.ACTION_PENALTY_VERIFICATION_REQUIRED:t.actionPenaltyVerificationStore.startFromLogin(i);break;case y.Z.REQUIRE_TERMS:(0,v.runInAction)((function(){t.showCaptcha=!1})),t.loginWithTerms(i.terms,n);break;case y.Z.REQUIRE_GUARDIAN_AGREE:e.reset(),t.router.moveTo(i.guardianUrl);break;case y.Z.DORMANT:t.exitDormantWithPassword((function(){t.login(e)}));break;case y.Z.ACCESS_RESTRICTED_BLOCKED:case y.Z.ACCESS_RESTRICTED_PROTECTED_BY_USER:case y.Z.ACCESS_RESTRICTED_PROTECTED_BY_KAKAO:e.reset(),t.loginContext.showDeviceFormLogin?t.dialogs.deviceLoginError():t.restrictedReasonStore.startFromLogin(i);break;case y.Z.ADDITIONAL_AUTH_SKIPPED:case y.Z.TWO_STEP_VERIFICATION_SKIPPED:case y.Z.ALLOWED_COUNTRY_SKIPPED:t.onCompleteWithErrorMessage(i);break;case y.Z.INVALID_STATUS:location.reload();break;default:(0,v.runInAction)((function(){e.resetCaptchaField()})),t.processError(e,i)}},o=function(){t.isRunning=!1};"web"===this.loginContext.webType?this.client.call("authenticate",this.loginInfo).then(r).finally(o):this.client.call("authenticate_by_auth",this.loginInfo).then(r).finally(o)}}},{key:"processError",value:function(e,t){e.$(k.FU.loginKey.name).focus();var n=t.title;t.message&&(n+="\\n".concat(t.message)),n&&e.invalidate(n)}},{key:"loginByGuardianToken",value:function(e){var t=this;this.client.call("authenticate_by_guardian",{token:e}).then((function(e){switch(e.status){case y.Z.SUCCESS:t.onComplete(e);break;case y.Z.ADDITIONAL_AUTH_REQUIRED:t.startAdditionalAuth(e);break;case y.Z.TWO_STEP_VERIFICATION_REQUIRED:t.twoStepVerificationStore.startFromLogin(e);break;case y.Z.ALLOWED_COUNTRY_REQUIRED:t.allowCountryStore.startFromLogin(e);break;case y.Z.ACTION_PENALTY_VERIFICATION_REQUIRED:t.actionPenaltyVerificationStore.startFromLogin(e);break;case y.Z.RESTRICTED_ACCOUNT:case y.Z.ACCESS_RESTRICTED_BLOCKED:case y.Z.ACCESS_RESTRICTED_PROTECTED_BY_USER:case y.Z.ACCESS_RESTRICTED_PROTECTED_BY_KAKAO:t.restrictedReasonStore.startFromLogin(e);break;case y.Z.ADDITIONAL_AUTH_SKIPPED:case y.Z.TWO_STEP_VERIFICATION_SKIPPED:case y.Z.ALLOWED_COUNTRY_SKIPPED:t.onCompleteWithErrorMessage(e);break;default:t.gotoLogin()}}))}},{key:"onComplete",value:function(e){this.router.moveTo(e.continueUrl)}},{key:"onCompleteWithErrorMessage",value:function(e){var t=this;e.message?this.dialogs.errorAlert(e,(function(){return t.onComplete(e)})):this.onComplete(e)}},{key:"loginWithTerms",value:function(e,t){var n,i=this,r=null===(n=e.find((function(e){return e.link})))||void 0===n?void 0:n.link;this.dialogs.agreeTalkPhoneNumberTerm(r,(function(){i.client.call("agree_terms",B(B({},i.loginInfo),{},{agreeTerms:F.G.toOnlyCodes(e)})).then(t)}))}},{key:"exitDormantWithPassword",value:function(e){var t=this;this.dialogs.exitDormant((function(){t.client.call("exit_dormant_with_password",t.loginInfo).then((function(n){if(n.status===y.Z.SUCCESS)e();else t.dialogs.errorAlert(n)}))}))}},{key:"startAdditionalAuth",value:function(e){this.additionalAuthParams={token:e.token},this.talkPhoneNumber=e.phoneNumber,this.additionalAuthTimer.init(),this.nextStep("additionalAuth")}},{key:"createAdditionAuthTimer",value:function(){var e=this,t=new x.B({timeout:55,polling:{pollingApi:function(){return e.additionalAuth(!1)}}});return(0,v.when)((function(){return t.isAfter(5)}),(function(){e.additionalAuthShowSubmit=!0})),t}},{key:"additionalAuth",value:function(){var e=(0,c.Z)(p().mark((function e(t){var n,i,r=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.call("check_additional_auth",this.additionalAuthParams);case 2:n=e.sent,e.t0=n.status,e.next=e.t0===y.Z.SUCCESS?6:e.t0===y.Z.ADDITIONAL_AUTH_REQUIRED?17:e.t0===y.Z.ADDITIONAL_AUTH_BLOCKED?19:21;break;case 6:return e.next=8,this.client.call("expire_additional_auth",this.additionalAuthParams);case 8:i=e.sent,e.t1=i.status,e.next=e.t1===y.Z.SUCCESS||e.t1===y.Z.EXPIRED_VERIFY_TOKEN?12:14;break;case 12:return this.onComplete(n),e.abrupt("break",16);case 14:return this.dialogs.errorAlert(i,(function(){return r.gotoLogin()})),e.abrupt("break",16);case 16:return e.abrupt("return",!1);case 17:return t&&this.dialogs.requireAdditionalAuth(),e.abrupt("return",!0);case 19:return this.dialogs.blockedAdditionalAuth((function(){return r.gotoLogin()})),e.abrupt("return",!1);case 21:return this.dialogStore.errorAlert(n,(function(){return r.gotoLogin()})),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gotoLogin",value:function(){this.isGuardianLogin?this.router.moveTo(this.guardianContext.loginUrl):this.start(!0)}}]),n}(_.u),Q=function(e){(0,h.Z)(n,e);var t=W(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"blockedAdditionalAuth",value:function(e){this.store.showDialog({type:"blockedAdditionalAuth",onSubmit:e})}},{key:"requireAdditionalAuth",value:function(e){this.store.showDialog({type:"requireAdditionalAuth",onSubmit:e})}},{key:"agreeTalkPhoneNumberTerm",value:function(e,t){this.store.showDialog({type:"agreeTalkPhoneNumberTerm",onSubmit:t,termUrl:e})}},{key:"exitDormant",value:function(e){this.store.showDialog({type:"exitDormant",onSubmit:e})}},{key:"dintReceiveTms",value:function(e){this.store.showDialog({type:"dintReceiveTms",onSubmit:e})}},{key:"deviceLoginError",value:function(){this.store.showDialog({type:"deviceLoginError"})}}]),n}(S.v),Y={login:"page-login",webTalkLogin:"page-web-talk-login",additionalAuth:"talk_tms_auth"};var $=n(4730),G=n(42197),q=n(47008),X=n(20624),H=n(80144),J=n(94184),z=n.n(J);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,f.Z)(e);if(t){var r=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,m.Z)(this,n)}}var ie=function(e){(0,h.Z)(n,e);var t=ne(n);function n(e){var r;(0,l.Z)(this,n);var o=[te(te({},k.FU.loginKey),{},{value:e.defaultEmail,hooks:{onFocus:e.hidePassword?function(){r.showPasswordField()}:void 0}})];!e.hidePassword&&o.push(k.FU.password),!e.hidePassword&&o.push(te(te({},k.FU.staySignedIn),{},{value:e.defaultStaySignIn})),e.showCaptcha&&o.push(k.FU.captcha),o.push(te(te({},k.FU.saveSignedIn),{},{value:e.defaultSaveSignIn}));var s={onInit:function(t){e.defaultError&&t.invalidate(e.defaultError)},onSuccess:function(t){e.onSubmit(t)},onError:function(e){if(e.hasError){var t=e.errors(),n=Object.keys(t).find((function(e){return t[e]}));if(n){var i,r;if(n===k.FU.captcha.name)null===(i=e.$(k.FU.captcha.name))||void 0===i||i.focus();else null===(r=e.$(k.FU.loginKey.name))||void 0===r||r.focus();e.invalidate(t[n])}}}};return r=t.call(this,{fields:o},{hooks:s}),(0,i.Z)((0,d.Z)(r),"defaultCountryCode",void 0),(0,i.Z)((0,d.Z)(r),"defaultStaySignIn",void 0),r.defaultCountryCode=e.defaultCountryCode,r.defaultStaySignIn=e.defaultStaySignIn,r}return(0,u.Z)(n,[{key:"options",value:function(){var e=(0,b.Z)((0,f.Z)(n.prototype),"options",this).call(this);return te(te({},e),{},{showErrorsOnBlur:!1,showErrorsOnChange:!1,showErrorsOnClear:!1,validateOnInit:!1,validateOnBlur:!1,validateOnChange:!0,showErrorsOnSubmit:!0,validateOnSubmit:!0})}},{key:"showEmailField",value:function(){var e=this;this.has(k.FU.loginKey.name)||(0,v.runInAction)((function(){e.del(k.FU.isoCode.name),e.del(k.FU.loginPhoneNumber.name),e.add(k.FU.loginKey)}))}},{key:"showPhoneField",value:function(){var e=this;this.has(k.FU.loginKey.name)&&(0,v.runInAction)((function(){var t=e.$(k.FU.loginKey.name).value;e.del(k.FU.loginKey.name),e.add(te(te({},k.FU.isoCode),{},{value:e.defaultCountryCode})),e.add(te(te({},k.FU.loginPhoneNumber),{},{value:t}))}))}},{key:"showCaptchaField",value:function(){this.has(k.FU.captcha.name)||this.add(k.FU.captcha)}},{key:"resetCaptchaField",value:function(){this.has(k.FU.captcha.name)&&this.$(k.FU.captcha.name).reset()}},{key:"showPasswordField",value:function(){var e=this;this.has(k.FU.password.name)||(0,v.runInAction)((function(){e.add(k.FU.password),e.add(te(te({},k.FU.staySignedIn),{},{value:e.defaultStaySignIn}))}))}},{key:"hidePasswordField",value:function(){var e=this;this.has(k.FU.password.name)&&(0,v.runInAction)((function(){e.del(k.FU.password.name),e.del(k.FU.staySignedIn.name)}))}}]),n}(n(16805).I);function re(e){var t=(0,a.uz)().initState();t.form?t.needUpdate&&(t.needUpdate=!1,t.reset()):t.form=new ie(e);var n=t.form;return(0,r.useEffect)((function(){e.showCaptcha&&n.showCaptchaField()}),[e.showCaptcha]),(0,r.useEffect)((function(){e.hidePassword||n.showPasswordField()}),[e.hidePassword]),n}var oe=n(69532),se=n(26999),ae=n(50353),ce=n(32979),le=n(33727),ue=n(83322),de=n(85893),he=["type"],me=["termUrl"],fe=["defaultEmail","defaultCountryCode","defaultStaySignIn","defaultSaveSignIn","showIpSecurity","onSubmit","showCaptcha","webType","loginUrl","continueUrl"],ge=["timer","isTalkLoginError","onTalkLogin","showPasswordAndStaySign","defaultEmail","defaultCountryCode","defaultStaySignIn","defaultSaveSignIn","onSubmit","showIpSecurity","showCaptcha","loginUrl","continueUrl"],pe=["defaultCountryCode","defaultStaySignIn","showCaptcha","onSubmit"];function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=(0,s.Pi)((function(e){var t=e.store;(0,r.useEffect)((function(){t.loadDialogs("login",be)}),[]);var n={defaultEmail:t.loginContext.defaultEmail,defaultCountryCode:t.loginContext.defaultCountryCode,defaultStaySignIn:t.loginContext.defaultStaySignIn,showIpSecurity:t.loginContext.showIpSecurity,showStaySignIn:t.loginContext.showStaySignIn,webType:t.loginContext.webType,loginUrl:t.loginContext.loginUrl,continueUrl:t.loginContext.continueUrl,needCountryCode:t.needCountryCode,showCaptcha:t.showCaptcha,showTip:!0,gotoQRLogin:function(e){return t.gotoQRLogin(e)},gotoSimpleLogin:function(){return t.gotoSimpleLogin()},onSubmit:function(e){return t.login(e)},useSimpleLogin:t.useSimpleLogin,exceedSimpleLoginLimit:t.exceedSimpleLoginLimit,defaultSaveSignIn:t.loginContext.defaultSaveSignIn};switch(t.step){case"login":return(0,de.jsx)(ke,ye(ye({},n),{},{showQrLogin:t.loginContext.showQrLogin}));case"webTalkLogin":return(0,de.jsx)(xe,ye(ye({},n),{},{timer:t.webTalkLoginStore.talkLoginTimer,isTalkLoginError:t.webTalkLoginStore.isTalkLoginError,onTalkLogin:function(){return t.webTalkLoginStore.loginByTalk()},showPasswordAndStaySign:t.showPasswordAndStaySign}));case"deviceFormLogin":return(0,de.jsx)(we,ye(ye({},n),{},{showQrLogin:!1,showTip:!1}));case"additionalAuth":var i=function(){var e=(0,c.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.additionalAuth(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,de.jsx)(Ce,{timer:t.additionalAuthTimer,onSubmit:i,onDoNotReceive:function(){t.dialogs.dintReceiveTms((function(){t.gotoLogin()}))},phoneNumber:t.talkPhoneNumber,showSubmit:t.additionalAuthShowSubmit});default:return null}}));function be(e){var t=e.type,n=(0,$.Z)(e,he);switch(t){case"agreeTalkPhoneNumberTerm":return(0,de.jsx)(Se,ye(ye({},n),{},{termUrl:n.termUrl}));case"exitDormant":return(0,de.jsx)(oe.UO,ye({scope:"dialog.dormancy",onelineBtn:!0,highlight:!1},n));case"dintReceiveTms":return(0,de.jsx)(oe.uc,ye({scope:"talk_tms_auth.dialog.didnt_receive"},n));case"blockedAdditionalAuth":return(0,de.jsx)(oe.uc,ye({scope:"talk_tms_auth.dialog.blocked"},n));case"requireAdditionalAuth":return(0,de.jsx)(oe.uc,ye({scope:"talk_tms_auth.dialog.required"},n));case"deviceLoginError":return(0,de.jsx)(oe.uc,ye({scope:"dialog.device_form_login.error.restricted"},n));default:return null}}function Se(e){var t=e.termUrl,n=(0,$.Z)(e,me),i=(0,G.Z)({scope:"dialog.talk_phone_agree"}).t;return(0,de.jsx)(oe.uc,ye(ye({},n),{},{scope:"dialog.talk_phone_agree",highlight:!0,children:(0,de.jsx)(se.Z,{className:"link_txt",href:t,target:"_blank",children:i("link_url")})}))}var ke=(0,s.Pi)((function(e){var t=e.defaultEmail,n=e.defaultCountryCode,i=e.defaultStaySignIn,r=e.defaultSaveSignIn,o=e.showIpSecurity,s=e.onSubmit,a=e.showCaptcha,c=e.webType,l=e.loginUrl,u=e.continueUrl,d=(0,$.Z)(e,fe),h=(0,G.Z)({scope:"page_login"}).t,m=(0,ce.u)("signup","find_account","find_password"),f=(0,ue.G8)(m.signup,{continue:u}),g=(0,ue.G8)(m.find_account,{continue:l}),p=(0,ue.G8)(m.find_password,{continue:l}),_=re({defaultEmail:t,defaultCountryCode:n,defaultStaySignIn:i,defaultSaveSignIn:r,defaultError:o?h("ip_security_error"):void 0,showCaptcha:a,onSubmit:s});return(0,de.jsx)(q.Z,{children:(0,de.jsx)("div",{className:"cont_login",children:(0,de.jsxs)("div",{className:"login_kakaomail",children:[(0,de.jsx)(Ee,ye(ye({},d),{},{form:_})),(0,de.jsxs)("div",{className:z()("info_user","auth"===c&&"align_center"),children:[(0,de.jsx)("a",{href:f,className:"link_join",children:h("signup")}),(0,de.jsxs)("ul",{className:"list_user",children:[(0,de.jsx)("li",{children:(0,de.jsx)("a",{href:g,className:"link_user",children:h("find_account")})}),(0,de.jsx)("li",{children:(0,de.jsx)("a",{href:p,className:"link_user",children:h("find_password")})})]})]})]})})})})),xe=(0,s.Pi)((function(e){var t=e.timer,n=e.isTalkLoginError,i=e.onTalkLogin,r=e.showPasswordAndStaySign,o=e.defaultEmail,s=e.defaultCountryCode,a=e.defaultStaySignIn,c=e.defaultSaveSignIn,l=e.onSubmit,u=e.showIpSecurity,d=e.showCaptcha,h=e.loginUrl,m=e.continueUrl,f=(0,$.Z)(e,ge),g=(0,G.Z)({scope:"page_login"}).t,p=(0,ce.u)("signup","find_account","find_password"),_=(0,ue.G8)(p.signup,{continue:m}),y=(0,ue.G8)(p.find_account,{continue:h}),v=(0,ue.G8)(p.find_password,{continue:h}),b=re({defaultEmail:o,defaultCountryCode:s,defaultStaySignIn:a,defaultSaveSignIn:c,defaultError:u?g("ip_security_error"):void 0,hidePassword:!n&&!r,showCaptcha:d,onSubmit:l});return(0,le.Z)({timer:t}),(0,de.jsx)(q.Z,{children:(0,de.jsxs)("div",{className:z()("login_kakaotalk",n&&"login_fail"),children:[(0,de.jsx)("h2",{className:"screen_out",children:"\uce74\uce74\uc624\ud1a1\uc73c\ub85c \ub85c\uadf8\uc778"}),!n&&(0,de.jsxs)("div",{className:"intro_talk",children:[(0,de.jsxs)("p",{className:"txt_info",children:[g("talk_login_desc1"),(0,de.jsx)("br",{}),g("talk_login_desc2")]}),(0,de.jsx)("div",{className:"confirm_btn",children:(0,de.jsxs)("button",{className:"btn_g highlight",type:"button",onClick:i,children:[(0,de.jsx)("span",{className:"ico_account ico_talk"}),g("talk_login_btn")]})})]}),n&&(0,de.jsx)("div",{className:"intro_talk",children:(0,de.jsxs)("p",{className:"txt_info txt_info2",children:[g("talk_login.fail_header1"),(0,de.jsx)("br",{}),g("talk_login.fail_header2")]})}),(0,de.jsxs)("div",{className:"box_login",children:[(0,de.jsx)("strong",{className:"info_desc",children:g("mobile_desc1")}),(0,de.jsx)(Ee,ye(ye({},f),{},{showQrLogin:!1,form:b})),(0,de.jsx)("div",{className:"info_user",children:(0,de.jsxs)("ul",{className:"list_user",children:[(0,de.jsx)("li",{children:(0,de.jsx)("a",{href:_,className:"link_user",children:g("signup")})}),(0,de.jsx)("li",{children:(0,de.jsx)("a",{href:y,className:"link_user",children:g("find_account")})}),(0,de.jsx)("li",{children:(0,de.jsx)("a",{href:v,className:"link_user",children:g("find_password")})})]})})]}),(0,de.jsx)("div",{className:"area_login",children:n&&(0,de.jsxs)("div",{className:"info_login",children:[(0,de.jsxs)("strong",{className:"tit_txt",children:[g("talk_login.fail_title1"),(0,de.jsx)("br",{}),g("talk_login.fail_title2")]}),(0,de.jsxs)("ul",{className:"list_login",children:[(0,de.jsx)("li",{children:g("talk_login.fail_desc1")}),(0,de.jsx)("li",{children:g("talk_login.fail_desc2")}),(0,de.jsx)("li",{children:g("talk_login.fail_desc3")})]}),(0,de.jsx)("div",{className:"confirm_btn",children:(0,de.jsxs)("button",{className:"btn_g highlight",type:"button",onClick:i,children:[(0,de.jsx)("span",{className:"ico_account ico_talk"}),g("talk_login_btn")]})})]})})]})})})),we=(0,s.Pi)((function(e){var t=e.defaultCountryCode,n=e.defaultStaySignIn,i=e.showCaptcha,r=e.onSubmit,o=(0,$.Z)(e,pe),s=(0,G.Z)({scope:"page_login"}).t,a=re({defaultCountryCode:t,defaultStaySignIn:n,showCaptcha:i,onSubmit:r});return(0,de.jsx)(q.Z,{children:(0,de.jsx)("div",{className:"cont_login",children:(0,de.jsx)("div",{className:"login_kakaomail",children:(0,de.jsxs)("div",{className:"box_login",children:[(0,de.jsx)(Ee,ye(ye({},o),{},{form:a})),(0,de.jsx)("span",{className:"desc_login",children:s("device_form_login.description")})]})})})})})),Ce=(0,s.Pi)((function(e){var t=e.timer,n=e.phoneNumber,i=e.showSubmit,r=e.onSubmit,o=e.onDoNotReceive,s=(0,G.Z)({scope:"talk_tms_auth"}).t;return(0,le.Z)({timer:t}),(0,de.jsx)(q.Z,{children:(0,de.jsxs)("div",{className:"cont_login",children:[(0,de.jsx)("h2",{className:"screen_out",children:"\uce74\uce74\uc624 \uacc4\uc815 \ub85c\uadf8\uc778"}),(0,de.jsxs)("div",{className:"wrap_login",children:[(0,de.jsx)("span",{className:"thumb_login",children:(0,de.jsx)("span",{className:"img_login img_tms"})}),(0,de.jsx)("strong",{className:"tit_login",children:n}),(0,de.jsxs)("p",{className:"desc_login",children:[s("desc1"),(0,de.jsx)("br",{}),s("desc2")]}),(0,de.jsx)("div",{className:"confirm_btn",children:i&&(0,de.jsx)("button",{className:"btn_g",type:"button",onClick:r,children:s("submit")})}),(0,de.jsx)("a",{className:"link_more",onClick:o,children:s("link")}),!i&&(0,de.jsx)("span",{className:"ico_account ico_loading"})]})]})})})),Ee=(0,s.Pi)((function(e){var t=e.form,n=e.needCountryCode,i=e.showTip,o=e.showStaySignIn,s=e.showQrLogin,a=e.gotoQRLogin,c=e.gotoSimpleLogin,l=e.useSimpleLogin,u=e.exceedSimpleLoginLimit,d=(0,ce.u)("login_help","simple_login_help_link"),h=(0,G.Z)({scope:"page_login"}).t,m=(0,ae.l)({text:h("phone_number.help")}),f=m.tooltip,g=m.toggleTooltip,p=(0,ae.l)({text:h("stay_sign_in_tooltip_desc"),className:"tooltip_login",linkText:h("stay_sign_in_tooltip_link"),linkUrl:d.login_help}),_=p.tooltip,y=p.toggleTooltip,v=(0,ae.l)({text:"".concat(h("save_sign_in_tooltip_desc1"),"\n           ").concat(h("save_sign_in_tooltip_desc2")),className:"tooltip_login",linkText:h("save_sign_in_tooltip_link"),linkUrl:d.simple_login_help_link}),b=v.tooltip,S=v.toggleTooltip,x=(0,r.useState)(!1),w=x[0],C=x[1];(0,r.useEffect)((function(){C(!1)}),[t.error]);var E=!t.has(k.FU.isoCode.name)&&n;return(0,de.jsxs)("form",{onSubmit:t.onSubmit,children:[t.has(k.FU.loginKey.name)&&(0,de.jsx)(X.UP,{first:!0,placeholder:h("login_email.placeholder",{scope:"input"}),hint:i?h("login_email.kakao_id_tip",{scope:"input"}):void 0,field:t.$(k.FU.loginKey.name),hideError:!0}),t.has(k.FU.loginPhoneNumber.name)&&(0,de.jsx)(X.l2,{first:!0,hideError:!0,isoCode:t.$(k.FU.isoCode.name),phoneNumber:t.$(k.FU.loginPhoneNumber.name),right:{type:"help",onClick:function(){return g()}},tooltip:f}),t.has(k.FU.password.name)&&(0,de.jsxs)(r.Fragment,{children:[(0,de.jsx)(X.UP,{field:t.$(k.FU.password.name),hideError:!0}),l&&(0,de.jsx)("div",{className:"set_login",children:(0,de.jsx)(X.J7,{field:t.$(k.FU.saveSignedIn.name),label:h("save_sign_in"),help:{text:h("save_sign_in_tooltip_link"),onClick:function(){return S()}},tooltip:b,disabled:u,onClick:function(){!t.error&&u&&C(!0)}})}),o&&!l&&(0,de.jsx)("div",{className:"set_login",children:(0,de.jsx)(X.J7,{field:t.$(k.FU.staySignedIn.name),label:h("stay_sign_in"),help:{text:h("stay_sign_in_tooltip_link"),onClick:function(){return y()}},tooltip:_})})]}),t.has(k.FU.captcha.name)&&(0,de.jsx)(X.R$,{field:t.$(k.FU.captcha.name)}),w&&(0,de.jsxs)("div",{className:"box_desc easylogin_desc",role:"alert",children:[(0,de.jsxs)("p",{className:"desc_info",children:[h("exceed_save_sign_in_tooltip_desc1"),(0,de.jsx)("br",{}),h("exceed_save_sign_in_tooltip_desc2")]}),(0,de.jsx)("a",{onClick:function(){return c&&c()},className:"link_more",children:h("exceed_save_sign_in_tooltip_link")})]}),(t.error||E)&&(0,de.jsxs)("div",{className:"box_desc",role:"alert",children:[t.error&&(0,de.jsx)(je,{error:t.error}),E&&(0,de.jsx)(Te,{showPhone:function(){return t.showPhoneField()}})]}),(0,de.jsxs)("div",{className:"confirm_btn",children:[(0,de.jsx)(X.k4,{highlighted:!0,form:t,children:h("submit")}),s&&(0,de.jsxs)(r.Fragment,{children:[(0,de.jsx)("span",{className:"line_or",children:(0,de.jsx)("span",{className:"txt_or",children:h("login_btn_or")})}),(0,de.jsx)(H.Z,{onClick:function(){return a&&a(t)},children:h("qr_login")})]})]})]})}));function je(e){var t=e.error;return t&&"string"===typeof t?(0,de.jsx)("p",{className:"desc_error",children:t.split(/\\n/).map((function(e,t){return(0,de.jsxs)(r.Fragment,{children:[e,(0,de.jsx)("br",{})]},t)}))}):(0,de.jsx)(de.Fragment,{})}function Te(e){var t=e.showPhone,n=(0,G.Z)({scope:"page_login"}).t;return(0,de.jsxs)(r.Fragment,{children:[(0,de.jsx)("p",{className:"desc_info",children:n("need_country_code.desc")}),(0,de.jsx)("button",{type:"button",className:"link_more",onClick:t,children:n("need_country_code.link")})]})}var Pe=n(8895),Ze=["type"],Oe=["field","currentCountry"];function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=(0,s.Pi)((function(e){var t=e.store;switch((0,r.useEffect)((function(){t.loadDialogs("allow_country",Le)}),[]),t.step){case"selectEmail":return(0,de.jsx)(Re,{emails:t.emails,onSubmit:function(e){t.requestEmailPasscode(e)}});case"verifyEmailPasscode":return(0,de.jsx)(Ue,{timer:t.emailTimer,email:t.email,exceedAllowedCountryLimit:t.exceedAllowedCountryLimit,currentCountry:t.currentCountry,onSubmit:function(e){t.verifyEmailPasscode(e)},gotoStart:function(){return t.gotoStart()},onResend:function(e){t.dialogs.resendEmail((function(){t.resendEmailPasscode(e)}))}});case"waitForTmsStatus":return(0,de.jsx)(De,{timer:t.tmsTimer,maskedPhoneNumber:t.maskedPhoneNumber,currentCountry:t.currentCountry,isTalkThird:t.isTalkThird,exceedAllowedCountryLimit:t.exceedAllowedCountryLimit,gotoEmailPasscode:function(){return t.startWithEmail()},onSubmit:function(){return t.pollTms()},onChange:function(e){return t.addTmsPollingParam(e)}})}return null}));function Le(e){var t=e.type,n=(0,$.Z)(e,Ze);switch(t){case"blockAllowCountry":return(0,de.jsx)(oe.uc,Ae({scope:"dialog.block"},n));case"exceedAllowCountryLimit":return(0,de.jsx)(oe.uc,Ae({scope:"dialog.exceed_allow_country_limit"},n));case"verifyTimeout":return(0,de.jsx)(oe.uc,Ae({scope:"dialog.verify_timeout"},n));case"resendEmail":return(0,de.jsx)(oe.UO,Ae({scope:"dialog.resend_email_passcode"},n));default:return null}}var Re=(0,s.Pi)((function(e){var t=e.emails,n=e.onSubmit,i=(0,G.Z)({scope:"page_select_email"}).t,r=(0,k.cI)({fields:[{name:"email",type:"radio",validator:Pe.kI.not_blank}],values:{email:t.length>0?t[0].email:""},onSubmit:n});return(0,de.jsx)(q.Z,{children:(0,de.jsx)("div",{className:"cont_login",children:(0,de.jsxs)("div",{className:"login_nation",children:[(0,de.jsxs)("h2",{className:"tit_g tit_certify",children:[i("title1"),(0,de.jsx)("br",{}),i("title2")]}),(0,de.jsx)("p",{className:"desc_g",children:i("desc1")}),(0,de.jsx)("div",{className:"login_certify",children:(0,de.jsxs)("form",{onSubmit:r.onSubmit,children:[(0,de.jsxs)("div",{className:"box_certify",children:[(0,de.jsx)("span",{className:"screen_out",children:i("screen_out.emails")}),(0,de.jsx)("div",{className:"wrap_inp",children:t&&t.map((function(e,t){return(0,de.jsx)(X.gu,{id:"r_email_".concat(t),field:r.$("email"),label:e.maskedEmail,value:e.email},t)}))})]}),(0,de.jsx)("p",{className:"desc_info",children:i("tip")}),(0,de.jsx)("div",{className:"confirm_btn",children:(0,de.jsx)(X.k4,{form:r,highlighted:!1,children:i("submit")})})]})})]})})})})),Ue=(0,s.Pi)((function(e){var t=e.timer,n=e.email,i=e.currentCountry,r=e.exceedAllowedCountryLimit,o=e.onResend,s=e.gotoStart,a=e.onSubmit,c=(0,G.Z)({scope:"page_verify_email_passcode"}).t,l=[k.FU.emailPasscode];i&&!r&&l.push(k.FU.isAddCurrentCountry);var u=(0,k.cI)({fields:l,onSubmit:a}),d=(0,le.Z)({timer:t}).time;return(0,de.jsx)(q.Z,{children:(0,de.jsx)("div",{className:"cont_login",children:(0,de.jsxs)("div",{className:"login_nation",children:[(0,de.jsxs)("h2",{className:"tit_g tit_certify",children:[c("title1"),(0,de.jsx)("br",{}),c("title2")]}),(0,de.jsxs)("p",{className:"desc_g",children:[c("desc1"),(0,de.jsx)("br",{}),c("desc2")]}),(0,de.jsxs)("div",{className:"login_certify",children:[(0,de.jsxs)("form",{onSubmit:u.onSubmit,children:[(0,de.jsxs)("div",{className:"box_certify",children:[(0,de.jsx)("span",{className:"screen_out",children:c("screen_out.email")}),(0,de.jsxs)("strong",{className:"info_address",children:[" ",n.maskedEmail," "]}),(0,de.jsxs)("span",{className:"txt_time",children:[c("remains")," ",d]})]}),(0,de.jsx)(X.UP,{field:u.$(k.FU.emailPasscode.name),right:{type:"button",text:c("resend"),onClick:function(){return o(u)}},autoFocus:!0}),u.has("isAddCurrentCountry")&&(0,de.jsx)(Fe,{field:u.$(k.FU.isAddCurrentCountry.name),currentCountry:i}),r&&(0,de.jsx)(Ve,{}),(0,de.jsx)("div",{className:"confirm_btn",children:(0,de.jsx)(X.k4,{form:u,highlighted:!1,children:c("submit")})})]}),(0,de.jsx)("a",{className:"link_certify",onClick:function(e){e.preventDefault(),s()},children:c("link")})]})]})})})})),De=(0,s.Pi)((function(e){var t=e.timer,n=e.maskedPhoneNumber,i=e.isTalkThird,r=e.exceedAllowedCountryLimit,o=e.currentCountry,s=e.gotoEmailPasscode,a=e.onSubmit,c=e.onChange,l=i?"page_verify_tms.talk_third":"page_verify_tms",u=(0,G.Z)({scope:l}).t,d=[];o&&!r&&d.push(Ae(Ae({},k.FU.isAddCurrentCountry),{},{hooks:{onChange:c}}));var h=(0,k.cI)({fields:d,onSubmit:a}),m=(0,le.Z)({timer:t}).time;return(0,de.jsx)(q.Z,{children:(0,de.jsx)("div",{className:"cont_login",children:(0,de.jsxs)("div",{className:"login_nation",children:[(0,de.jsxs)("h2",{className:"tit_g tit_certify",children:[u("title1"),(0,de.jsx)("br",{}),u("title2")]}),(0,de.jsxs)("p",{className:"desc_g",children:[u("desc1"),(0,de.jsx)("br",{}),u("desc2"),(0,de.jsx)("br",{}),i&&u("desc3")]}),(0,de.jsxs)("div",{className:"login_certify",children:[(0,de.jsxs)("div",{className:"box_certify",children:[(0,de.jsx)("span",{className:"screen_out",children:u("screen_out.phone")}),(0,de.jsx)("strong",{className:"info_address",children:n}),(0,de.jsxs)("span",{className:"txt_time",children:[u("remains")," ",m]})]}),h.has("isAddCurrentCountry")&&(0,de.jsx)(Fe,{field:h.$(k.FU.isAddCurrentCountry.name),currentCountry:o}),r&&(0,de.jsx)(Ve,{}),(0,de.jsx)("a",{className:"link_certify",onClick:s,children:u("link")})]})]})})})})),Fe=(0,s.Pi)((function(e){var t=e.field,n=e.currentCountry,i=(0,$.Z)(e,Oe),r=(0,G.Z)({scope:"allow_current_country"}).t,o=r(n.toLowerCase(),{scope:"region"}),s=(0,de.jsxs)("span",{className:"txt_check",children:[r("title"),(0,de.jsx)("span",{className:"txt_sub",children:r("desc",{country:o})})]});return(0,de.jsx)(X.J7,Ae({className:"item_certify",field:t,label:s},i))})),Ve=function(){var e=(0,G.Z)({scope:"allow_current_country"}).t;return(0,de.jsxs)(de.Fragment,{children:[(0,de.jsxs)("strong",{className:"tit_excess",children:[" ",(0,de.jsx)("span",{className:"ico_account ico_warning"}),e("limit.title")]}),(0,de.jsx)("p",{className:"desc_excess",children:e("limit.desc")})]})},Me=["type"];function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=(0,s.Pi)((function(e){var t=e.store;switch((0,r.useEffect)((function(){t.loadDialogs("two_step_verification",Qe)}),[]),t.step){case"tmsTwoStepVerification":return(0,de.jsx)(Ye,{timer:t.tmsTimer,maskedPhoneNumber:t.maskedPhoneNumber,verifyWithEmail:function(){return t.gotoVerifyEmail()},onChange:function(e){return t.updateTmsPollingParams(e)}});case"smsTwoStepVerification":return(0,de.jsx)($e,{timer:t.smsTimer,maskedPhoneNumber:t.maskedPhoneNumber,onResend:function(e){return t.resendSMS(e)},onSubmit:function(e){return t.checkSMSPasscode(e)},verifyWithEmail:function(){return t.gotoVerifyEmail()}});case"emailTwoStepVerification":return(0,de.jsx)(Ge,{timer:t.emailTimer,maskedEmail:t.maskedEmail,onResend:function(e){return t.resendEmailPasscode(e)},onSubmit:function(e){return t.checkEmailPasscode(e)},gotoStart:function(){return t.gotoStart()}});default:return null}}));function Qe(e){var t=e.type,n=(0,$.Z)(e,Me);switch(t){case"resendSmsPasscode":return(0,de.jsx)(oe.UO,We({scope:"dialog.resend_sms_passcode"},n));case"resendEmailPasscode":return(0,de.jsx)(oe.UO,We({scope:"dialog.resend_email_passcode"},n));case"exceedRequestLimit":return(0,de.jsx)(oe.uc,We({scope:"dialog.exceed_request_limit"},n));case"timeout":return(0,de.jsx)(oe.uc,We({scope:"dialog.verify_timeout"},n));case"blockedTwoStepVerification":return(0,de.jsx)(oe.uc,We({scope:"dialog.verify_blocked"},n));default:return null}}var Ye=(0,s.Pi)((function(e){var t=e.timer,n=e.maskedPhoneNumber,i=e.verifyWithEmail,r=e.onChange,o=(0,G.Z)({scope:"two_step_verification"}).t,s=(0,k.cI)({fields:[We(We({},k.FU.rememberBrowser),{},{hooks:{onChange:r}})],onSubmit:function(){}}),a=(0,le.Z)({timer:t}).time;return(0,de.jsx)(q.Z,{children:(0,de.jsxs)("div",{className:"cont_login",children:[(0,de.jsx)("h2",{className:"tit_g tit_certify",children:o("verify.title")}),(0,de.jsxs)("div",{className:"login_certify",children:[(0,de.jsxs)("p",{className:"desc_g",children:[o("verify.tms.desc1"),(0,de.jsx)("br",{}),o("verify.tms.desc2")]}),(0,de.jsxs)("div",{className:"box_certify",children:[(0,de.jsx)("span",{className:"screen_out",children:o("verify.phone_number")}),(0,de.jsx)("strong",{className:"info_address",children:n}),(0,de.jsxs)("span",{className:"txt_time",children:[o("verify.remain_time")," ",a]})]}),(0,de.jsx)(X.J7,{field:s.$(k.FU.rememberBrowser.name),label:o("verify.remember_browser")}),(0,de.jsx)("a",{className:"link_certify",onClick:i,children:o("change_to_email")})]})]})})})),$e=(0,s.Pi)((function(e){var t=e.timer,n=e.maskedPhoneNumber,i=e.onSubmit,r=e.onResend,o=e.verifyWithEmail,s=(0,G.Z)({scope:"two_step_verification"}).t,a=(0,k.cI)({fields:[k.FU.smsPasscode,k.FU.rememberBrowser],onSubmit:i}),c=(0,le.Z)({timer:t}).time;return(0,de.jsx)(q.Z,{children:(0,de.jsxs)("div",{className:"cont_login",children:[(0,de.jsx)("h2",{className:"tit_g tit_certify",children:s("verify.title")}),(0,de.jsxs)("div",{className:"login_certify",children:[(0,de.jsxs)("p",{className:"desc_g",children:[s("verify.sms.desc"),(0,de.jsx)("br",{}),s("verify.enter_passcode")]}),(0,de.jsxs)("form",{onSubmit:a.onSubmit,children:[(0,de.jsxs)("div",{className:"box_certify",children:[(0,de.jsx)("span",{className:"screen_out",children:s("verify.phone_number")}),(0,de.jsx)("strong",{className:"info_address",children:n}),(0,de.jsxs)("span",{className:"txt_time",children:[s("verify.remain_time")," ",c]})]}),(0,de.jsx)(X.UP,{field:a.$(k.FU.smsPasscode.name),right:{type:"button",text:s("resend"),onClick:function(){return r(a)}},autoFocus:!0}),(0,de.jsx)(X.J7,{field:a.$(k.FU.rememberBrowser.name),label:s("verify.remember_browser")}),(0,de.jsx)("div",{className:"confirm_btn",children:(0,de.jsx)(X.k4,{form:a,children:s("submit")})}),(0,de.jsx)("a",{className:"link_certify",onClick:o,children:s("change_to_email")})]})]})]})})})),Ge=(0,s.Pi)((function(e){var t=e.timer,n=e.maskedEmail,i=e.onSubmit,r=e.onResend,o=e.gotoStart,s=(0,G.Z)({scope:"two_step_verification"}).t,a=(0,k.cI)({fields:[k.FU.emailPasscode,k.FU.rememberBrowser],onSubmit:i}),c=(0,le.Z)({timer:t}).time;return(0,de.jsx)(q.Z,{children:(0,de.jsxs)("div",{className:"cont_login",children:[(0,de.jsx)("h2",{className:"tit_g tit_certify",children:s("verify.title")}),(0,de.jsxs)("div",{className:"login_certify",children:[(0,de.jsxs)("p",{className:"desc_g",children:[s("verify.email.desc"),(0,de.jsx)("br",{}),s("verify.enter_passcode")]}),(0,de.jsxs)("form",{onSubmit:a.onSubmit,children:[(0,de.jsxs)("div",{className:"box_certify",children:[(0,de.jsx)("span",{className:"screen_out",children:s("verify.email")}),(0,de.jsx)("strong",{className:"info_address",children:n}),(0,de.jsxs)("span",{className:"txt_time",children:[s("verify.remain_time")," ",c]})]}),(0,de.jsx)(X.UP,{field:a.$(k.FU.emailPasscode.name),right:{type:"button",text:s("resend"),onClick:function(){return r(a)}},autoFocus:!0}),(0,de.jsx)(X.J7,{field:a.$(k.FU.rememberBrowser.name),label:s("verify.remember_browser")}),(0,de.jsx)("div",{className:"confirm_btn",children:(0,de.jsx)(X.k4,{form:a,children:s("submit")})}),(0,de.jsx)("a",{className:"link_certify",onClick:o,children:s("back_to_start")})]})]})]})})})),qe=n(51978),Xe=n.n(qe),He=n(63050),Je=n.n(He),ze=n(82740),et=n.n(ze),tt=n(25806),nt=(0,s.Pi)((function(e){var t=e.children,n=(0,a.oR)().pageStore.page||"",i=function(){switch(n){case"webTalkLogin":return Xe().root;case"deviceFormLogin":return et().root;default:return Je().root}}(),r=function(){switch(n){case"login":case"webTalkLogin":case"deviceFormLogin":return"logo";default:return}}();return(0,de.jsx)(tt.P,{className:it(n),layoutStyle:i,headerType:r,showFooter:!0,children:t})}));function it(e){if("webTalkLogin"===e)return"login_talk"}var rt=n(66242);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=(0,s.Pi)((function(e){var t=e.store,n=(0,a.x6)("login",(function(){return new K(t).start()}));return(0,de.jsxs)(nt,{children:[(0,de.jsx)(ve,{store:n}),(0,de.jsx)(Ie,{store:n.allowCountryStore}),(0,de.jsx)(Ke,{store:n.twoStepVerificationStore}),(0,de.jsx)(rt.Uu,{store:n.actionPenaltyVerificationStore})]})})),ct=(0,o.Z)("login",(function(e){var t={os:"android",showQrLogin:!1,showIpSecurity:!1,showWebTalkLogin:!1,showStaySignIn:!0,linkParams:{mode:e&&e.mode},commonParams:{mode:e&&e.mode}};return e&&e.showCaptcha&&(t=st(st({},t),{},{needCaptcha:!0})),e&&e.showQrLogin&&(t=st(st({},t),{},{showWebTalkLogin:!1,showQrLogin:!0})),e&&e.showIpSecurity&&(t=st(st({},t),{},{showIpSecurity:!0})),e&&e.talk_login_error&&(t=st(st({},t),{},{isTalkLoginError:"true"===e.talk_login_error})),e&&e.use_simple_login&&(t=st(st({},t),{},{useSimpleLogin:"true"===e.use_simple_login})),e&&e.showWebTalkLogin&&(t=st(st({},t),{},{showWebTalkLogin:!0})),e&&e.showDeviceFormLogin&&(t=st(st({},t),{},{showWebTalkLogin:!1,showDeviceFormLogin:!0,showFooter:!1})),t}))(at)},33509:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/login",function(){return n(33199)}])},63050:function(e){e.exports={root:"BoxLayout_root__Ya1Da",rotate:"BoxLayout_rotate__eb0bd"}},51978:function(e){e.exports={root:"TalkLogin_root__6jxI0"}},82740:function(e){e.exports={root:"WideDeviceLogin_root__SFfc_"}},27812:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(52587);var r=n(2937);function o(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[53662,70368,74534,54763,70224,3889,49774,92888,40179],(function(){return t=33509,e(e.s=t);var t}));var t=e.O();_N_E=t}]);